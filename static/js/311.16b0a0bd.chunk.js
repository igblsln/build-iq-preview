"use strict";(self.webpackChunkbuild_iq_app=self.webpackChunkbuild_iq_app||[]).push([[311],{3311:function(e,t,l){l.r(t),l.d(t,{default:function(){return mn}});var n=l(969),a=l(734),i=l(7039),r=l(4756),o=l(553),c=function(e,t){return(0,i.E7)("/".concat(o.o,"/").concat(e)+(t?"/comming-soon":""))},s=[{label:"Structure",className:"biq-dropdown-panelmenu",items:[{label:"Accessories",icon:"pi ml-3",template:c("accesories",!0)},{label:"Basement",icon:"pi ml-3",template:c("basement",!0)},{label:"Brickwork",icon:"pi ml-3",template:c("brickwork",!0)},{label:"Column",icon:"pi ml-3",template:c("column",!0)},{label:"Plastering",icon:"pi ml-3",template:c("plastering",!0)},{label:"Roof",icon:"pi ml-3",template:c("roof",!0)},{label:"Staircase",icon:"pi ml-3",template:c("staricase",!0)},{label:"Tank Details",icon:"pi ml-3",template:c("tankdetails",!0)},{label:"Terrace",icon:"pi ml-3",template:c("terrace",!0)}]},{label:"Material Pack",icon:"pi ml-3",className:"biq-panelmenu",template:c("fractionalmaterial"),altUrls:"/estimation/wholematerial"},{label:"Rod Pack",icon:"pi ml-3",className:(0,r.AK)("biq-panelmenu"),template:c("fractionalrod"),altUrls:"/estimation/wholerod"},{label:"Components",className:"biq-dropdown-panelmenu",items:[{label:"Beam",icon:"pi ml-3",template:c("beam")},{label:"Footing",icon:"pi ml-3",template:c("columnfooting")},{label:"Cupboard",icon:"pi ml-3",template:c("cupboard")},{label:"Tank",icon:"pi ml-3",template:c("generictank")},{label:"Kitchen Stage",icon:"pi ml-3",template:c("kitchenstage")},{label:"Lintel",icon:"pi ml-3",template:c("lintelbeam")},{label:"Slab",icon:"pi ml-3",template:c("slab")},{label:"Staircase Slab",icon:"pi ml-3",template:c("staircaseslab")}]},{label:"Bill of Quantity",icon:"pi ml-3",className:"biq-panelmenu",template:c("billofquantity",!0)},{label:"Cost Estimation",icon:"pi ml-3",className:"biq-panelmenu",template:c("costestimation",!0)}],d=l(2723),u=l(6234),m=l(3953),p=l(7765),v=l(9459);function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e},f.apply(this,arguments)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var l=0,n=new Array(t);l<t;l++)n[l]=e[l];return n}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var l=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=l){var n,a,i=[],r=!0,o=!1;try{for(l=l.call(e);!(r=(n=l.next()).done)&&(i.push(n.value),!t||i.length!==t);r=!0);}catch(c){o=!0,a=c}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"===typeof e)return y(e,t);var l=Object.prototype.toString.call(e).slice(8,-1);return"Object"===l&&e.constructor&&(l=e.constructor.name),"Map"===l||"Set"===l?Array.from(e):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g=n.memo(n.forwardRef((function(e,t){var l=E(n.useState(!1),2),a=l[0],i=l[1],o=n.useRef(null),c=n.useRef(e.inputRef),s=function(e){c.current.checked=!0,d(e)},d=function(t){!e.disabled&&e.onChange&&(e.onChange({originalEvent:t,value:e.value,checked:!e.checked,stopPropagation:function(){},preventDefault:function(){},target:{name:e.name,id:e.id,value:e.value,checked:!e.checked}}),c.current.checked=!e.checked,r.p7.focus(c.current))};n.useEffect((function(){c.current&&(c.current.checked=e.checked)}),[e.checked]),n.useEffect((function(){r.gb.combinedRefs(c,e.inputRef)}),[c,e.inputRef]),n.useImperativeHandle(t,(function(){return{select:s}}));var u=r.gb.isNotEmpty(e.tooltip),m=r.gb.findDiffKeys(e,g.defaultProps),p=(0,r.AK)("p-radiobutton p-component",{"p-radiobutton-checked":e.checked,"p-radiobutton-disabled":e.disabled,"p-radiobutton-focused":a},e.className),y=(0,r.AK)("p-radiobutton-box",{"p-highlight":e.checked,"p-disabled":e.disabled,"p-focus":a});return n.createElement(n.Fragment,null,n.createElement("div",f({ref:o,id:e.id,className:p,style:e.style},m,{onClick:d}),n.createElement("div",{className:"p-hidden-accessible"},n.createElement("input",{ref:c,id:e.inputId,type:"radio",name:e.name,defaultChecked:e.checked,"aria-labelledby":e["aria-labelledby"],"aria-label":e["aria-label"],onFocus:function(){i(!0)},onBlur:function(){i(!1)},disabled:e.disabled,required:e.required,tabIndex:e.tabIndex})),n.createElement("div",{className:y},n.createElement("div",{className:"p-radiobutton-icon"}))),u&&n.createElement(v.u,f({target:o,content:e.tooltip},e.tooltipOptions)))})));g.displayName="RadioButton",g.defaultProps={__TYPE:"RadioButton",id:null,inputRef:null,inputId:null,name:null,value:null,checked:!1,style:null,className:null,disabled:!1,required:!1,tabIndex:null,tooltip:null,tooltipOptions:null,"aria-label":null,"aria-labelledby":null,onChange:null};var b=l(6770),h=l(8224),N=l(8079),k=l(690),L="/estimation/fractional/material/",w=k.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listFractionalMaterial:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,k.DS)(L,"?page=".concat(t||1,"&page_size=").concat(l||k.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,N.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:k.pJ.FRACTIONAL_MATERIAL_PACK,key:t}}))),[{type:k.pJ.FRACTIONAL_MATERIAL_PACK,id:"LIST"}]):[{type:k.pJ.FRACTIONAL_MATERIAL_PACK,id:"LIST"}]}}),addFractionalMaterial:e.mutation({query:function(e){return{url:L,method:"POST",body:e}},invalidatesTags:[{type:k.pJ.FRACTIONAL_MATERIAL_PACK,id:"LIST"}]}),getFractionalMaterial:e.query({query:function(e){return"".concat(L).concat(e)},providesTags:function(e,t,l){return[{type:k.pJ.FRACTIONAL_MATERIAL_PACK,id:l}]}}),updateFractionalMaterial:e.mutation({query:function(e){var t=e;return{url:"".concat(L),method:"POST",body:t}},invalidatesTags:function(e){return[{type:k.pJ.FRACTIONAL_MATERIAL_PACK,id:null===e||void 0===e?void 0:e.key}]}}),deleteFractionalMaterial:e.mutation({query:function(e){return{url:"".concat(L).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:k.pJ.FRACTIONAL_MATERIAL_PACK,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),S=w.useAddFractionalMaterialMutation,j=w.useDeleteFractionalMaterialMutation,_=w.useGetFractionalMaterialQuery,O=w.useListFractionalMaterialQuery,T=w.useUpdateFractionalMaterialMutation,A=(w.useGetErrorProneQuery,l(4576)),x="fractionalmaterial",C="Fractional Material Pack",P=(0,n.forwardRef)((function(e,t){var l=e.data,a=e.isLoading,r=e.disableTable,o=void 0!==r&&r,c=e.selectedItemType,s=e.onChange,d=void 0===s?function(){}:s,m=(0,n.useState)([]),p=(0,u.Z)(m,2),v=p[0],f=p[1],y=(0,n.useRef)(v),E=(0,n.useRef)([]),g=(0,n.useRef)([]),N=(0,k.qu)(c,{skip:!c}),L=N.data,w=(N.isLoading,(0,k.U$)(c,{skip:!c})),S=w.data;w.isLoading;(0,n.useImperativeHandle)(t,(function(){return{getItems:function(){return v}}})),(0,n.useEffect)((function(){f(l),y.current=l}),[l]),(0,n.useEffect)((function(){E.current=(null===L||void 0===L?void 0:L.results)||[],g.current=S||[]}),[L,S]);return n.createElement(i.PS,{baseRoute:"/estimation/".concat(x),description:C,isLoading:a,data:v,newTable:!0,tableLayoutClass:"h-full",allowFilters:!1,hideActionColumn:o,actionBodyTemplate:function(e){return n.createElement(b.z,{style:{height:"35px",width:"20px",marginLeft:20},type:"button",onClick:function(){(0,A.V)({message:"Are you sure you want to Delete Item?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){return function(e){var t=y.current.filter((function(t){return t!==e}));y.current=t,f(t)}(e)},reject:function(){}})},className:"p-button-rounded p-button-text",icon:"pi pi-trash"})},gridProps:{allowAdd:!0,disableAdd:o||!(0,k.pH)(v),OnRowsChanged:function(e){var t=e;f(t),y.current=t,d(!0)}}},n.createElement(i._P,{field:"item_key",width:"35%",header:"Item Description*",displayValueGetter:function(e,t){var l,n;if(!Array.isArray(e)){var a=null===(l=E.current)||void 0===l?void 0:l.filter((function(l){return l.key===e[t]}));return a.length?a[0].descr:null===(n=null===e||void 0===e?void 0:e.items)||void 0===n?void 0:n.descr}},editorType:!o&&function(e){var t=e.row,l=e.column,a=e.onRowChange;e.onClose;return n.createElement(h.L,{autoFocus:!0,style:{width:"100%"},className:"p-inputtext-sm",value:t[l.key],optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:E.current,onChange:function(e){var n,i=Object.assign({},t);i[l.key]=e.value;var r=null===(n=E.current.filter((function(t){return t.key===e.value}))[0])||void 0===n?void 0:n.itemuom_key;i.itemuom_key=r,a(i,!0)},tabIndex:-1})}}),n.createElement(i._P,{field:"itemuom_key",width:"20%",header:"UOM*",displayValueGetter:function(e,t){var l,n;if(!Array.isArray(e)){var a=null===(l=g.current)||void 0===l?void 0:l.filter((function(l){return l.key===e[t]}));return a.length?a[0].descr:null===(n=null===e||void 0===e?void 0:e.items_uoms)||void 0===n?void 0:n.descr}},editorType:!o&&function(e){var t=e.row,l=e.column,a=e.onRowChange;e.onClose;return n.createElement(h.L,{autoFocus:!0,style:{width:"100%"},className:"p-inputtext-sm",value:t[l.key],optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:g.current,onChange:function(e){var n=Object.assign({},t);n[l.key]=e.value,a(n,!0)},tabIndex:-1})}}),n.createElement(i._P,{field:"qty",header:"Quantity",type:"number",editorType:!o&&"number"}),n.createElement(i._P,{width:"30%",field:"purpose",header:"Purpose",type:"text",editorType:!o&&"text"}))})),q=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},I=function(e){var t=(0,i.pm)(),l=t.showSuccess,o=t.showError,c=(0,n.useState)(!1),s=(0,u.Z)(c,2),v=s[0],f=s[1],y=(0,n.useState)(!1),E=(0,u.Z)(y,2),N=E[0],L=E[1],w=(0,n.useState)({}),j=(0,u.Z)(w,2),O=j[0],A=j[1],x=(0,a.s0)(),I=(0,a.UO)().id,K=parseInt(I||""),R=isNaN(K)||K<=0,F=(0,n.useRef)(),B=(0,n.useRef)(),Q=(0,a.TH)().state;!Q&&R&&x("/estimation/fractionalmaterial");var W=(0,k.ft)(),M=_(K,{skip:R,refetchOnMountOrArgChange:!0}),Z=M.data,D=M.isLoading,V=(0,k.JB)(),H=V.data,U=V.isLoading,J=(0,k.cQ)({projectId:null===Q||void 0===Q?void 0:Q.projectKey},{skip:!(null===Q||void 0===Q?void 0:Q.projectKey)}),z=J.data,G=(J.isLoading,(0,n.useState)([])),X=(0,u.Z)(G,2),Y=X[0],$=X[1],ee=(0,n.useState)(null),te=(0,u.Z)(ee,2),le=te[0],ne=te[1],ae=(0,n.useState)({}),ie=(0,u.Z)(ae,2),re=ie[0],oe=ie[1],ce=(0,k.DU)(),se=ce.data,de=ce.isFetching,ue=(0,k.U$)(le,{skip:!le}),me=ue.data,pe=(ue.isLoading,S()),ve=(0,u.Z)(pe,2),fe=ve[0],ye=ve[1].isLoading,Ee=T(),ge=(0,u.Z)(Ee,2),be=ge[0],he=ge[1].isLoading;(0,n.useEffect)((function(){A(Z||Object.assign(Object.assign({},W),{proj_key:null===Q||void 0===Q?void 0:Q.projectKey,projblk_key:null===Q||void 0===Q?void 0:Q.blockKey})),Z&&($((null===Z||void 0===Z?void 0:Z.items)||[]),ne(Z.itemtyp_key))}),[Z]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/fractionalmaterial",description:C,id:K,data:O,isUpdating:ye||he||v,ref:B,isItemsTableChanged:N,isLoading:D,onSubmit:function(e){return q(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a,i,r;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=null===(n=F.current)||void 0===n?void 0:n.getItems(),r=Object.assign(Object.assign({},e),{itemtyp_key:le,items:i}),!R){t.next=9;break}return t.next=6,fe(Object.assign(Object.assign({},r),W)).unwrap();case 6:a=t.sent,t.next=12;break;case 9:return t.next=11,be(Object.assign(Object.assign(Object.assign({},r),W),{key:null===Z||void 0===Z?void 0:Z.key})).unwrap();case 11:a=t.sent;case 12:l("Success",a.detail),f(!0),setTimeout((function(){x("/estimation/fractionalmaterial")}),k.P7),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),o("An error occurred","We couldn't save your post, try again!");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))},renderForm:function(e,t,l,a){var o,c;return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:U,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:H}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===z||void 0===z?void 0:z.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(b.z,{disabled:!0,label:"Clear"})),n.createElement("div",{className:"pl-5 col-12 flex"},n.createElement("div",{className:"field",style:{width:"50%"}},n.createElement("div",{className:"field-radiobutton"},n.createElement(g,{name:"fractional",checked:!0}),n.createElement("label",null,"Fractional"))),n.createElement("div",{className:"field",style:{width:"50%"}},n.createElement("div",{className:"field-radiobutton"},n.createElement(g,{onChange:function(){x("/estimation/wholematerial/new",{state:{projectKey:Q.projectKey,blockKey:Q.blockKey}})}}),n.createElement("label",{style:{cursor:"pointer"},onClick:function(){x("/estimation/wholematerial/new")}},"Whole")))),n.createElement(i.Wi,{label:"Material Pack Name",className:"col-12",required:!0,name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,useExplicit:!0,onChange:function(e){oe(Object.assign(Object.assign({},re),{name:e.target.value}))},formItem:{component:p.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Item Type",name:"itemtyp_key",className:"col-12",control:e,errors:l,isLoading:de,leftSpan:2,rightSpan:4,required:!0,useExplicit:!0,onChange:function(e){ne(e.value)},formItem:{component:h.L,componentProps:{optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:null===se||void 0===se?void 0:se.results,value:le}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex",style:{marginBottom:0}},n.createElement("label",{className:"col-2",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"base_qty",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid}),onChange:function(e){oe(Object.assign(Object.assign({},re),{base_qty:e.target.value})),t.onChange(e)}}))}}),(0,i.Hb)(null===(o=null===l||void 0===l?void 0:l.base_qty)||void 0===o?void 0:o.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",onChange:function(e){oe(Object.assign(Object.assign({},re),{uom:null===me||void 0===me?void 0:me.filter((function(t){return t.key===e.target.value}))[0].descr})),t.onChange(e)},options:me}))}}),(0,i.Hb)(null===(c=null===l||void 0===l?void 0:l.uom_key)||void 0===c?void 0:c.message)),n.createElement("div",{className:"col-6"})),n.createElement(i.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:l,leftSpan:2,rightSpan:6,formItem:{component:p.o,componentProps:{style:{marginTop:"1rem"},maxLength:100}}}),n.createElement("div",{className:"col-12",style:{fontWeight:"bolder",fontSize:24}},"Material List required for ",n.createElement("i",null," ",(null===re||void 0===re?void 0:re.base_qty)||"<Base Qty>")," ",n.createElement("i",null,(null===re||void 0===re?void 0:re.uom)||"<UOM>")," of ",n.createElement("i",null,(null===re||void 0===re?void 0:re.name)||"<Name>")),n.createElement("div",{className:"col-12 ",style:{height:"calc(100% - 183px)",minHeight:200}},n.createElement(P,{selectedItemType:le,data:Y,isLoading:D,ref:F,onChange:function(e){return!N&&L(e)}})))}}))},K=l(8356),R=l(6822),F=function(e){var t=j(),l=(0,u.Z)(t,2),o=l[0],c=l[1].isLoading,s=(0,n.useState)(null),d=(0,u.Z)(s,2),m=d[0],p=d[1],v=(0,n.useState)(null),f=(0,u.Z)(v,2),y=f[0],E=f[1],N=(0,k.dx)({}).data,L=(0,a.s0)(),w=(0,k.cQ)({projectId:m},{skip:!m}),S=w.data,_=(w.isLoading,O({projectId:m,blockId:y},{skip:!m||!y})),T=_.data,A=_.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},"Material Pack"),n.createElement(R.rU,{to:{pathname:"/estimation/fractionalmaterial/new"},state:{projectKey:m,blockKey:y},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(b.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(K.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"50%"}},n.createElement("div",{className:"field-radiobutton"},n.createElement(g,{name:"fractional",checked:!0}),n.createElement("label",null,"Fractional"))),n.createElement("div",{className:"field",style:{width:"50%"}},n.createElement("div",{className:"field-radiobutton"},n.createElement(g,{onChange:function(){L("/estimation/wholematerial")}}),n.createElement("label",{style:{cursor:"pointer"},onClick:function(){L("/estimation/wholematerial")}},"Whole")))),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:m,filter:!0,filterBy:"name",onChange:function(e){p(e.value),E(null)},options:null===N||void 0===N?void 0:N.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:y,filter:!0,filterBy:"descr",onChange:function(e){E(e.value)},options:null===S||void 0===S?void 0:S.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(b.z,{label:"Clear",onClick:function(e){e.preventDefault(),p(null),E(null)}}))),n.createElement(K.i,null),n.createElement(i.PS,{baseRoute:"/estimation/fractionalmaterial",description:"Material Pack",isLoading:A||c,data:null===T||void 0===T?void 0:T.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return o(e).unwrap()}},n.createElement(i._P,{field:"pack_type",header:"Pack Type",filteringType:"text"}),n.createElement(i._P,{field:"name",header:"Material Name",filteringType:"text"}),n.createElement(i._P,{field:"item_type",header:"Item Type",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"})))},B=n.createElement(a.AW,{path:"fractionalmaterial"},n.createElement(a.AW,{path:"new",element:n.createElement(I,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(I,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(F,null)})),Q=B,W="/estimation/fractional/rod/",M=k.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listFractionalRod:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,k.DS)(W,"?page=".concat(t||1,"&page_size=").concat(l||k.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,N.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:k.pJ.FRACTIONAL_ROD_PACK,key:t}}))),[{type:k.pJ.FRACTIONAL_ROD_PACK,id:"LIST"}]):[{type:k.pJ.FRACTIONAL_ROD_PACK,id:"LIST"}]}}),addFractionalRod:e.mutation({query:function(e){return{url:W,method:"POST",body:e}},invalidatesTags:[{type:k.pJ.FRACTIONAL_ROD_PACK,id:"LIST"}]}),getFractionalRod:e.query({query:function(e){return"".concat(W).concat(e)},providesTags:function(e,t,l){return[{type:k.pJ.FRACTIONAL_ROD_PACK,id:l}]}}),updateFractionalRod:e.mutation({query:function(e){var t=e;return{url:"".concat(W),method:"POST",body:t}},invalidatesTags:function(e){return[{type:k.pJ.FRACTIONAL_ROD_PACK,id:null===e||void 0===e?void 0:e.key}]}}),deleteFractionalRod:e.mutation({query:function(e){return{url:"".concat(W).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:k.pJ.FRACTIONAL_ROD_PACK,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),Z=M.useAddFractionalRodMutation,D=M.useDeleteFractionalRodMutation,V=M.useGetFractionalRodQuery,H=M.useListFractionalRodQuery,U=M.useUpdateFractionalRodMutation,J=(M.useGetErrorProneQuery,"Rod Pack"),z=(0,n.forwardRef)((function(e,t){var l=e.data,a=e.isLoading,r=e.disableTable,o=void 0!==r&&r,c=e.selectedItemType,s=e.onChange,d=void 0===s?function(){}:s,m=(0,n.useState)([]),p=(0,u.Z)(m,2),v=p[0],f=p[1],y=(0,n.useRef)(v),E=(0,n.useRef)([]),g=(0,n.useRef)([]),N=(0,k.qu)(c,{skip:!c}),L=N.data,w=(N.isLoading,(0,k.U$)(c,{skip:!c})),S=w.data;w.isLoading;(0,n.useImperativeHandle)(t,(function(){return{getItems:function(){return v}}})),(0,n.useEffect)((function(){f(l),y.current=l}),[l]),(0,n.useEffect)((function(){E.current=(null===L||void 0===L?void 0:L.results)||[],g.current=S||[]}),[L,S]);return n.createElement(i.PS,{baseRoute:"/estimation/".concat("fractionalrod"),description:J,isLoading:a,data:v,newTable:!0,tableLayoutClass:"h-full",allowFilters:!1,hideActionColumn:o,actionBodyTemplate:function(e){return n.createElement(b.z,{style:{height:"35px",width:"20px",marginLeft:20},type:"button",onClick:function(){(0,A.V)({message:"Are you sure you want to Delete Item?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){return function(e){var t=y.current.filter((function(t){return t!==e}));y.current=t,f(t)}(e)},reject:function(){}})},className:"p-button-rounded p-button-text",icon:"pi pi-trash"})},gridProps:{allowAdd:!0,disableAdd:o||!(0,k.pH)(v),OnRowsChanged:function(e){var t=e;f(t),y.current=t,d(!0)}}},n.createElement(i._P,{field:"item_key",width:"25%",header:"Rod Size in MM*",displayValueGetter:function(e,t){var l,n;if(!Array.isArray(e)){var a=null===(l=E.current)||void 0===l?void 0:l.filter((function(l){return l.key===e[t]}));return a.length?a[0].descr:null===(n=null===e||void 0===e?void 0:e.items)||void 0===n?void 0:n.descr}},editorType:!o&&function(e){var t=e.row,l=e.column,a=e.onRowChange;e.onClose;return n.createElement(h.L,{autoFocus:!0,style:{width:"100%"},className:"p-inputtext-sm",value:t[l.key],optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:E.current,onChange:function(e){var n,i=Object.assign({},t);i[l.key]=e.value;var r=null===(n=E.current.filter((function(t){return t.key===e.value}))[0])||void 0===n?void 0:n.itemuom_key;i.itemuom_key=r,a(i,!0)},tabIndex:-1})}}),n.createElement(i._P,{field:"qty",header:"Rod Length",type:"number",editorType:!o&&"number"}),n.createElement(i._P,{field:"itemuom_key",header:"UOM*",displayValueGetter:function(e,t){var l,n;if(!Array.isArray(e)){var a=null===(l=g.current)||void 0===l?void 0:l.filter((function(l){return l.key===e[t]}));return a.length?a[0].descr:null===(n=null===e||void 0===e?void 0:e.items_uoms)||void 0===n?void 0:n.descr}},editorType:!o&&function(e){var t=e.row,l=e.column,a=e.onRowChange;e.onClose;return n.createElement(h.L,{autoFocus:!0,style:{width:"100%"},className:"p-inputtext-sm",value:t[l.key],optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:g.current,onChange:function(e){var n=Object.assign({},t);n[l.key]=e.value,a(n,!0)},tabIndex:-1})}}),n.createElement(i._P,{field:"qty",header:"Quantity",type:"number",editorType:!o&&"number"}),n.createElement(i._P,{width:"30%",field:"purpose",header:"Purpose",type:"text",editorType:!o&&"text"}))})),G=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},X=function(e){var t=(0,i.pm)(),l=t.showSuccess,o=t.showError,c=(0,n.useState)(!1),s=(0,u.Z)(c,2),v=s[0],f=s[1],y=(0,n.useState)(!1),E=(0,u.Z)(y,2),N=E[0],L=E[1],w=(0,n.useState)({}),S=(0,u.Z)(w,2),j=S[0],_=S[1],O=(0,a.s0)(),T=(0,a.UO)().id,A=parseInt(T||""),x=isNaN(A)||A<=0,C=(0,n.useRef)(),P=(0,n.useRef)(),q=(0,a.TH)().state;!q&&x&&O("/estimation/fractionalrod");var I=(0,k.ft)(),K=V(A,{skip:x,refetchOnMountOrArgChange:!0}),R=K.data,F=K.isLoading,B=(0,k.JB)(),Q=B.data,W=B.isLoading,M=(0,k.cQ)({projectId:null===q||void 0===q?void 0:q.projectKey},{skip:!(null===q||void 0===q?void 0:q.projectKey)}),D=M.data,H=(M.isLoading,(0,n.useState)([])),X=(0,u.Z)(H,2),Y=X[0],$=X[1],ee=(0,n.useState)(null),te=(0,u.Z)(ee,2),le=te[0],ne=te[1],ae=(0,n.useState)({}),ie=(0,u.Z)(ae,2),re=ie[0],oe=ie[1],ce=(0,k.DY)({}),se=ce.data,de=(ce.isLoading,Z()),ue=(0,u.Z)(de,2),me=ue[0],pe=ue[1].isLoading,ve=U(),fe=(0,u.Z)(ve,2),ye=fe[0],Ee=fe[1].isLoading;(0,n.useEffect)((function(){_(R||Object.assign(Object.assign({},I),{proj_key:null===q||void 0===q?void 0:q.projectKey,projblk_key:null===q||void 0===q?void 0:q.blockKey})),R&&($((null===R||void 0===R?void 0:R.items)||[]),ne(R.itemtyp_key))}),[R]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/fractionalrod",description:J,id:A,data:j,isUpdating:pe||Ee||v,ref:P,isItemsTableChanged:N,isLoading:F,onSubmit:function(e){return G(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a,i,r;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=null===(n=C.current)||void 0===n?void 0:n.getItems(),r=Object.assign(Object.assign({},e),{itemtyp_key:le,items:i}),!x){t.next=9;break}return t.next=6,me(Object.assign(Object.assign({},r),I)).unwrap();case 6:a=t.sent,t.next=12;break;case 9:return t.next=11,ye(Object.assign(Object.assign(Object.assign({},r),I),{key:null===R||void 0===R?void 0:R.key})).unwrap();case 11:a=t.sent;case 12:l("Success",a.detail),f(!0),setTimeout((function(){O("/estimation/fractionalrod")}),k.P7),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),o("An error occurred","We couldn't save your post, try again!");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))},renderForm:function(e,t,l,a){var o,c;return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:W,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:Q}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===D||void 0===D?void 0:D.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(b.z,{disabled:!0,label:"Clear"})),n.createElement("div",{className:"pl-5 col-12 flex"},n.createElement("div",{className:"field",style:{width:"50%"}},n.createElement("div",{className:"field-radiobutton"},n.createElement(g,{name:"fractional",checked:!0}),n.createElement("label",null,"Fractional"))),n.createElement("div",{className:"field",style:{width:"50%"}},n.createElement("div",{className:"field-radiobutton"},n.createElement(g,{onChange:function(){O("/estimation/wholerod/new",{state:{projectKey:q.projectKey,blockKey:q.blockKey}})}}),n.createElement("label",{style:{cursor:"pointer"},onClick:function(){O("/estimation/wholerod/new")}},"Whole")))),n.createElement(i.Wi,{label:"Rod Pack Name",className:"col-12",name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,useExplicit:!0,onChange:function(e){oe(Object.assign(Object.assign({},re),{name:e.target.value}))},formItem:{component:p.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Rod Pack Type",name:"itemtyp_key",className:"col-12",control:e,errors:l,leftSpan:2,rightSpan:4,required:!0,formItem:{component:h.L,componentProps:{options:["Fractional","Whole"]}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex",style:{marginBottom:0}},n.createElement("label",{className:"col-2",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"base_qty",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{onChange:function(e){oe(Object.assign(Object.assign({},re),{base_qty:e.target.value})),t.onChange(e)},className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(o=null===l||void 0===l?void 0:l.base_qty)||void 0===o?void 0:o.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",onChange:function(e){var l;oe(Object.assign(Object.assign({},re),{uom:null===(l=null===se||void 0===se?void 0:se.results)||void 0===l?void 0:l.filter((function(t){return t.key===e.target.value}))[0].descr})),t.onChange(e)},options:null===se||void 0===se?void 0:se.results}))}}),(0,i.Hb)(null===(c=null===l||void 0===l?void 0:l.uom_key)||void 0===c?void 0:c.message)),n.createElement("div",{className:"col-6"})),n.createElement(i.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:l,leftSpan:2,rightSpan:6,formItem:{component:p.o,componentProps:{style:{marginTop:"1rem"},maxLength:100}}}),n.createElement("div",{className:"col-12",style:{fontWeight:"bolder",fontSize:24}},"Rod List required for ",n.createElement("i",null," ",(null===re||void 0===re?void 0:re.base_qty)||"<Base Qty>")," ",n.createElement("i",null,(null===re||void 0===re?void 0:re.uom)||"<UOM>")," of ",n.createElement("i",null,(null===re||void 0===re?void 0:re.name)||"<Name>")),n.createElement("div",{className:"col-12 ",style:{height:"calc(100% - 183px)",minHeight:200}},n.createElement(z,{selectedItemType:le,data:Y,isLoading:F,ref:C,onChange:function(e){return!N&&L(e)}})))}}))},Y=function(e){var t=D(),l=(0,u.Z)(t,2),o=l[0],c=l[1].isLoading,s=(0,n.useState)(null),d=(0,u.Z)(s,2),m=d[0],p=d[1],v=(0,n.useState)(null),f=(0,u.Z)(v,2),y=f[0],E=f[1],N=(0,k.dx)({}).data,L=(0,a.s0)(),w=(0,k.cQ)({projectId:m},{skip:!m}),S=w.data,j=(w.isLoading,H({projectId:m,blockId:y},{skip:!m||!y})),_=j.data,O=j.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},"Rod Pack"),n.createElement(R.rU,{to:{pathname:"/estimation/fractionalrod/new"},state:{projectKey:m,blockKey:y},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(b.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(K.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"50%"}},n.createElement("div",{className:"field-radiobutton"},n.createElement(g,{checked:!0}),n.createElement("label",null,"Fractional"))),n.createElement("div",{className:"field",style:{width:"50%"}},n.createElement("div",{className:"field-radiobutton"},n.createElement(g,{onChange:function(){L("/estimation/wholerod")}}),n.createElement("label",{style:{cursor:"pointer"},onClick:function(){L("/estimation/wholerod")}},"Whole")))),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:m,filter:!0,filterBy:"name",onChange:function(e){p(e.value),E(null)},options:null===N||void 0===N?void 0:N.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:y,filter:!0,filterBy:"descr",onChange:function(e){E(e.value)},options:null===S||void 0===S?void 0:S.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(b.z,{label:"Clear",onClick:function(e){e.preventDefault(),p(null),E(null)}}))),n.createElement(K.i,null),n.createElement(i.PS,{baseRoute:"/estimation/fractionalrod",description:"Rod Pack",isLoading:O||c,data:null===_||void 0===_?void 0:_.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return o(e).unwrap()}},n.createElement(i._P,{field:"pack_type",header:"Pack Type",filteringType:"text"}),n.createElement(i._P,{field:"name",header:"Material Name",filteringType:"text"}),n.createElement(i._P,{field:"item_type",header:"Item Type",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"})))},$=n.createElement(a.AW,{path:"fractionalrod"},n.createElement(a.AW,{path:"new",element:n.createElement(X,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(X,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(Y,null)})),ee=$,te="/estimation/whole/material/",le=k.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listWholeMaterial:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,k.DS)(te,"?page=".concat(t||1,"&page_size=").concat(l||k.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,N.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:k.pJ.WHOLE_MATERIAL_PACK,key:t}}))),[{type:k.pJ.WHOLE_MATERIAL_PACK,id:"LIST"}]):[{type:k.pJ.WHOLE_MATERIAL_PACK,id:"LIST"}]}}),addWholeMaterial:e.mutation({query:function(e){return{url:te,method:"POST",body:e}},invalidatesTags:[{type:k.pJ.WHOLE_MATERIAL_PACK,id:"LIST"}]}),getWholeMaterial:e.query({query:function(e){return"".concat(te).concat(e)},providesTags:function(e,t,l){return[{type:k.pJ.WHOLE_MATERIAL_PACK,id:l}]}}),updateWholeMaterial:e.mutation({query:function(e){var t=e;return{url:"".concat(te),method:"POST",body:t}},invalidatesTags:function(e){return[{type:k.pJ.WHOLE_MATERIAL_PACK,id:null===e||void 0===e?void 0:e.key}]}}),deleteWholeMaterial:e.mutation({query:function(e){return{url:"".concat(te).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:k.pJ.WHOLE_MATERIAL_PACK,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),ne=le.useAddWholeMaterialMutation,ae=le.useDeleteWholeMaterialMutation,ie=le.useGetWholeMaterialQuery,re=le.useListWholeMaterialQuery,oe=le.useUpdateWholeMaterialMutation,ce=(le.useGetErrorProneQuery,"Material Pack"),se=(0,n.forwardRef)((function(e,t){var l=e.data,a=e.isLoading,r=e.disableTable,o=void 0!==r&&r,c=e.selectedItemType,s=e.onChange,d=void 0===s?function(){}:s,m=(0,n.useState)([]),p=(0,u.Z)(m,2),v=p[0],f=p[1],y=(0,n.useRef)(v),E=(0,n.useRef)([]),g=(0,n.useRef)([]),N=(0,k.qu)(c,{skip:!c}),L=N.data,w=(N.isLoading,(0,k.U$)(c,{skip:!c})),S=w.data;w.isLoading;(0,n.useImperativeHandle)(t,(function(){return{getItems:function(){return v}}})),(0,n.useEffect)((function(){f(l),y.current=l}),[l]),(0,n.useEffect)((function(){E.current=(null===L||void 0===L?void 0:L.results)||[],g.current=S||[]}),[L,S]);return n.createElement(i.PS,{baseRoute:"/estimation/".concat("wholematerial"),description:ce,isLoading:a,data:v,newTable:!0,tableLayoutClass:"h-full",allowFilters:!1,hideActionColumn:o,actionBodyTemplate:function(e){return n.createElement(b.z,{style:{height:"35px",width:"20px",marginLeft:20},type:"button",onClick:function(){(0,A.V)({message:"Are you sure you want to Delete Item?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){return function(e){var t=y.current.filter((function(t){return t!==e}));y.current=t,f(t)}(e)},reject:function(){}})},className:"p-button-rounded p-button-text",icon:"pi pi-trash"})},gridProps:{allowAdd:!0,disableAdd:o||!(0,k.pH)(v),OnRowsChanged:function(e){var t=e;f(t),y.current=t,d(!0)}}},n.createElement(i._P,{field:"item_key",width:"25%",header:"Material Size in MM*",displayValueGetter:function(e,t){var l,n;if(!Array.isArray(e)){var a=null===(l=E.current)||void 0===l?void 0:l.filter((function(l){return l.key===e[t]}));return a.length?a[0].descr:null===(n=null===e||void 0===e?void 0:e.items)||void 0===n?void 0:n.descr}},editorType:!o&&function(e){var t=e.row,l=e.column,a=e.onRowChange;e.onClose;return n.createElement(h.L,{autoFocus:!0,style:{width:"100%"},className:"p-inputtext-sm",value:t[l.key],optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:E.current,onChange:function(e){var n,i=Object.assign({},t);i[l.key]=e.value;var r=null===(n=E.current.filter((function(t){return t.key===e.value}))[0])||void 0===n?void 0:n.itemuom_key;i.itemuom_key=r,a(i,!0)},tabIndex:-1})}}),n.createElement(i._P,{field:"qty",header:"Material Length",type:"number",editorType:!o&&"number"}),n.createElement(i._P,{field:"itemuom_key",header:"UOM*",displayValueGetter:function(e,t){var l,n;if(!Array.isArray(e)){var a=null===(l=g.current)||void 0===l?void 0:l.filter((function(l){return l.key===e[t]}));return a.length?a[0].descr:null===(n=null===e||void 0===e?void 0:e.items_uoms)||void 0===n?void 0:n.descr}},editorType:!o&&function(e){var t=e.row,l=e.column,a=e.onRowChange;e.onClose;return n.createElement(h.L,{autoFocus:!0,style:{width:"100%"},className:"p-inputtext-sm",value:t[l.key],optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:g.current,onChange:function(e){var n=Object.assign({},t);n[l.key]=e.value,a(n,!0)},tabIndex:-1})}}),n.createElement(i._P,{field:"qty",header:"Quantity",type:"number",editorType:!o&&"number"}),n.createElement(i._P,{width:"30%",field:"purpose",header:"Purpose",type:"text",editorType:!o&&"text"}))})),de=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},ue=function(e){var t=(0,i.pm)(),l=t.showSuccess,o=t.showError,c=(0,n.useState)(!1),s=(0,u.Z)(c,2),v=s[0],f=s[1],y=(0,n.useState)(!1),E=(0,u.Z)(y,2),N=E[0],L=E[1],w=(0,n.useState)({}),S=(0,u.Z)(w,2),j=S[0],_=S[1],O=(0,a.s0)(),T=(0,a.UO)().id,A=parseInt(T||""),x=isNaN(A)||A<=0,C=(0,n.useRef)(),P=(0,n.useRef)(),q=(0,a.TH)().state;!q&&x&&O("/estimation/wholematerial");var I=(0,k.ft)(),K=ie(A,{skip:x,refetchOnMountOrArgChange:!0}),R=K.data,F=K.isLoading,B=(0,k.JB)(),Q=B.data,W=B.isLoading,M=(0,k.cQ)({projectId:null===q||void 0===q?void 0:q.projectKey},{skip:!(null===q||void 0===q?void 0:q.projectKey)}),Z=M.data,D=(M.isLoading,(0,n.useState)([])),V=(0,u.Z)(D,2),H=V[0],U=V[1],J=(0,n.useState)(null),z=(0,u.Z)(J,2),G=z[0],X=z[1],Y=(0,n.useState)({}),$=(0,u.Z)(Y,2),ee=$[0],te=$[1],le=(0,k.DY)({}),ae=le.data,re=(le.isLoading,ne()),ue=(0,u.Z)(re,2),me=ue[0],pe=ue[1].isLoading,ve=oe(),fe=(0,u.Z)(ve,2),ye=fe[0],Ee=fe[1].isLoading;(0,n.useEffect)((function(){_(R||Object.assign(Object.assign({},I),{proj_key:null===q||void 0===q?void 0:q.projectKey,projblk_key:null===q||void 0===q?void 0:q.blockKey})),R&&(U((null===R||void 0===R?void 0:R.items)||[]),X(R.itemtyp_key))}),[R]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/wholematerial",description:ce,id:A,data:j,isUpdating:pe||Ee||v,ref:P,isItemsTableChanged:N,isLoading:F,onSubmit:function(e){return de(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a,i,r;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=null===(n=C.current)||void 0===n?void 0:n.getItems(),r=Object.assign(Object.assign({},e),{itemtyp_key:G,items:i}),!x){t.next=9;break}return t.next=6,me(Object.assign(Object.assign({},r),I)).unwrap();case 6:a=t.sent,t.next=12;break;case 9:return t.next=11,ye(Object.assign(Object.assign(Object.assign({},r),I),{key:null===R||void 0===R?void 0:R.key})).unwrap();case 11:a=t.sent;case 12:l("Success",a.detail),f(!0),setTimeout((function(){O("/estimation/wholematerial")}),k.P7),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),o("An error occurred","We couldn't save your post, try again!");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))},renderForm:function(e,t,l,a){var o,c;return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:W,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:Q}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===Z||void 0===Z?void 0:Z.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(b.z,{disabled:!0,label:"Clear"})),n.createElement("div",{className:"pl-5 col-12 flex"},n.createElement("div",{className:"field",style:{width:"50%"}},n.createElement("div",{className:"field-radiobutton"},n.createElement(g,{onChange:function(){O("/estimation/fractionalmaterial/new",{state:{projectKey:q.projectKey,blockKey:q.blockKey}})}}),n.createElement("label",{style:{cursor:"pointer"},onClick:function(){O("/estimation/fractionalmaterial/new")}},"Fractional"))),n.createElement("div",{className:"field",style:{width:"50%"}},n.createElement("div",{className:"field-radiobutton"},n.createElement(g,{name:"fractional",checked:!0}),n.createElement("label",null,"Whole")))),n.createElement(i.Wi,{label:"Material Pack Name",className:"col-12",name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,useExplicit:!0,onChange:function(e){te(Object.assign(Object.assign({},ee),{name:e.target.value}))},formItem:{component:p.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Material Pack Type",name:"itemtyp_key",className:"col-12",control:e,errors:l,leftSpan:2,rightSpan:4,required:!0,formItem:{component:h.L,componentProps:{options:["Fractional","Whole"]}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex",style:{marginBottom:0}},n.createElement("label",{className:"col-2",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"base_qty",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{onChange:function(e){te(Object.assign(Object.assign({},ee),{base_qty:e.target.value})),t.onChange(e)},className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(o=null===l||void 0===l?void 0:l.base_qty)||void 0===o?void 0:o.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",onChange:function(e){var l;te(Object.assign(Object.assign({},ee),{uom:null===(l=null===ae||void 0===ae?void 0:ae.results)||void 0===l?void 0:l.filter((function(t){return t.key===e.target.value}))[0].descr})),t.onChange(e)},options:null===ae||void 0===ae?void 0:ae.results}))}}),(0,i.Hb)(null===(c=null===l||void 0===l?void 0:l.uom_key)||void 0===c?void 0:c.message)),n.createElement("div",{className:"col-6"})),n.createElement(i.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:l,leftSpan:2,rightSpan:6,formItem:{component:p.o,componentProps:{style:{marginTop:"1rem"},maxLength:100}}}),n.createElement("div",{className:"col-12",style:{fontWeight:"bolder",fontSize:24}},"Material List required for ",n.createElement("i",null," ",(null===ee||void 0===ee?void 0:ee.base_qty)||"<Base Qty>")," ",n.createElement("i",null,(null===ee||void 0===ee?void 0:ee.uom)||"<UOM>")," of ",n.createElement("i",null,(null===ee||void 0===ee?void 0:ee.name)||"<Name>")),n.createElement("div",{className:"col-12 ",style:{height:"calc(100% - 183px)",minHeight:200}},n.createElement(se,{selectedItemType:G,data:H,isLoading:F,ref:C,onChange:function(e){return!N&&L(e)}})))}}))},me=function(e){var t=ae(),l=(0,u.Z)(t,2),o=l[0],c=l[1].isLoading,s=(0,n.useState)(null),d=(0,u.Z)(s,2),m=d[0],p=d[1],v=(0,n.useState)(null),f=(0,u.Z)(v,2),y=f[0],E=f[1],N=(0,k.dx)({}).data,L=(0,a.s0)(),w=(0,k.cQ)({projectId:m},{skip:!m}),S=w.data,j=(w.isLoading,re({projectId:m,blockId:y},{skip:!m||!y})),_=j.data,O=j.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},"Material Pack"),n.createElement(R.rU,{to:{pathname:"/estimation/wholematerial/new"},state:{projectKey:m,blockKey:y},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(b.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(K.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"50%"}},n.createElement("div",{className:"field-radiobutton"},n.createElement(g,{onChange:function(){L("/estimation/fractionalmaterial")}}),n.createElement("label",{style:{cursor:"pointer"},onClick:function(){L("/estimation/fractionalmaterial")}},"Fractional"))),n.createElement("div",{className:"field",style:{width:"50%"}},n.createElement("div",{className:"field-radiobutton"},n.createElement(g,{checked:!0}),n.createElement("label",null,"Whole")))),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:m,filter:!0,filterBy:"name",onChange:function(e){p(e.value),E(null)},options:null===N||void 0===N?void 0:N.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:y,filter:!0,filterBy:"descr",onChange:function(e){E(e.value)},options:null===S||void 0===S?void 0:S.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(b.z,{label:"Clear",onClick:function(e){e.preventDefault(),p(null),E(null)}}))),n.createElement(K.i,null),n.createElement(i.PS,{baseRoute:"/estimation/wholematerial",description:"Material Pack",isLoading:O||c,data:null===_||void 0===_?void 0:_.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return o(e).unwrap()}},n.createElement(i._P,{field:"pack_type",header:"Pack Type",filteringType:"text"}),n.createElement(i._P,{field:"name",header:"Material Name",filteringType:"text"}),n.createElement(i._P,{field:"item_type",header:"Item Type",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"})))},pe=n.createElement(a.AW,{path:"wholematerial"},n.createElement(a.AW,{path:"new",element:n.createElement(ue,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(ue,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(me,null)})),ve=pe,fe="/estimation/whole/rod/",ye=k.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listWholeRod:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,k.DS)(fe,"?page=".concat(t||1,"&page_size=").concat(l||k.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,N.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:k.pJ.WHOLE_ROD_PACK,key:t}}))),[{type:k.pJ.WHOLE_ROD_PACK,id:"LIST"}]):[{type:k.pJ.WHOLE_ROD_PACK,id:"LIST"}]}}),addWholeRod:e.mutation({query:function(e){return{url:fe,method:"POST",body:e}},invalidatesTags:[{type:k.pJ.WHOLE_ROD_PACK,id:"LIST"}]}),getWholeRod:e.query({query:function(e){return"".concat(fe).concat(e)},providesTags:function(e,t,l){return[{type:k.pJ.WHOLE_ROD_PACK,id:l}]}}),updateWholeRod:e.mutation({query:function(e){var t=e;return{url:"".concat(fe),method:"POST",body:t}},invalidatesTags:function(e){return[{type:k.pJ.WHOLE_ROD_PACK,id:null===e||void 0===e?void 0:e.key}]}}),deleteWholeRod:e.mutation({query:function(e){return{url:"".concat(fe).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:k.pJ.WHOLE_ROD_PACK,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),Ee=ye.useAddWholeRodMutation,ge=ye.useDeleteWholeRodMutation,be=ye.useGetWholeRodQuery,he=ye.useListWholeRodQuery,Ne=ye.useUpdateWholeRodMutation,ke=(ye.useGetErrorProneQuery,"Rod Pack"),Le=(0,n.forwardRef)((function(e,t){var l=e.data,a=e.isLoading,r=e.disableTable,o=void 0!==r&&r,c=e.selectedItemType,s=e.onChange,d=void 0===s?function(){}:s,m=(0,n.useState)([]),p=(0,u.Z)(m,2),v=p[0],f=p[1],y=(0,n.useRef)(v),E=(0,n.useRef)([]),g=(0,n.useRef)([]),N=(0,k.qu)(c,{skip:!c}),L=N.data,w=(N.isLoading,(0,k.U$)(c,{skip:!c})),S=w.data;w.isLoading;(0,n.useImperativeHandle)(t,(function(){return{getItems:function(){return v}}})),(0,n.useEffect)((function(){f(l),y.current=l}),[l]),(0,n.useEffect)((function(){E.current=(null===L||void 0===L?void 0:L.results)||[],g.current=S||[]}),[L,S]);return n.createElement(i.PS,{baseRoute:"/estimation/".concat("wholerod"),description:ke,isLoading:a,data:v,newTable:!0,tableLayoutClass:"h-full",allowFilters:!1,hideActionColumn:o,actionBodyTemplate:function(e){return n.createElement(b.z,{style:{height:"35px",width:"20px",marginLeft:20},type:"button",onClick:function(){(0,A.V)({message:"Are you sure you want to Delete Item?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){return function(e){var t=y.current.filter((function(t){return t!==e}));y.current=t,f(t)}(e)},reject:function(){}})},className:"p-button-rounded p-button-text",icon:"pi pi-trash"})},gridProps:{allowAdd:!0,disableAdd:o||!(0,k.pH)(v),OnRowsChanged:function(e){var t=e;f(t),y.current=t,d(!0)}}},n.createElement(i._P,{field:"item_key",width:"25%",header:"Rod Size in MM*",displayValueGetter:function(e,t){var l,n;if(!Array.isArray(e)){var a=null===(l=E.current)||void 0===l?void 0:l.filter((function(l){return l.key===e[t]}));return a.length?a[0].descr:null===(n=null===e||void 0===e?void 0:e.items)||void 0===n?void 0:n.descr}},editorType:!o&&function(e){var t=e.row,l=e.column,a=e.onRowChange;e.onClose;return n.createElement(h.L,{autoFocus:!0,style:{width:"100%"},className:"p-inputtext-sm",value:t[l.key],optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:E.current,onChange:function(e){var n,i=Object.assign({},t);i[l.key]=e.value;var r=null===(n=E.current.filter((function(t){return t.key===e.value}))[0])||void 0===n?void 0:n.itemuom_key;i.itemuom_key=r,a(i,!0)},tabIndex:-1})}}),n.createElement(i._P,{field:"qty",header:"Rod Length",type:"number",editorType:!o&&"number"}),n.createElement(i._P,{field:"itemuom_key",header:"UOM*",displayValueGetter:function(e,t){var l,n;if(!Array.isArray(e)){var a=null===(l=g.current)||void 0===l?void 0:l.filter((function(l){return l.key===e[t]}));return a.length?a[0].descr:null===(n=null===e||void 0===e?void 0:e.items_uoms)||void 0===n?void 0:n.descr}},editorType:!o&&function(e){var t=e.row,l=e.column,a=e.onRowChange;e.onClose;return n.createElement(h.L,{autoFocus:!0,style:{width:"100%"},className:"p-inputtext-sm",value:t[l.key],optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:g.current,onChange:function(e){var n=Object.assign({},t);n[l.key]=e.value,a(n,!0)},tabIndex:-1})}}),n.createElement(i._P,{field:"qty",header:"Quantity",type:"number",editorType:!o&&"number"}),n.createElement(i._P,{width:"30%",field:"purpose",header:"Purpose",type:"text",editorType:!o&&"text"}))})),we=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},Se=function(e){var t=(0,i.pm)(),l=t.showSuccess,o=t.showError,c=(0,n.useState)(!1),s=(0,u.Z)(c,2),v=s[0],f=s[1],y=(0,n.useState)(!1),E=(0,u.Z)(y,2),N=E[0],L=E[1],w=(0,n.useState)({}),S=(0,u.Z)(w,2),j=S[0],_=S[1],O=(0,a.s0)(),T=(0,a.UO)().id,A=parseInt(T||""),x=isNaN(A)||A<=0,C=(0,n.useRef)(),P=(0,n.useRef)(),q=(0,a.TH)().state;!q&&x&&O("/estimation/wholerod");var I=(0,k.ft)(),K=be(A,{skip:x,refetchOnMountOrArgChange:!0}),R=K.data,F=K.isLoading,B=(0,k.JB)(),Q=B.data,W=B.isLoading,M=(0,k.cQ)({projectId:null===q||void 0===q?void 0:q.projectKey},{skip:!(null===q||void 0===q?void 0:q.projectKey)}),Z=M.data,D=(M.isLoading,(0,n.useState)([])),V=(0,u.Z)(D,2),H=V[0],U=V[1],J=(0,n.useState)(null),z=(0,u.Z)(J,2),G=z[0],X=z[1],Y=(0,n.useState)({}),$=(0,u.Z)(Y,2),ee=$[0],te=$[1],le=(0,k.DY)({}),ne=le.data,ae=(le.isLoading,Ee()),ie=(0,u.Z)(ae,2),re=ie[0],oe=ie[1].isLoading,ce=Ne(),se=(0,u.Z)(ce,2),de=se[0],ue=se[1].isLoading;(0,n.useEffect)((function(){_(R||Object.assign(Object.assign({},I),{proj_key:null===q||void 0===q?void 0:q.projectKey,projblk_key:null===q||void 0===q?void 0:q.blockKey})),R&&(U((null===R||void 0===R?void 0:R.items)||[]),X(R.itemtyp_key))}),[R]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/wholerod",description:ke,id:A,data:j,isUpdating:oe||ue||v,ref:P,isItemsTableChanged:N,isLoading:F,onSubmit:function(e){return we(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a,i,r;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=null===(n=C.current)||void 0===n?void 0:n.getItems(),r=Object.assign(Object.assign({},e),{itemtyp_key:G,items:i}),!x){t.next=9;break}return t.next=6,re(Object.assign(Object.assign({},r),I)).unwrap();case 6:a=t.sent,t.next=12;break;case 9:return t.next=11,de(Object.assign(Object.assign(Object.assign({},r),I),{key:null===R||void 0===R?void 0:R.key})).unwrap();case 11:a=t.sent;case 12:l("Success",a.detail),f(!0),setTimeout((function(){O("/estimation/wholerod")}),k.P7),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),o("An error occurred","We couldn't save your post, try again!");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))},renderForm:function(e,t,l,a){var o,c;return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:W,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:Q}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===Z||void 0===Z?void 0:Z.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(b.z,{disabled:!0,label:"Clear"})),n.createElement("div",{className:"pl-5 col-12 flex"},n.createElement("div",{className:"field",style:{width:"50%"}},n.createElement("div",{className:"field-radiobutton"},n.createElement(g,{onChange:function(){O("/estimation/fractionalrod/new",{state:{projectKey:q.projectKey,blockKey:q.blockKey}})}}),n.createElement("label",{style:{cursor:"pointer"},onClick:function(){O("/estimation/fractionalrod/new")}},"Fractional"))),n.createElement("div",{className:"field",style:{width:"50%"}},n.createElement("div",{className:"field-radiobutton"},n.createElement(g,{name:"fractional",checked:!0}),n.createElement("label",null,"Whole")))),n.createElement(i.Wi,{label:"Rod Pack Name",className:"col-12",name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,useExplicit:!0,onChange:function(e){te(Object.assign(Object.assign({},ee),{name:e.target.value}))},formItem:{component:p.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Rod Pack Type",name:"itemtyp_key",className:"col-12",control:e,errors:l,leftSpan:2,rightSpan:4,required:!0,formItem:{component:h.L,componentProps:{options:["Fractional","Whole"]}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex",style:{marginBottom:0}},n.createElement("label",{className:"col-2",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"base_qty",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{onChange:function(e){te(Object.assign(Object.assign({},ee),{base_qty:e.target.value})),t.onChange(e)},className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(o=null===l||void 0===l?void 0:l.base_qty)||void 0===o?void 0:o.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",onChange:function(e){var l;te(Object.assign(Object.assign({},ee),{uom:null===(l=null===ne||void 0===ne?void 0:ne.results)||void 0===l?void 0:l.filter((function(t){return t.key===e.target.value}))[0].descr})),t.onChange(e)},options:null===ne||void 0===ne?void 0:ne.results}))}}),(0,i.Hb)(null===(c=null===l||void 0===l?void 0:l.uom_key)||void 0===c?void 0:c.message)),n.createElement("div",{className:"col-6"})),n.createElement(i.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:l,leftSpan:2,rightSpan:6,formItem:{component:p.o,componentProps:{style:{marginTop:"1rem"},maxLength:100}}}),n.createElement("div",{className:"col-12",style:{fontWeight:"bolder",fontSize:24}},"Rod List required for ",(null===ee||void 0===ee?void 0:ee.base_qty)||"<Base Qty>"," ",(null===ee||void 0===ee?void 0:ee.uom)||"<UOM>"," of ",(null===ee||void 0===ee?void 0:ee.name)||"<Name>"),n.createElement("div",{className:"col-12 ",style:{height:"calc(100% - 183px)",minHeight:200}},n.createElement(Le,{selectedItemType:G,data:H,isLoading:F,ref:C,onChange:function(e){return!N&&L(e)}})))}}))},je=function(e){var t=ge(),l=(0,u.Z)(t,2),o=l[0],c=l[1].isLoading,s=(0,n.useState)(null),d=(0,u.Z)(s,2),m=d[0],p=d[1],v=(0,n.useState)(null),f=(0,u.Z)(v,2),y=f[0],E=f[1],N=(0,k.dx)({}).data,L=(0,a.s0)(),w=(0,k.cQ)({projectId:m},{skip:!m}),S=w.data,j=(w.isLoading,he({projectId:m,blockId:y},{skip:!m||!y})),_=j.data,O=j.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},"Rod Pack"),n.createElement(R.rU,{to:{pathname:"/estimation/wholerod/new"},state:{projectKey:m,blockKey:y},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(b.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(K.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"50%"}},n.createElement("div",{className:"field-radiobutton"},n.createElement(g,{onChange:function(){L("/estimation/fractionalrod")}}),n.createElement("label",{style:{cursor:"pointer"},onClick:function(){L("/estimation/fractionalrod")}},"Fractional"))),n.createElement("div",{className:"field",style:{width:"50%"}},n.createElement("div",{className:"field-radiobutton"},n.createElement(g,{checked:!0}),n.createElement("label",null,"Whole")))),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:m,filter:!0,filterBy:"name",onChange:function(e){p(e.value),E(null)},options:null===N||void 0===N?void 0:N.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:y,filter:!0,filterBy:"descr",onChange:function(e){E(e.value)},options:null===S||void 0===S?void 0:S.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(b.z,{label:"Clear",onClick:function(e){e.preventDefault(),p(null),E(null)}}))),n.createElement(K.i,null),n.createElement(i.PS,{baseRoute:"/estimation/wholerod",description:"Rod Pack",isLoading:O||c,data:null===_||void 0===_?void 0:_.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return o(e).unwrap()}},n.createElement(i._P,{field:"pack_type",header:"Pack Type",filteringType:"text"}),n.createElement(i._P,{field:"name",header:"Material Name",filteringType:"text"}),n.createElement(i._P,{field:"item_type",header:"Item Type",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"})))},_e=n.createElement(a.AW,{path:"wholerod"},n.createElement(a.AW,{path:"new",element:n.createElement(Se,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(Se,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(je,null)})),Oe=_e,Te="/estimation/beam/",Ae=k.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listBeam:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,k.DS)(Te,"?page=".concat(t||1,"&page_size=").concat(l||k.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,N.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:k.pJ.BEAM,key:t}}))),[{type:k.pJ.BEAM,id:"LIST"}]):[{type:k.pJ.BEAM,id:"LIST"}]}}),addBeam:e.mutation({query:function(e){return{url:Te,method:"POST",body:e}},invalidatesTags:[{type:k.pJ.BEAM,id:"LIST"}]}),getBeam:e.query({query:function(e){return"".concat(Te).concat(e)},providesTags:function(e,t,l){return[{type:k.pJ.BEAM,id:l}]}}),updateBeam:e.mutation({query:function(e){var t=e;return{url:"".concat(Te),method:"POST",body:t}},invalidatesTags:function(e){return[{type:k.pJ.BEAM,id:null===e||void 0===e?void 0:e.key}]}}),deleteBeam:e.mutation({query:function(e){return{url:"".concat(Te).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:k.pJ.BEAM,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),xe=Ae.useAddBeamMutation,Ce=Ae.useDeleteBeamMutation,Pe=Ae.useGetBeamQuery,qe=Ae.useListBeamQuery,Ie=Ae.useUpdateBeamMutation,Ke=(Ae.useGetErrorProneQuery,"Beam"),Re=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},Fe=function(e){var t=(0,i.pm)(),l=t.showSuccess,o=t.showError,c=(0,n.useState)(!1),s=(0,u.Z)(c,2),v=s[0],f=s[1],y=(0,n.useState)({}),E=(0,u.Z)(y,2),g=E[0],N=E[1],L=(0,a.s0)(),w=(0,a.UO)().id,S=parseInt(w||""),j=isNaN(S)||S<=0,_=(0,n.useRef)(),O=(0,a.TH)().state;!O&&j&&L("/estimation/beam");var T=(0,k.ft)(),A=Pe(S,{skip:j,refetchOnMountOrArgChange:!0}),x=A.data,C=A.isLoading,P=(0,k.JB)(),q=P.data,I=P.isLoading,R=(0,k.cQ)({projectId:null===O||void 0===O?void 0:O.projectKey},{skip:!(null===O||void 0===O?void 0:O.projectKey)}).data,F=(0,n.useState)({}),B=(0,u.Z)(F,2),Q=B[0],W=B[1],M=(0,k.DY)({}),Z=M.data,D=(M.isLoading,xe()),V=(0,u.Z)(D,2),H=V[0],U=V[1].isLoading,J=Ie(),z=(0,u.Z)(J,2),G=z[0],X=z[1].isLoading;(0,n.useEffect)((function(){N(x||Object.assign(Object.assign({},T),{proj_key:null===O||void 0===O?void 0:O.projectKey,projblk_key:null===O||void 0===O?void 0:O.blockKey}))}),[x]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/beam",description:Ke,id:S,data:g,isUpdating:U||X||v,ref:_,isLoading:C,onSubmit:function(e){return Re(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=Object.assign({},e),!j){t.next=8;break}return t.next=5,H(Object.assign(Object.assign({},a),T)).unwrap();case 5:n=t.sent,t.next=11;break;case 8:return t.next=10,G(Object.assign(Object.assign(Object.assign({},a),T),{key:null===x||void 0===x?void 0:x.key})).unwrap();case 10:n=t.sent;case 11:l("Success",n.detail),f(!0),setTimeout((function(){L("/estimation/beam")}),k.P7),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),o("An error occurred","We couldn't save your post, try again!");case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))},renderForm:function(e,t,l,a){var o,c,s,d,u,v,f,y,E,g;return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:I,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:q}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===R||void 0===R?void 0:R.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(b.z,{disabled:!0,label:"Clear"})),n.createElement(K.i,null),n.createElement(i.Wi,{label:"Component Name",required:!0,className:"col-12",name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,useExplicit:!0,onChange:function(e){W(Object.assign(Object.assign({},Q),{name:e.target.value}))},formItem:{component:p.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Type",name:"typ_key",className:"col-12",control:e,errors:l,leftSpan:2,rightSpan:4,useExplicit:!0,onChange:function(e){W(Object.assign(Object.assign({},Q),{type:e.value}))},formItem:{component:h.L,componentProps:{options:["Plinth","Roof Beam","Column Body","Pile"]}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"base_qty",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(o=null===l||void 0===l?void 0:l.base_qty)||void 0===o?void 0:o.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Z||void 0===Z?void 0:Z.results}))}}),(0,i.Hb)(null===(c=null===l||void 0===l?void 0:l.uom_key)||void 0===c?void 0:c.message)),n.createElement("div",{className:"col-6"})),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"B x W x L / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(s=null===l||void 0===l?void 0:l.b_value)||void 0===s?void 0:s.message)),n.createElement("span",{className:"inputgroup-divider-normal"},"X"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"w_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(d=null===l||void 0===l?void 0:l.w_value)||void 0===d?void 0:d.message)),n.createElement("span",{className:"inputgroup-divider-normal"},"X"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"l_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(u=null===l||void 0===l?void 0:l.l_value)||void 0===u?void 0:u.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"bwl_uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Z||void 0===Z?void 0:Z.results}))}}),(0,i.Hb)(null===(v=null===l||void 0===l?void 0:l.bwl_uom_key)||void 0===v?void 0:v.message)),n.createElement("div",{className:"col-4",style:{margin:"auto"}},n.createElement("label",{style:{display:"flex",justifyContent:"center"}},"Target Quantity / UOM"))),n.createElement("div",{className:"col-12",style:{fontWeight:"bolder",fontSize:24}},"Materials required for making One Whole ",n.createElement("i",null,(null===Q||void 0===Q?void 0:Q.type)||"<Beam type>")," ",n.createElement("i",null,(null===Q||void 0===Q?void 0:Q.name)||"<Beam Name>"," ")),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Column Extension RCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"col_ext",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Z||void 0===Z?void 0:Z.results}))}}),(0,i.Hb)(null===(f=null===l||void 0===l?void 0:l.col_ext)||void 0===f?void 0:f.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"1:1:2",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(y=null===l||void 0===l?void 0:l.b_value)||void 0===y?void 0:y.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Column Body Rod Pack"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Z||void 0===Z?void 0:Z.results}))}}),(0,i.Hb)(null===(E=null===l||void 0===l?void 0:l.body_rock)||void 0===E?void 0:E.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"1.0 X 1.6 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(g=null===l||void 0===l?void 0:l.b_value)||void 0===g?void 0:g.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))))}}))},Be=function(e){var t=Ce(),l=(0,u.Z)(t,2),a=l[0],o=l[1].isLoading,c=(0,n.useState)(null),s=(0,u.Z)(c,2),d=s[0],m=s[1],p=(0,n.useState)(null),v=(0,u.Z)(p,2),f=v[0],y=v[1],E=(0,k.dx)({}).data,g=(0,k.cQ)({projectId:d},{skip:!d}),N=g.data,L=(g.isLoading,qe({projectId:d,blockId:f},{skip:!d||!f})),w=L.data,S=L.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},Ke),n.createElement(R.rU,{to:{pathname:"/estimation/beam/new"},state:{projectKey:d,blockKey:f},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(b.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(K.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:d,filter:!0,filterBy:"name",onChange:function(e){m(e.value),y(null)},options:null===E||void 0===E?void 0:E.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:f,filter:!0,filterBy:"descr",onChange:function(e){y(e.value)},options:null===N||void 0===N?void 0:N.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(b.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),y(null)}}))),n.createElement(K.i,null),n.createElement(i.PS,{baseRoute:"/estimation/beam",description:Ke,isLoading:S||o,data:null===w||void 0===w?void 0:w.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return a(e).unwrap()}},n.createElement(i._P,{field:"name",header:"Component Name",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"}),n.createElement(i._P,{field:"uom",header:"Base UOM",filteringType:"text"})))},Qe=n.createElement(a.AW,{path:"beam"},n.createElement(a.AW,{path:"new",element:n.createElement(Fe,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(Fe,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(Be,null)})),We="/estimation/columnbody/",Me=k.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listColumnBody:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,k.DS)(We,"?page=".concat(t||1,"&page_size=").concat(l||k.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,N.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:k.pJ.COLUMN_BODY,key:t}}))),[{type:k.pJ.COLUMN_BODY,id:"LIST"}]):[{type:k.pJ.COLUMN_BODY,id:"LIST"}]}}),addColumnBody:e.mutation({query:function(e){return{url:We,method:"POST",body:e}},invalidatesTags:[{type:k.pJ.COLUMN_BODY,id:"LIST"}]}),getColumnBody:e.query({query:function(e){return"".concat(We).concat(e)},providesTags:function(e,t,l){return[{type:k.pJ.COLUMN_BODY,id:l}]}}),updateColumnBody:e.mutation({query:function(e){var t=e;return{url:"".concat(We),method:"POST",body:t}},invalidatesTags:function(e){return[{type:k.pJ.COLUMN_BODY,id:null===e||void 0===e?void 0:e.key}]}}),deleteColumnBody:e.mutation({query:function(e){return{url:"".concat(We).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:k.pJ.COLUMN_BODY,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),Ze=Me.useAddColumnBodyMutation,De=Me.useDeleteColumnBodyMutation,Ve=Me.useGetColumnBodyQuery,He=Me.useListColumnBodyQuery,Ue=Me.useUpdateColumnBodyMutation,Je=(Me.useGetErrorProneQuery,"Column Body"),ze=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},Ge=function(e){var t=(0,i.pm)(),l=t.showSuccess,r=t.showError,o=(0,n.useState)(!1),c=(0,u.Z)(o,2),s=c[0],m=c[1],v=(0,n.useState)({}),f=(0,u.Z)(v,2),y=f[0],E=f[1],g=(0,a.s0)(),N=(0,a.UO)().id,L=parseInt(N||""),w=isNaN(L)||L<=0,S=(0,n.useRef)(),j=(0,a.TH)().state;!j&&w&&g("/estimation/columnbody");var _=(0,k.ft)(),O=Ve(L,{skip:w,refetchOnMountOrArgChange:!0}),T=O.data,A=O.isLoading,x=(0,k.JB)(),C=x.data,P=x.isLoading,q=(0,k.cQ)({projectId:null===j||void 0===j?void 0:j.projectKey},{skip:!(null===j||void 0===j?void 0:j.projectKey)}),I=q.data,R=(q.isLoading,(0,k.DY)({})),F=R.data,B=(R.isLoading,Ze()),Q=(0,u.Z)(B,2),W=Q[0],M=Q[1].isLoading,Z=Ue(),D=(0,u.Z)(Z,2),V=D[0],H=D[1].isLoading;(0,n.useEffect)((function(){E(T||Object.assign(Object.assign({},_),{proj_key:null===j||void 0===j?void 0:j.projectKey,projblk_key:null===j||void 0===j?void 0:j.blockKey}))}),[T]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/columnbody",description:Je,id:L,data:y,isUpdating:M||H||s,ref:S,isLoading:A,onSubmit:function(e){return ze(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=Object.assign({},e),!w){t.next=8;break}return t.next=5,W(Object.assign(Object.assign({},a),_)).unwrap();case 5:n=t.sent,t.next=11;break;case 8:return t.next=10,V(Object.assign(Object.assign(Object.assign({},a),_),{key:null===T||void 0===T?void 0:T.key})).unwrap();case 10:n=t.sent;case 11:l("Success",n.detail),m(!0),setTimeout((function(){g("/estimation/columnbody")}),k.P7),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),r("An error occurred","We couldn't save your post, try again!");case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))},renderForm:function(e,t,l,a){return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:P,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:C}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===I||void 0===I?void 0:I.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(b.z,{disabled:!0,label:"Clear"})),n.createElement(K.i,null),n.createElement(i.Wi,{label:"Component Name",className:"col-12",name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,formItem:{component:p.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:l,leftSpan:2,rightSpan:6,formItem:{component:p.o,componentProps:{maxLength:100}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement(p.o,{className:"col-1",placeholder:""}),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement(h.L,{className:"col-1",optionLabel:"descr",optionValue:"key",options:null===F||void 0===F?void 0:F.results}),n.createElement("div",{className:"col-6"})),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"W x B / UOM"),n.createElement(p.o,{className:"col-1",style:{marginLeft:4},placeholder:""}),n.createElement("span",{className:"inputgroup-divider-normal"},"X"),n.createElement(p.o,{className:"col-1",style:{marginLeft:4},placeholder:""}),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement(h.L,{className:"col-2",optionLabel:"descr",optionValue:"key",options:null===F||void 0===F?void 0:F.results}),n.createElement("div",{className:"col-4",style:{margin:"auto"}},n.createElement("label",{style:{display:"flex",justifyContent:"center"}},"Target Quantity / UOM"))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Column Extension RCC"),n.createElement("div",{className:"col-3"},n.createElement(h.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===F||void 0===F?void 0:F.results})),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"1:1:2",disabled:!0})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:""})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Column Body Rod Pack"),n.createElement("div",{className:"col-3"},n.createElement(h.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===F||void 0===F?void 0:F.results})),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"1.0 X 1.6 FEET",disabled:!0})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:""})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))))}}))},Xe=function(e){var t=De(),l=(0,u.Z)(t,2),a=l[0],o=l[1].isLoading,c=(0,n.useState)(null),s=(0,u.Z)(c,2),d=s[0],m=s[1],p=(0,n.useState)(null),v=(0,u.Z)(p,2),f=v[0],y=v[1],E=(0,k.dx)({}).data,g=(0,k.cQ)({projectId:d},{skip:!d}),N=g.data,L=(g.isLoading,He({projectId:d,blockId:f},{skip:!d||!f})),w=L.data,S=L.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},Je),n.createElement(R.rU,{to:{pathname:"/estimation/columnbody/new"},state:{projectKey:d,blockKey:f},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(b.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(K.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:d,filter:!0,filterBy:"name",onChange:function(e){m(e.value),y(null)},options:null===E||void 0===E?void 0:E.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:f,filter:!0,filterBy:"descr",onChange:function(e){y(e.value)},options:null===N||void 0===N?void 0:N.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(b.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),y(null)}}))),n.createElement(K.i,null),n.createElement(i.PS,{baseRoute:"/estimation/columnbody",description:Je,isLoading:S||o,data:null===w||void 0===w?void 0:w.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return a(e).unwrap()}},n.createElement(i._P,{field:"name",header:"Component Name",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"}),n.createElement(i._P,{field:"uom",header:"Base UOM",filteringType:"text"})))},Ye=n.createElement(a.AW,{path:"columnbody"},n.createElement(a.AW,{path:"new",element:n.createElement(Ge,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(Ge,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(Xe,null)})),$e="/estimation/columnfooting/",et=k.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listColumnFooting:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,k.DS)($e,"?page=".concat(t||1,"&page_size=").concat(l||k.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,N.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:k.pJ.COLUMN_FOOTING,key:t}}))),[{type:k.pJ.COLUMN_FOOTING,id:"LIST"}]):[{type:k.pJ.COLUMN_FOOTING,id:"LIST"}]}}),addColumnFooting:e.mutation({query:function(e){return{url:$e,method:"POST",footing:e}},invalidatesTags:[{type:k.pJ.COLUMN_FOOTING,id:"LIST"}]}),getColumnFooting:e.query({query:function(e){return"".concat($e).concat(e)},providesTags:function(e,t,l){return[{type:k.pJ.COLUMN_FOOTING,id:l}]}}),updateColumnFooting:e.mutation({query:function(e){var t=e;return{url:"".concat($e),method:"POST",footing:t}},invalidatesTags:function(e){return[{type:k.pJ.COLUMN_FOOTING,id:null===e||void 0===e?void 0:e.key}]}}),deleteColumnFooting:e.mutation({query:function(e){return{url:"".concat($e).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:k.pJ.COLUMN_FOOTING,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),tt=et.useAddColumnFootingMutation,lt=et.useDeleteColumnFootingMutation,nt=et.useGetColumnFootingQuery,at=et.useListColumnFootingQuery,it=et.useUpdateColumnFootingMutation,rt=(et.useGetErrorProneQuery,"Column Footing"),ot=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},ct=function(e){var t=(0,i.pm)(),l=t.showSuccess,r=t.showError,o=(0,n.useState)(!1),c=(0,u.Z)(o,2),s=c[0],m=c[1],v=(0,n.useState)({}),f=(0,u.Z)(v,2),y=f[0],E=f[1],g=(0,a.s0)(),N=(0,a.UO)().id,L=parseInt(N||""),w=isNaN(L)||L<=0,S=(0,n.useRef)(),j=(0,a.TH)().state;!j&&w&&g("/estimation/columnfooting");var _=(0,k.ft)(),O=(0,n.useState)({}),T=(0,u.Z)(O,2),A=T[0],x=T[1],C=nt(L,{skip:w,refetchOnMountOrArgChange:!0}),P=C.data,q=C.isLoading,I=(0,k.JB)(),R=I.data,F=I.isLoading,B=(0,k.cQ)({projectId:null===j||void 0===j?void 0:j.projectKey},{skip:!(null===j||void 0===j?void 0:j.projectKey)}),Q=B.data,W=(B.isLoading,(0,k.DY)({})),M=W.data,Z=(W.isLoading,tt()),D=(0,u.Z)(Z,2),V=D[0],H=D[1].isLoading,U=it(),J=(0,u.Z)(U,2),z=J[0],G=J[1].isLoading;(0,n.useEffect)((function(){E(P||Object.assign(Object.assign({},_),{proj_key:null===j||void 0===j?void 0:j.projectKey,projblk_key:null===j||void 0===j?void 0:j.blockKey}))}),[P]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/columnfooting",description:rt,id:L,data:y,isUpdating:H||G||s,ref:S,isLoading:q,onSubmit:function(e){return ot(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=Object.assign({},e),!w){t.next=8;break}return t.next=5,V(Object.assign(Object.assign({},a),_)).unwrap();case 5:n=t.sent,t.next=11;break;case 8:return t.next=10,z(Object.assign(Object.assign(Object.assign({},a),_),{key:null===P||void 0===P?void 0:P.key})).unwrap();case 10:n=t.sent;case 11:l("Success",n.detail),m(!0),setTimeout((function(){g("/estimation/columnfooting")}),k.P7),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),r("An error occurred","We couldn't save your post, try again!");case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))},renderForm:function(e,t,l,a){return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:F,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:R}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===Q||void 0===Q?void 0:Q.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(b.z,{disabled:!0,label:"Clear"})),n.createElement(K.i,null),n.createElement(i.Wi,{label:"Component Name",className:"col-12",name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,useExplicit:!0,onChange:function(e){x(Object.assign(Object.assign({},A),{name:e.target.value}))},formItem:{component:p.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Type",name:"typ_key",className:"col-12",control:e,errors:l,leftSpan:2,rightSpan:4,useExplicit:!0,onChange:function(e){x(Object.assign(Object.assign({},A),{type:e.value}))},formItem:{component:h.L,componentProps:{options:["Column Footing","Pile Cap","Lift Footing"]}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement(p.o,{className:"col-1",placeholder:""}),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement(h.L,{className:"col-1",optionLabel:"descr",optionValue:"key",options:null===M||void 0===M?void 0:M.results}),n.createElement("div",{className:"col-6"})),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"L x B / UOM"),n.createElement(p.o,{className:"col-1",style:{marginLeft:4},placeholder:""}),n.createElement("span",{className:"inputgroup-divider-normal"},"X"),n.createElement(p.o,{className:"col-1",style:{marginLeft:4},placeholder:""}),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement(h.L,{className:"col-2",optionLabel:"descr",optionValue:"key",options:null===M||void 0===M?void 0:M.results}),n.createElement("div",{className:"col-4",style:{margin:"auto"}})),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Height x Depth / UOM"),n.createElement(p.o,{className:"col-1",style:{marginLeft:4},placeholder:""}),n.createElement("span",{className:"inputgroup-divider-normal"},"X"),n.createElement(p.o,{className:"col-1",style:{marginLeft:4},placeholder:""}),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement(h.L,{className:"col-2",optionLabel:"descr",optionValue:"key",options:null===M||void 0===M?void 0:M.results}),n.createElement("div",{className:"col-4",style:{margin:"auto"}},n.createElement("label",{style:{display:"flex",justifyContent:"center"}},"Target Quantity / UOM"))),n.createElement("div",{className:"col-12",style:{fontWeight:"bolder",fontSize:24}},"Materials required for making One Whole ",n.createElement("i",null,(null===A||void 0===A?void 0:A.type)||"<Footing type>")," ",n.createElement("i",null,(null===A||void 0===A?void 0:A.name)||"<Footing Name>"," ")),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Footing PCC"),n.createElement("div",{className:"col-3"},n.createElement(h.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===M||void 0===M?void 0:M.results})),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"1:1:2",disabled:!0})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:""})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Footing RCC"),n.createElement("div",{className:"col-3"},n.createElement(h.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===M||void 0===M?void 0:M.results})),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"1:1:2",disabled:!0})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:""})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Rod Pack Name"),n.createElement("div",{className:"col-3"},n.createElement(h.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===M||void 0===M?void 0:M.results})),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"7.0 X 8.0 X 1.5 FT SLOPED",disabled:!0})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:""})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))))}}))},st=function(e){var t=lt(),l=(0,u.Z)(t,2),a=l[0],o=l[1].isLoading,c=(0,n.useState)(null),s=(0,u.Z)(c,2),d=s[0],m=s[1],p=(0,n.useState)(null),v=(0,u.Z)(p,2),f=v[0],y=v[1],E=(0,k.dx)({}).data,g=(0,k.cQ)({projectId:d},{skip:!d}),N=g.data,L=(g.isLoading,at({projectId:d,blockId:f},{skip:!d||!f})),w=L.data,S=L.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},rt),n.createElement(R.rU,{to:{pathname:"/estimation/columnfooting/new"},state:{projectKey:d,blockKey:f},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(b.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(K.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:d,filter:!0,filterBy:"name",onChange:function(e){m(e.value),y(null)},options:null===E||void 0===E?void 0:E.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:f,filter:!0,filterBy:"descr",onChange:function(e){y(e.value)},options:null===N||void 0===N?void 0:N.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(b.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),y(null)}}))),n.createElement(K.i,null),n.createElement(i.PS,{baseRoute:"/estimation/columnfooting",description:rt,isLoading:S||o,data:null===w||void 0===w?void 0:w.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return a(e).unwrap()}},n.createElement(i._P,{field:"name",header:"Component Name",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"}),n.createElement(i._P,{field:"uom",header:"Base UOM",filteringType:"text"})))},dt=n.createElement(a.AW,{path:"columnfooting"},n.createElement(a.AW,{path:"new",element:n.createElement(ct,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(ct,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(st,null)})),ut="/estimation/cupboard/",mt=k.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listCupboard:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,k.DS)(ut,"?page=".concat(t||1,"&page_size=").concat(l||k.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,N.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:k.pJ.CUPBOARD,key:t}}))),[{type:k.pJ.CUPBOARD,id:"LIST"}]):[{type:k.pJ.CUPBOARD,id:"LIST"}]}}),addCupboard:e.mutation({query:function(e){return{url:ut,method:"POST",body:e}},invalidatesTags:[{type:k.pJ.CUPBOARD,id:"LIST"}]}),getCupboard:e.query({query:function(e){return"".concat(ut).concat(e)},providesTags:function(e,t,l){return[{type:k.pJ.CUPBOARD,id:l}]}}),updateCupboard:e.mutation({query:function(e){var t=e;return{url:"".concat(ut),method:"POST",body:t}},invalidatesTags:function(e){return[{type:k.pJ.CUPBOARD,id:null===e||void 0===e?void 0:e.key}]}}),deleteCupboard:e.mutation({query:function(e){return{url:"".concat(ut).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:k.pJ.CUPBOARD,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),pt=mt.useAddCupboardMutation,vt=mt.useDeleteCupboardMutation,ft=mt.useGetCupboardQuery,yt=mt.useListCupboardQuery,Et=mt.useUpdateCupboardMutation,gt=(mt.useGetErrorProneQuery,"Cupboard"),bt=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},ht=function(e){var t=(0,i.pm)(),l=t.showSuccess,r=t.showError,o=(0,n.useState)(!1),c=(0,u.Z)(o,2),s=c[0],m=c[1],v=(0,n.useState)({}),f=(0,u.Z)(v,2),y=f[0],E=f[1],g=(0,a.s0)(),N=(0,a.UO)().id,L=parseInt(N||""),w=isNaN(L)||L<=0,S=(0,n.useRef)(),j=(0,a.TH)().state;!j&&w&&g("/estimation/cupboard");var _=(0,k.ft)(),O=ft(L,{skip:w,refetchOnMountOrArgChange:!0}),T=O.data,A=O.isLoading,x=(0,k.JB)(),C=x.data,P=x.isLoading,q=(0,k.cQ)({projectId:null===j||void 0===j?void 0:j.projectKey},{skip:!(null===j||void 0===j?void 0:j.projectKey)}),I=q.data,R=(q.isLoading,(0,k.DY)({})),F=R.data,B=(R.isLoading,pt()),Q=(0,u.Z)(B,2),W=Q[0],M=Q[1].isLoading,Z=Et(),D=(0,u.Z)(Z,2),V=D[0],H=D[1].isLoading;(0,n.useEffect)((function(){E(T||Object.assign(Object.assign({},_),{proj_key:null===j||void 0===j?void 0:j.projectKey,projblk_key:null===j||void 0===j?void 0:j.blockKey}))}),[T]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/cupboard",description:gt,id:L,data:y,isUpdating:M||H||s,ref:S,isLoading:A,onSubmit:function(e){return bt(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=Object.assign({},e),!w){t.next=8;break}return t.next=5,W(Object.assign(Object.assign({},a),_)).unwrap();case 5:n=t.sent,t.next=11;break;case 8:return t.next=10,V(Object.assign(Object.assign(Object.assign({},a),_),{key:null===T||void 0===T?void 0:T.key})).unwrap();case 10:n=t.sent;case 11:l("Success",n.detail),m(!0),setTimeout((function(){g("/estimation/cupboard")}),k.P7),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),r("An error occurred","We couldn't save your post, try again!");case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))},renderForm:function(e,t,l,a){return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:P,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:C}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===I||void 0===I?void 0:I.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(b.z,{disabled:!0,label:"Clear"})),n.createElement(K.i,null),n.createElement(i.Wi,{label:"Component Name",className:"col-12",name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,formItem:{component:p.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:l,leftSpan:2,rightSpan:6,formItem:{component:p.o,componentProps:{maxLength:100}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement(p.o,{className:"col-1",placeholder:""}),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement(h.L,{className:"col-1",optionLabel:"descr",optionValue:"key",options:null===F||void 0===F?void 0:F.results}),n.createElement("div",{className:"col-6"})),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("div",{className:"col-8"}),n.createElement("div",{className:"col-4",style:{margin:"auto"}},n.createElement("label",{style:{display:"flex",justifyContent:"center"}},"Target Quantity / UOM"))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Brickwork"),n.createElement("div",{className:"col-3"},n.createElement(h.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===F||void 0===F?void 0:F.results})),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"4 inch",disabled:!0})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:""})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Partition Slab"),n.createElement("div",{className:"col-3"},n.createElement(h.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===F||void 0===F?void 0:F.results})),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"12.0 X 1.5 FEET",disabled:!0})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:""})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Plaster"),n.createElement("div",{className:"col-3"},n.createElement(h.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===F||void 0===F?void 0:F.results})),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"Cement plaster",disabled:!0})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:""})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))))}}))},Nt=function(e){var t=vt(),l=(0,u.Z)(t,2),a=l[0],o=l[1].isLoading,c=(0,n.useState)(null),s=(0,u.Z)(c,2),d=s[0],m=s[1],p=(0,n.useState)(null),v=(0,u.Z)(p,2),f=v[0],y=v[1],E=(0,k.dx)({}).data,g=(0,k.cQ)({projectId:d},{skip:!d}),N=g.data,L=(g.isLoading,yt({projectId:d,blockId:f},{skip:!d||!f})),w=L.data,S=L.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},gt),n.createElement(R.rU,{to:{pathname:"/estimation/cupboard/new"},state:{projectKey:d,blockKey:f},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(b.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(K.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:d,filter:!0,filterBy:"name",onChange:function(e){m(e.value),y(null)},options:null===E||void 0===E?void 0:E.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:f,filter:!0,filterBy:"descr",onChange:function(e){y(e.value)},options:null===N||void 0===N?void 0:N.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(b.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),y(null)}}))),n.createElement(K.i,null),n.createElement(i.PS,{baseRoute:"/estimation/cupboard",description:gt,isLoading:S||o,data:null===w||void 0===w?void 0:w.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return a(e).unwrap()}},n.createElement(i._P,{field:"name",header:"Component Name",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"}),n.createElement(i._P,{field:"uom",header:"Base UOM",filteringType:"text"})))},kt=n.createElement(a.AW,{path:"cupboard"},n.createElement(a.AW,{path:"new",element:n.createElement(ht,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(ht,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(Nt,null)})),Lt="/estimation/generictank/",wt=k.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listGenericTank:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,k.DS)(Lt,"?page=".concat(t||1,"&page_size=").concat(l||k.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,N.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:k.pJ.GENERIC_TANK,key:t}}))),[{type:k.pJ.GENERIC_TANK,id:"LIST"}]):[{type:k.pJ.GENERIC_TANK,id:"LIST"}]}}),addGenericTank:e.mutation({query:function(e){return{url:Lt,method:"POST",data:e}},invalidatesTags:[{type:k.pJ.GENERIC_TANK,id:"LIST"}]}),getGenericTank:e.query({query:function(e){return"".concat(Lt).concat(e)},providesTags:function(e,t,l){return[{type:k.pJ.GENERIC_TANK,id:l}]}}),updateGenericTank:e.mutation({query:function(e){return{url:"".concat(Lt),method:"POST",data:e}},invalidatesTags:function(e){return[{type:k.pJ.GENERIC_TANK,id:null===e||void 0===e?void 0:e.key}]}}),deleteGenericTank:e.mutation({query:function(e){return{url:"".concat(Lt).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:k.pJ.GENERIC_TANK,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),St=wt.useAddGenericTankMutation,jt=wt.useDeleteGenericTankMutation,_t=wt.useGetGenericTankQuery,Ot=wt.useListGenericTankQuery,Tt=wt.useUpdateGenericTankMutation,At=(wt.useGetErrorProneQuery,"Generic Tank"),xt=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},Ct=function(e){var t=(0,i.pm)(),l=t.showSuccess,o=t.showError,c=(0,n.useState)(!1),s=(0,u.Z)(c,2),v=s[0],f=s[1],y=(0,n.useState)({}),E=(0,u.Z)(y,2),g=E[0],N=E[1],L=(0,a.s0)(),w=(0,a.UO)().id,S=parseInt(w||""),j=isNaN(S)||S<=0,_=(0,n.useRef)(),O=(0,a.TH)().state;!O&&j&&L("/estimation/generictank");var T=(0,k.ft)(),A=_t(S,{skip:j,refetchOnMountOrArgChange:!0}),x=A.data,C=A.isLoading,P=(0,k.JB)(),q=P.data,I=P.isLoading,R=(0,k.cQ)({projectId:null===O||void 0===O?void 0:O.projectKey},{skip:!(null===O||void 0===O?void 0:O.projectKey)}),F=R.data,B=(R.isLoading,(0,n.useState)({})),Q=(0,u.Z)(B,2),W=Q[0],M=Q[1],Z=(0,k.DY)({}),D=Z.data,V=(Z.isLoading,St()),H=(0,u.Z)(V,2),U=H[0],J=H[1].isLoading,z=Tt(),G=(0,u.Z)(z,2),X=G[0],Y=G[1].isLoading;(0,n.useEffect)((function(){N(x||Object.assign(Object.assign({},T),{proj_key:null===O||void 0===O?void 0:O.projectKey,projblk_key:null===O||void 0===O?void 0:O.blockKey}))}),[x]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/generictank",description:At,id:S,data:g,isUpdating:J||Y||v,ref:_,isLoading:C,onSubmit:function(e){return xt(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=Object.assign({},e),!j){t.next=8;break}return t.next=5,U(Object.assign(Object.assign({},a),T)).unwrap();case 5:n=t.sent,t.next=11;break;case 8:return t.next=10,X(Object.assign(Object.assign(Object.assign({},a),T),{key:null===x||void 0===x?void 0:x.key})).unwrap();case 10:n=t.sent;case 11:l("Success",n.detail),f(!0),setTimeout((function(){L("/estimation/generictank")}),k.P7),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),o("An error occurred","We couldn't save your post, try again!");case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))},renderForm:function(e,t,l,a){var o,c,s,d,u,v,f,y,E,g,N,k,L,w,S,j,_,O,T,A,x,C;return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:I,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:q}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===F||void 0===F?void 0:F.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(b.z,{disabled:!0,label:"Clear"})),n.createElement(K.i,null),n.createElement(i.Wi,{label:"Component Name",className:"col-12",name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,useExplicit:!0,onChange:function(e){M(Object.assign(Object.assign({},W),{name:e.target.value}))},formItem:{component:p.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Type",name:"typ_key",className:"col-12",control:e,errors:l,leftSpan:2,rightSpan:4,useExplicit:!0,onChange:function(e){M(Object.assign(Object.assign({},W),{type:e.value}))},formItem:{component:h.L,componentProps:{options:["Sump","Septic Tank","Overhead Tank"]}}}),n.createElement(i.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:l,leftSpan:2,rightSpan:6,formItem:{component:p.o,componentProps:{maxLength:100}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"base_qty",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(o=null===l||void 0===l?void 0:l.base_qty)||void 0===o?void 0:o.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===D||void 0===D?void 0:D.results}))}}),(0,i.Hb)(null===(c=null===l||void 0===l?void 0:l.uom_key)||void 0===c?void 0:c.message)),n.createElement("div",{className:"col-6"})),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"L x B x H / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(s=null===l||void 0===l?void 0:l.b_value)||void 0===s?void 0:s.message)),n.createElement("span",{className:"inputgroup-divider-normal"},"X"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"w_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(d=null===l||void 0===l?void 0:l.w_value)||void 0===d?void 0:d.message)),n.createElement("span",{className:"inputgroup-divider-normal"},"X"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"l_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(u=null===l||void 0===l?void 0:l.l_value)||void 0===u?void 0:u.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"bwl_uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===D||void 0===D?void 0:D.results}))}}),(0,i.Hb)(null===(v=null===l||void 0===l?void 0:l.bwl_uom_key)||void 0===v?void 0:v.message)),n.createElement("div",{className:"col-4",style:{margin:"auto"}},n.createElement("label",{style:{display:"flex",justifyContent:"center"}},"Target Quantity / UOM"))),n.createElement("div",{className:"col-12",style:{fontWeight:"bolder",fontSize:24}},"Materials required for making One Whole ",n.createElement("i",null,(null===W||void 0===W?void 0:W.type)||"<Type name>")," ",n.createElement("i",null,(null===W||void 0===W?void 0:W.name)||"<Tank Name>"," ")),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Tank Floor PCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"col_ext",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===D||void 0===D?void 0:D.results}))}}),(0,i.Hb)(null===(f=null===l||void 0===l?void 0:l.col_ext)||void 0===f?void 0:f.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"1:1:2",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(y=null===l||void 0===l?void 0:l.b_value)||void 0===y?void 0:y.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Tank Floor RCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===D||void 0===D?void 0:D.results}))}}),(0,i.Hb)(null===(E=null===l||void 0===l?void 0:l.body_rock)||void 0===E?void 0:E.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"8.0 X 6.0 X 1.0 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(g=null===l||void 0===l?void 0:l.b_value)||void 0===g?void 0:g.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Tank Rod Pack"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===D||void 0===D?void 0:D.results}))}}),(0,i.Hb)(null===(N=null===l||void 0===l?void 0:l.body_rock)||void 0===N?void 0:N.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"1.0 X 1.6 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(k=null===l||void 0===l?void 0:l.b_value)||void 0===k?void 0:k.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Brickwork"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===D||void 0===D?void 0:D.results}))}}),(0,i.Hb)(null===(L=null===l||void 0===l?void 0:l.body_rock)||void 0===L?void 0:L.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"4 inch",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(w=null===l||void 0===l?void 0:l.b_value)||void 0===w?void 0:w.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Wall RCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===D||void 0===D?void 0:D.results}))}}),(0,i.Hb)(null===(S=null===l||void 0===l?void 0:l.body_rock)||void 0===S?void 0:S.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"28.0 X 5.0 X 0.3 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(j=null===l||void 0===l?void 0:l.b_value)||void 0===j?void 0:j.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Roof RCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===D||void 0===D?void 0:D.results}))}}),(0,i.Hb)(null===(_=null===l||void 0===l?void 0:l.body_rock)||void 0===_?void 0:_.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"8.0 X 6.0 X 0.3 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(O=null===l||void 0===l?void 0:l.b_value)||void 0===O?void 0:O.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Inner Plaster"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===D||void 0===D?void 0:D.results}))}}),(0,i.Hb)(null===(T=null===l||void 0===l?void 0:l.body_rock)||void 0===T?void 0:T.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"Inner Plaster",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(A=null===l||void 0===l?void 0:l.b_value)||void 0===A?void 0:A.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Outer Plaster"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===D||void 0===D?void 0:D.results}))}}),(0,i.Hb)(null===(x=null===l||void 0===l?void 0:l.body_rock)||void 0===x?void 0:x.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"Outer Plaster",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(C=null===l||void 0===l?void 0:l.b_value)||void 0===C?void 0:C.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))))}}))},Pt=function(e){var t=jt(),l=(0,u.Z)(t,2),a=l[0],o=l[1].isLoading,c=(0,n.useState)(null),s=(0,u.Z)(c,2),d=s[0],m=s[1],p=(0,n.useState)(null),v=(0,u.Z)(p,2),f=v[0],y=v[1],E=(0,k.dx)({}).data,g=(0,k.cQ)({projectId:d},{skip:!d}),N=g.data,L=(g.isLoading,Ot({projectId:d,blockId:f},{skip:!d||!f})),w=L.data,S=L.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},At),n.createElement(R.rU,{to:{pathname:"/estimation/generictank/new"},state:{projectKey:d,blockKey:f},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(b.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(K.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:d,filter:!0,filterBy:"name",onChange:function(e){m(e.value),y(null)},options:null===E||void 0===E?void 0:E.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:f,filter:!0,filterBy:"descr",onChange:function(e){y(e.value)},options:null===N||void 0===N?void 0:N.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(b.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),y(null)}}))),n.createElement(K.i,null),n.createElement(i.PS,{baseRoute:"/estimation/generictank",description:At,isLoading:S||o,data:null===w||void 0===w?void 0:w.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return a(e).unwrap()}},n.createElement(i._P,{field:"name",header:"Component Name",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"}),n.createElement(i._P,{field:"uom",header:"Base UOM",filteringType:"text"})))},qt=n.createElement(a.AW,{path:"generictank"},n.createElement(a.AW,{path:"new",element:n.createElement(Ct,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(Ct,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(Pt,null)})),It="/estimation/kitchenstage/",Kt=k.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listKitchenStage:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,k.DS)(It,"?page=".concat(t||1,"&page_size=").concat(l||k.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,N.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:k.pJ.KITCHEN_STAGE,key:t}}))),[{type:k.pJ.KITCHEN_STAGE,id:"LIST"}]):[{type:k.pJ.KITCHEN_STAGE,id:"LIST"}]}}),addKitchenStage:e.mutation({query:function(e){return{url:It,method:"POST",data:e}},invalidatesTags:[{type:k.pJ.KITCHEN_STAGE,id:"LIST"}]}),getKitchenStage:e.query({query:function(e){return"".concat(It).concat(e)},providesTags:function(e,t,l){return[{type:k.pJ.KITCHEN_STAGE,id:l}]}}),updateKitchenStage:e.mutation({query:function(e){return{url:"".concat(It),method:"POST",data:e}},invalidatesTags:function(e){return[{type:k.pJ.KITCHEN_STAGE,id:null===e||void 0===e?void 0:e.key}]}}),deleteKitchenStage:e.mutation({query:function(e){return{url:"".concat(It).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:k.pJ.KITCHEN_STAGE,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),Rt=Kt.useAddKitchenStageMutation,Ft=Kt.useDeleteKitchenStageMutation,Bt=Kt.useGetKitchenStageQuery,Qt=Kt.useListKitchenStageQuery,Wt=Kt.useUpdateKitchenStageMutation,Mt=(Kt.useGetErrorProneQuery,"Kitchen Stage"),Zt=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},Dt=function(e){var t=(0,i.pm)(),l=t.showSuccess,o=t.showError,c=(0,n.useState)(!1),s=(0,u.Z)(c,2),v=s[0],f=s[1],y=(0,n.useState)({}),E=(0,u.Z)(y,2),g=E[0],N=E[1],L=(0,a.s0)(),w=(0,a.UO)().id,S=parseInt(w||""),j=isNaN(S)||S<=0,_=(0,n.useRef)(),O=(0,a.TH)().state;!O&&j&&L("/estimation/kitchenstage");var T=(0,k.ft)(),A=Bt(S,{skip:j,refetchOnMountOrArgChange:!0}),x=A.data,C=A.isLoading,P=(0,k.JB)(),q=P.data,I=P.isLoading,R=(0,k.cQ)({projectId:null===O||void 0===O?void 0:O.projectKey},{skip:!(null===O||void 0===O?void 0:O.projectKey)}),F=R.data,B=(R.isLoading,(0,k.DY)({})),Q=B.data,W=(B.isLoading,Rt()),M=(0,u.Z)(W,2),Z=M[0],D=M[1].isLoading,V=Wt(),H=(0,u.Z)(V,2),U=H[0],J=H[1].isLoading;(0,n.useEffect)((function(){N(x||Object.assign(Object.assign({},T),{proj_key:null===O||void 0===O?void 0:O.projectKey,projblk_key:null===O||void 0===O?void 0:O.blockKey}))}),[x]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/kitchenstage",description:Mt,id:S,data:g,isUpdating:D||J||v,ref:_,isLoading:C,onSubmit:function(e){return Zt(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=Object.assign({},e),!j){t.next=8;break}return t.next=5,Z(Object.assign(Object.assign({},a),T)).unwrap();case 5:n=t.sent,t.next=11;break;case 8:return t.next=10,U(Object.assign(Object.assign(Object.assign({},a),T),{key:null===x||void 0===x?void 0:x.key})).unwrap();case 10:n=t.sent;case 11:l("Success",n.detail),f(!0),setTimeout((function(){L("/estimation/kitchenstage")}),k.P7),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),o("An error occurred","We couldn't save your post, try again!");case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))},renderForm:function(e,t,l,a){var o,c,s,d,u,v,f,y,E,g;return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:I,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:q}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===F||void 0===F?void 0:F.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(b.z,{disabled:!0,label:"Clear"})),n.createElement(K.i,null),n.createElement(i.Wi,{label:"Component Name",className:"col-12",name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,formItem:{component:p.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:l,leftSpan:2,rightSpan:6,formItem:{component:p.o,componentProps:{maxLength:100}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"base_qty",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(o=null===l||void 0===l?void 0:l.base_qty)||void 0===o?void 0:o.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(c=null===l||void 0===l?void 0:l.uom_key)||void 0===c?void 0:c.message)),n.createElement("div",{className:"col-6"})),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("div",{className:"col-8"}),n.createElement("div",{className:"col-4",style:{margin:"auto"}},n.createElement("label",{style:{display:"flex",justifyContent:"center"}},"Target Quantity / UOM"))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Brickwork"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(s=null===l||void 0===l?void 0:l.body_rock)||void 0===s?void 0:s.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"4 inch",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(d=null===l||void 0===l?void 0:l.b_value)||void 0===d?void 0:d.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Stage Slab Rod Pack"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(u=null===l||void 0===l?void 0:l.body_rock)||void 0===u?void 0:u.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"28.0 X 5.0 X 0.3 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(v=null===l||void 0===l?void 0:l.b_value)||void 0===v?void 0:v.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Stage Slab RCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(f=null===l||void 0===l?void 0:l.body_rock)||void 0===f?void 0:f.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"8.0 X 6.0 X 0.3 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(y=null===l||void 0===l?void 0:l.b_value)||void 0===y?void 0:y.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Plaster"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(E=null===l||void 0===l?void 0:l.body_rock)||void 0===E?void 0:E.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"Inner Plaster",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(g=null===l||void 0===l?void 0:l.b_value)||void 0===g?void 0:g.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))))}}))},Vt=function(e){var t=Ft(),l=(0,u.Z)(t,2),a=l[0],o=l[1].isLoading,c=(0,n.useState)(null),s=(0,u.Z)(c,2),d=s[0],m=s[1],p=(0,n.useState)(null),v=(0,u.Z)(p,2),f=v[0],y=v[1],E=(0,k.dx)({}).data,g=(0,k.cQ)({projectId:d},{skip:!d}),N=g.data,L=(g.isLoading,Qt({projectId:d,blockId:f},{skip:!d||!f})),w=L.data,S=L.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},Mt),n.createElement(R.rU,{to:{pathname:"/estimation/kitchenstage/new"},state:{projectKey:d,blockKey:f},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(b.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(K.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:d,filter:!0,filterBy:"name",onChange:function(e){m(e.value),y(null)},options:null===E||void 0===E?void 0:E.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:f,filter:!0,filterBy:"descr",onChange:function(e){y(e.value)},options:null===N||void 0===N?void 0:N.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(b.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),y(null)}}))),n.createElement(K.i,null),n.createElement(i.PS,{baseRoute:"/estimation/kitchenstage",description:Mt,isLoading:S||o,data:null===w||void 0===w?void 0:w.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return a(e).unwrap()}},n.createElement(i._P,{field:"name",header:"Component Name",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"}),n.createElement(i._P,{field:"uom",header:"Base UOM",filteringType:"text"})))},Ht=n.createElement(a.AW,{path:"kitchenstage"},n.createElement(a.AW,{path:"new",element:n.createElement(Dt,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(Dt,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(Vt,null)})),Ut="/estimation/liftfooting/",Jt=k.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listLiftFooting:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,k.DS)(Ut,"?page=".concat(t||1,"&page_size=").concat(l||k.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,N.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:k.pJ.LIFT_FOOTING,key:t}}))),[{type:k.pJ.LIFT_FOOTING,id:"LIST"}]):[{type:k.pJ.LIFT_FOOTING,id:"LIST"}]}}),addLiftFooting:e.mutation({query:function(e){return{url:Ut,method:"POST",data:e}},invalidatesTags:[{type:k.pJ.LIFT_FOOTING,id:"LIST"}]}),getLiftFooting:e.query({query:function(e){return"".concat(Ut).concat(e)},providesTags:function(e,t,l){return[{type:k.pJ.LIFT_FOOTING,id:l}]}}),updateLiftFooting:e.mutation({query:function(e){return{url:"".concat(Ut),method:"POST",data:e}},invalidatesTags:function(e){return[{type:k.pJ.LIFT_FOOTING,id:null===e||void 0===e?void 0:e.key}]}}),deleteLiftFooting:e.mutation({query:function(e){return{url:"".concat(Ut).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:k.pJ.LIFT_FOOTING,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),zt=Jt.useAddLiftFootingMutation,Gt=Jt.useDeleteLiftFootingMutation,Xt=Jt.useGetLiftFootingQuery,Yt=Jt.useListLiftFootingQuery,$t=Jt.useUpdateLiftFootingMutation,el=(Jt.useGetErrorProneQuery,"Lift Footing"),tl=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},ll=function(e){var t=(0,i.pm)(),l=t.showSuccess,o=t.showError,c=(0,n.useState)(!1),s=(0,u.Z)(c,2),v=s[0],f=s[1],y=(0,n.useState)({}),E=(0,u.Z)(y,2),g=E[0],N=E[1],L=(0,a.s0)(),w=(0,a.UO)().id,S=parseInt(w||""),j=isNaN(S)||S<=0,_=(0,n.useRef)(),O=(0,a.TH)().state;!O&&j&&L("/estimation/liftfooting");var T=(0,k.ft)(),A=Xt(S,{skip:j,refetchOnMountOrArgChange:!0}),x=A.data,C=A.isLoading,P=(0,k.JB)(),q=P.data,I=P.isLoading,R=(0,k.cQ)({projectId:null===O||void 0===O?void 0:O.projectKey},{skip:!(null===O||void 0===O?void 0:O.projectKey)}),F=R.data,B=(R.isLoading,(0,k.DY)({})),Q=B.data,W=(B.isLoading,zt()),M=(0,u.Z)(W,2),Z=M[0],D=M[1].isLoading,V=$t(),H=(0,u.Z)(V,2),U=H[0],J=H[1].isLoading;(0,n.useEffect)((function(){N(x||Object.assign(Object.assign({},T),{proj_key:null===O||void 0===O?void 0:O.projectKey,projblk_key:null===O||void 0===O?void 0:O.blockKey}))}),[x]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/liftfooting",description:el,id:S,data:g,isUpdating:D||J||v,ref:_,isLoading:C,onSubmit:function(e){return tl(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=Object.assign({},e),!j){t.next=8;break}return t.next=5,Z(Object.assign(Object.assign({},a),T)).unwrap();case 5:n=t.sent,t.next=11;break;case 8:return t.next=10,U(Object.assign(Object.assign(Object.assign({},a),T),{key:null===x||void 0===x?void 0:x.key})).unwrap();case 10:n=t.sent;case 11:l("Success",n.detail),f(!0),setTimeout((function(){L("/estimation/liftfooting")}),k.P7),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),o("An error occurred","We couldn't save your post, try again!");case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))},renderForm:function(e,t,l,a){var o,c,s,d,u,v,f,y,E,g,N,k,L,w,S,j;return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:I,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:q}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===F||void 0===F?void 0:F.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(b.z,{disabled:!0,label:"Clear"})),n.createElement(K.i,null),n.createElement(i.Wi,{label:"Component Name",className:"col-12",name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,formItem:{component:p.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:l,leftSpan:2,rightSpan:6,formItem:{component:p.o,componentProps:{maxLength:100}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"base_qty",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(o=null===l||void 0===l?void 0:l.base_qty)||void 0===o?void 0:o.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(c=null===l||void 0===l?void 0:l.uom_key)||void 0===c?void 0:c.message)),n.createElement("div",{className:"col-6"})),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"L x B x H / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(s=null===l||void 0===l?void 0:l.b_value)||void 0===s?void 0:s.message)),n.createElement("span",{className:"inputgroup-divider-normal"},"X"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"w_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(d=null===l||void 0===l?void 0:l.w_value)||void 0===d?void 0:d.message)),n.createElement("span",{className:"inputgroup-divider-normal"},"X"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"l_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(u=null===l||void 0===l?void 0:l.l_value)||void 0===u?void 0:u.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"bwl_uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(v=null===l||void 0===l?void 0:l.bwl_uom_key)||void 0===v?void 0:v.message)),n.createElement("div",{className:"col-4",style:{margin:"auto"}},n.createElement("label",{style:{display:"flex",justifyContent:"center"}},"Target Quantity / UOM"))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Lift Floor PCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"col_ext",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(f=null===l||void 0===l?void 0:l.col_ext)||void 0===f?void 0:f.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"1:1:2",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(y=null===l||void 0===l?void 0:l.b_value)||void 0===y?void 0:y.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Lift Footing RCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(E=null===l||void 0===l?void 0:l.body_rock)||void 0===E?void 0:E.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"8.0 X 6.0 X 1.0 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(g=null===l||void 0===l?void 0:l.b_value)||void 0===g?void 0:g.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Lift Floor Rod Pack"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(N=null===l||void 0===l?void 0:l.body_rock)||void 0===N?void 0:N.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"1.0 X 1.6 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(k=null===l||void 0===l?void 0:l.b_value)||void 0===k?void 0:k.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Lift Wall RCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(L=null===l||void 0===l?void 0:l.body_rock)||void 0===L?void 0:L.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"28.0 X 5.0 X 0.3 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(w=null===l||void 0===l?void 0:l.b_value)||void 0===w?void 0:w.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Lift Wall Rod Pack"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(S=null===l||void 0===l?void 0:l.body_rock)||void 0===S?void 0:S.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"8.0 X 6.0 X 0.3 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(j=null===l||void 0===l?void 0:l.b_value)||void 0===j?void 0:j.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))))}}))},nl=function(e){var t=Gt(),l=(0,u.Z)(t,2),a=l[0],o=l[1].isLoading,c=(0,n.useState)(null),s=(0,u.Z)(c,2),d=s[0],m=s[1],p=(0,n.useState)(null),v=(0,u.Z)(p,2),f=v[0],y=v[1],E=(0,k.dx)({}).data,g=(0,k.cQ)({projectId:d},{skip:!d}),N=g.data,L=(g.isLoading,Yt({projectId:d,blockId:f},{skip:!d||!f})),w=L.data,S=L.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},el),n.createElement(R.rU,{to:{pathname:"/estimation/liftfooting/new"},state:{projectKey:d,blockKey:f},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(b.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(K.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:d,filter:!0,filterBy:"name",onChange:function(e){m(e.value),y(null)},options:null===E||void 0===E?void 0:E.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:f,filter:!0,filterBy:"descr",onChange:function(e){y(e.value)},options:null===N||void 0===N?void 0:N.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(b.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),y(null)}}))),n.createElement(K.i,null),n.createElement(i.PS,{baseRoute:"/estimation/liftfooting",description:el,isLoading:S||o,data:null===w||void 0===w?void 0:w.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return a(e).unwrap()}},n.createElement(i._P,{field:"name",header:"Component Name",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"}),n.createElement(i._P,{field:"uom",header:"Base UOM",filteringType:"text"})))},al=n.createElement(a.AW,{path:"liftfooting"},n.createElement(a.AW,{path:"new",element:n.createElement(ll,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(ll,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(nl,null)})),il="/estimation/lintelbeam/",rl=k.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listLintelBeam:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,k.DS)(il,"?page=".concat(t||1,"&page_size=").concat(l||k.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,N.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:k.pJ.LINTEL_BEAM,key:t}}))),[{type:k.pJ.LINTEL_BEAM,id:"LIST"}]):[{type:k.pJ.LINTEL_BEAM,id:"LIST"}]}}),addLintelBeam:e.mutation({query:function(e){return{url:il,method:"POST",data:e}},invalidatesTags:[{type:k.pJ.LINTEL_BEAM,id:"LIST"}]}),getLintelBeam:e.query({query:function(e){return"".concat(il).concat(e)},providesTags:function(e,t,l){return[{type:k.pJ.LINTEL_BEAM,id:l}]}}),updateLintelBeam:e.mutation({query:function(e){return{url:"".concat(il),method:"POST",data:e}},invalidatesTags:function(e){return[{type:k.pJ.LINTEL_BEAM,id:null===e||void 0===e?void 0:e.key}]}}),deleteLintelBeam:e.mutation({query:function(e){return{url:"".concat(il).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:k.pJ.LINTEL_BEAM,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),ol=rl.useAddLintelBeamMutation,cl=rl.useDeleteLintelBeamMutation,sl=rl.useGetLintelBeamQuery,dl=rl.useListLintelBeamQuery,ul=rl.useUpdateLintelBeamMutation,ml=(rl.useGetErrorProneQuery,"Lintel Beam"),pl=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},vl=function(e){var t=(0,i.pm)(),l=t.showSuccess,o=t.showError,c=(0,n.useState)(!1),s=(0,u.Z)(c,2),v=s[0],f=s[1],y=(0,n.useState)({}),E=(0,u.Z)(y,2),g=E[0],N=E[1],L=(0,a.s0)(),w=(0,a.UO)().id,S=parseInt(w||""),j=isNaN(S)||S<=0,_=(0,n.useRef)(),O=(0,a.TH)().state;!O&&j&&L("/estimation/lintelbeam");var T=(0,k.ft)(),A=sl(S,{skip:j,refetchOnMountOrArgChange:!0}),x=A.data,C=A.isLoading,P=(0,k.JB)(),q=P.data,I=P.isLoading,R=(0,k.cQ)({projectId:null===O||void 0===O?void 0:O.projectKey},{skip:!(null===O||void 0===O?void 0:O.projectKey)}),F=R.data,B=(R.isLoading,(0,n.useState)({})),Q=(0,u.Z)(B,2),W=Q[0],M=Q[1],Z=(0,k.DY)({}),D=Z.data,V=(Z.isLoading,ol()),H=(0,u.Z)(V,2),U=H[0],J=H[1].isLoading,z=ul(),G=(0,u.Z)(z,2),X=G[0],Y=G[1].isLoading;(0,n.useEffect)((function(){N(x||Object.assign(Object.assign({},T),{proj_key:null===O||void 0===O?void 0:O.projectKey,projblk_key:null===O||void 0===O?void 0:O.blockKey}))}),[x]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/lintelbeam",description:ml,id:S,data:g,isUpdating:J||Y||v,ref:_,isLoading:C,onSubmit:function(e){return pl(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=Object.assign({},e),!j){t.next=8;break}return t.next=5,U(Object.assign(Object.assign({},a),T)).unwrap();case 5:n=t.sent,t.next=11;break;case 8:return t.next=10,X(Object.assign(Object.assign(Object.assign({},a),T),{key:null===x||void 0===x?void 0:x.key})).unwrap();case 10:n=t.sent;case 11:l("Success",n.detail),f(!0),setTimeout((function(){L("/estimation/lintelbeam")}),k.P7),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),o("An error occurred","We couldn't save your post, try again!");case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))},renderForm:function(e,t,l,a){var o,c,s,d,u,v,f,y;return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:I,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:q}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===F||void 0===F?void 0:F.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(b.z,{disabled:!0,label:"Clear"})),n.createElement(K.i,null),n.createElement(i.Wi,{label:"Component Name",className:"col-12",name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,useExplicit:!0,onChange:function(e){M(Object.assign(Object.assign({},W),{name:e.target.value}))},formItem:{component:p.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Type",name:"typ_key",className:"col-12",control:e,errors:l,leftSpan:2,rightSpan:4,useExplicit:!0,onChange:function(e){M(Object.assign(Object.assign({},W),{type:e.value}))},formItem:{component:h.L,componentProps:{options:["Lintel Beam","Lintel Sunshade","Lintel Loft"]}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"base_qty",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(o=null===l||void 0===l?void 0:l.base_qty)||void 0===o?void 0:o.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===D||void 0===D?void 0:D.results}))}}),(0,i.Hb)(null===(c=null===l||void 0===l?void 0:l.uom_key)||void 0===c?void 0:c.message)),n.createElement("div",{className:"col-6"})),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"L / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(s=null===l||void 0===l?void 0:l.b_value)||void 0===s?void 0:s.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"bwl_uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===D||void 0===D?void 0:D.results}))}}),(0,i.Hb)(null===(d=null===l||void 0===l?void 0:l.bwl_uom_key)||void 0===d?void 0:d.message)),n.createElement("div",{className:"col-2"}),n.createElement("div",{className:"col-4",style:{margin:"auto"}},n.createElement("label",{style:{display:"flex",justifyContent:"center"}},"Target Quantity / UOM"))),n.createElement("div",{className:"col-12",style:{fontWeight:"bolder",fontSize:24}},"Materials required for making One Whole ",n.createElement("i",null,(null===W||void 0===W?void 0:W.type)||"<Lintel type>")," ",n.createElement("i",null,(null===W||void 0===W?void 0:W.name)||"<Lintel Name>"," ")),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Lintel Rod Pack"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===D||void 0===D?void 0:D.results}))}}),(0,i.Hb)(null===(u=null===l||void 0===l?void 0:l.body_rock)||void 0===u?void 0:u.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"1.0 X 1.6 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(v=null===l||void 0===l?void 0:l.b_value)||void 0===v?void 0:v.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Lintel PCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"col_ext",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===D||void 0===D?void 0:D.results}))}}),(0,i.Hb)(null===(f=null===l||void 0===l?void 0:l.col_ext)||void 0===f?void 0:f.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"1:1:2",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(y=null===l||void 0===l?void 0:l.b_value)||void 0===y?void 0:y.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))))}}))},fl=function(e){var t=cl(),l=(0,u.Z)(t,2),a=l[0],o=l[1].isLoading,c=(0,n.useState)(null),s=(0,u.Z)(c,2),d=s[0],m=s[1],p=(0,n.useState)(null),v=(0,u.Z)(p,2),f=v[0],y=v[1],E=(0,k.dx)({}).data,g=(0,k.cQ)({projectId:d},{skip:!d}),N=g.data,L=(g.isLoading,dl({projectId:d,blockId:f},{skip:!d||!f})),w=L.data,S=L.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},ml),n.createElement(R.rU,{to:{pathname:"/estimation/lintelbeam/new"},state:{projectKey:d,blockKey:f},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(b.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(K.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:d,filter:!0,filterBy:"name",onChange:function(e){m(e.value),y(null)},options:null===E||void 0===E?void 0:E.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:f,filter:!0,filterBy:"descr",onChange:function(e){y(e.value)},options:null===N||void 0===N?void 0:N.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(b.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),y(null)}}))),n.createElement(K.i,null),n.createElement(i.PS,{baseRoute:"/estimation/lintelbeam",description:ml,isLoading:S||o,data:null===w||void 0===w?void 0:w.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return a(e).unwrap()}},n.createElement(i._P,{field:"name",header:"Component Name",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"}),n.createElement(i._P,{field:"uom",header:"Base UOM",filteringType:"text"})))},yl=n.createElement(a.AW,{path:"lintelbeam"},n.createElement(a.AW,{path:"new",element:n.createElement(vl,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(vl,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(fl,null)})),El="/estimation/pile/",gl=k.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listPile:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,k.DS)(El,"?page=".concat(t||1,"&page_size=").concat(l||k.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,N.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:k.pJ.PILE,key:t}}))),[{type:k.pJ.PILE,id:"LIST"}]):[{type:k.pJ.PILE,id:"LIST"}]}}),addPile:e.mutation({query:function(e){return{url:El,method:"POST",body:e}},invalidatesTags:[{type:k.pJ.PILE,id:"LIST"}]}),getPile:e.query({query:function(e){return"".concat(El).concat(e)},providesTags:function(e,t,l){return[{type:k.pJ.PILE,id:l}]}}),updatePile:e.mutation({query:function(e){var t=e;return{url:"".concat(El),method:"POST",body:t}},invalidatesTags:function(e){return[{type:k.pJ.PILE,id:null===e||void 0===e?void 0:e.key}]}}),deletePile:e.mutation({query:function(e){return{url:"".concat(El).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:k.pJ.PILE,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),bl=gl.useAddPileMutation,hl=gl.useDeletePileMutation,Nl=gl.useGetPileQuery,kl=gl.useListPileQuery,Ll=gl.useUpdatePileMutation,wl=(gl.useGetErrorProneQuery,"Pile"),Sl=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},jl=function(e){var t=(0,i.pm)(),l=t.showSuccess,o=t.showError,c=(0,n.useState)(!1),s=(0,u.Z)(c,2),v=s[0],f=s[1],y=(0,n.useState)({}),E=(0,u.Z)(y,2),g=E[0],N=E[1],L=(0,a.s0)(),w=(0,a.UO)().id,S=parseInt(w||""),j=isNaN(S)||S<=0,_=(0,n.useRef)(),O=(0,a.TH)().state;!O&&j&&L("/estimation/pile");var T=(0,k.ft)(),A=Nl(S,{skip:j,refetchOnMountOrArgChange:!0}),x=A.data,C=A.isLoading,P=(0,k.JB)(),q=P.data,I=P.isLoading,R=(0,k.cQ)({projectId:null===O||void 0===O?void 0:O.projectKey},{skip:!(null===O||void 0===O?void 0:O.projectKey)}),F=R.data,B=(R.isLoading,(0,k.DY)({})),Q=B.data,W=(B.isLoading,bl()),M=(0,u.Z)(W,2),Z=M[0],D=M[1].isLoading,V=Ll(),H=(0,u.Z)(V,2),U=H[0],J=H[1].isLoading;(0,n.useEffect)((function(){N(x||Object.assign(Object.assign({},T),{proj_key:null===O||void 0===O?void 0:O.projectKey,projblk_key:null===O||void 0===O?void 0:O.blockKey}))}),[x]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/pile",description:wl,id:S,data:g,isUpdating:D||J||v,ref:_,isLoading:C,onSubmit:function(e){return Sl(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=Object.assign({},e),!j){t.next=8;break}return t.next=5,Z(Object.assign(Object.assign({},a),T)).unwrap();case 5:n=t.sent,t.next=11;break;case 8:return t.next=10,U(Object.assign(Object.assign(Object.assign({},a),T),{key:null===x||void 0===x?void 0:x.key})).unwrap();case 10:n=t.sent;case 11:l("Success",n.detail),f(!0),setTimeout((function(){L("/estimation/pile")}),k.P7),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),o("An error occurred","We couldn't save your post, try again!");case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))},renderForm:function(e,t,l,a){var o,c,s,d,u,v,f,y,E;return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:I,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:q}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===F||void 0===F?void 0:F.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(b.z,{disabled:!0,label:"Clear"})),n.createElement(K.i,null),n.createElement(i.Wi,{label:"Component Name",required:!0,className:"col-12",name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,formItem:{component:p.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:l,leftSpan:2,rightSpan:6,formItem:{component:p.o,componentProps:{maxLength:100}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"base_qty",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(o=null===l||void 0===l?void 0:l.base_qty)||void 0===o?void 0:o.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(c=null===l||void 0===l?void 0:l.uom_key)||void 0===c?void 0:c.message)),n.createElement("div",{className:"col-6"})),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Dia x L / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(s=null===l||void 0===l?void 0:l.b_value)||void 0===s?void 0:s.message)),n.createElement("span",{className:"inputgroup-divider-normal"},"X"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"l_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(d=null===l||void 0===l?void 0:l.l_value)||void 0===d?void 0:d.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"bwl_uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(u=null===l||void 0===l?void 0:l.bwl_uom_key)||void 0===u?void 0:u.message)),n.createElement("div",{className:"col-1"}),n.createElement("div",{className:"col-4",style:{margin:"auto"}},n.createElement("label",{style:{display:"flex",justifyContent:"center"}},"Target Quantity / UOM"))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Pile RCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"col_ext",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(v=null===l||void 0===l?void 0:l.col_ext)||void 0===v?void 0:v.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"1:1:2",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(f=null===l||void 0===l?void 0:l.b_value)||void 0===f?void 0:f.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Pile Rod Pack"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(y=null===l||void 0===l?void 0:l.body_rock)||void 0===y?void 0:y.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"1.0 X 1.6 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(E=null===l||void 0===l?void 0:l.b_value)||void 0===E?void 0:E.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))))}}))},_l=function(e){var t=hl(),l=(0,u.Z)(t,2),a=l[0],o=l[1].isLoading,c=(0,n.useState)(null),s=(0,u.Z)(c,2),d=s[0],m=s[1],p=(0,n.useState)(null),v=(0,u.Z)(p,2),f=v[0],y=v[1],E=(0,k.dx)({}).data,g=(0,k.cQ)({projectId:d},{skip:!d}),N=g.data,L=(g.isLoading,kl({projectId:d,blockId:f},{skip:!d||!f})),w=L.data,S=L.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},wl),n.createElement(R.rU,{to:{pathname:"/estimation/pile/new"},state:{projectKey:d,blockKey:f},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(b.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(K.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:d,filter:!0,filterBy:"name",onChange:function(e){m(e.value),y(null)},options:null===E||void 0===E?void 0:E.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:f,filter:!0,filterBy:"descr",onChange:function(e){y(e.value)},options:null===N||void 0===N?void 0:N.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(b.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),y(null)}}))),n.createElement(K.i,null),n.createElement(i.PS,{baseRoute:"/estimation/pile",description:wl,isLoading:S||o,data:null===w||void 0===w?void 0:w.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return a(e).unwrap()}},n.createElement(i._P,{field:"name",header:"Component Name",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"}),n.createElement(i._P,{field:"uom",header:"Base UOM",filteringType:"text"})))},Ol=n.createElement(a.AW,{path:"pile"},n.createElement(a.AW,{path:"new",element:n.createElement(jl,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(jl,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(_l,null)})),Tl="/estimation/slab/",Al=k.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listSlab:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,k.DS)(Tl,"?page=".concat(t||1,"&page_size=").concat(l||k.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,N.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:k.pJ.SLAB,key:t}}))),[{type:k.pJ.SLAB,id:"LIST"}]):[{type:k.pJ.SLAB,id:"LIST"}]}}),addSlab:e.mutation({query:function(e){return{url:Tl,method:"POST",body:e}},invalidatesTags:[{type:k.pJ.SLAB,id:"LIST"}]}),getSlab:e.query({query:function(e){return"".concat(Tl).concat(e)},providesTags:function(e,t,l){return[{type:k.pJ.SLAB,id:l}]}}),updateSlab:e.mutation({query:function(e){var t=e;return{url:"".concat(Tl),method:"POST",body:t}},invalidatesTags:function(e){return[{type:k.pJ.SLAB,id:null===e||void 0===e?void 0:e.key}]}}),deleteSlab:e.mutation({query:function(e){return{url:"".concat(Tl).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:k.pJ.SLAB,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),xl=Al.useAddSlabMutation,Cl=Al.useDeleteSlabMutation,Pl=Al.useGetSlabQuery,ql=Al.useListSlabQuery,Il=Al.useUpdateSlabMutation,Kl=(Al.useGetErrorProneQuery,"Slab"),Rl=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},Fl=function(e){var t=(0,i.pm)(),l=t.showSuccess,o=t.showError,c=(0,n.useState)(!1),s=(0,u.Z)(c,2),v=s[0],f=s[1],y=(0,n.useState)({}),E=(0,u.Z)(y,2),g=E[0],N=E[1],L=(0,a.s0)(),w=(0,a.UO)().id,S=parseInt(w||""),j=isNaN(S)||S<=0,_=(0,n.useRef)(),O=(0,a.TH)().state;!O&&j&&L("/estimation/slab");var T=(0,k.ft)(),A=Pl(S,{skip:j,refetchOnMountOrArgChange:!0}),x=A.data,C=A.isLoading,P=(0,k.JB)(),q=P.data,I=P.isLoading,R=(0,k.cQ)({projectId:null===O||void 0===O?void 0:O.projectKey},{skip:!(null===O||void 0===O?void 0:O.projectKey)}),F=R.data,B=(R.isLoading,(0,k.DY)({})),Q=B.data,W=(B.isLoading,xl()),M=(0,u.Z)(W,2),Z=M[0],D=M[1].isLoading,V=Il(),H=(0,u.Z)(V,2),U=H[0],J=H[1].isLoading;(0,n.useEffect)((function(){N(x||Object.assign(Object.assign({},T),{proj_key:null===O||void 0===O?void 0:O.projectKey,projblk_key:null===O||void 0===O?void 0:O.blockKey}))}),[x]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/slab",description:Kl,id:S,data:g,isUpdating:D||J||v,ref:_,isLoading:C,onSubmit:function(e){return Rl(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=Object.assign({},e),!j){t.next=8;break}return t.next=5,Z(Object.assign(Object.assign({},a),T)).unwrap();case 5:n=t.sent,t.next=11;break;case 8:return t.next=10,U(Object.assign(Object.assign(Object.assign({},a),T),{key:null===x||void 0===x?void 0:x.key})).unwrap();case 10:n=t.sent;case 11:l("Success",n.detail),f(!0),setTimeout((function(){L("/estimation/slab")}),k.P7),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),o("An error occurred","We couldn't save your post, try again!");case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))},renderForm:function(e,t,l,a){var o,c,s,d,u,v,f,y,E,g;return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:I,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:q}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===F||void 0===F?void 0:F.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(b.z,{disabled:!0,label:"Clear"})),n.createElement(K.i,null),n.createElement(i.Wi,{label:"Component Name",required:!0,className:"col-12",name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,formItem:{component:p.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:l,leftSpan:2,rightSpan:6,formItem:{component:p.o,componentProps:{maxLength:100}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"base_qty",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(o=null===l||void 0===l?void 0:l.base_qty)||void 0===o?void 0:o.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(c=null===l||void 0===l?void 0:l.uom_key)||void 0===c?void 0:c.message)),n.createElement("div",{className:"col-6"})),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"L X B X T / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(s=null===l||void 0===l?void 0:l.b_value)||void 0===s?void 0:s.message)),n.createElement("span",{className:"inputgroup-divider-normal"},"X"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(d=null===l||void 0===l?void 0:l.b_value)||void 0===d?void 0:d.message)),n.createElement("span",{className:"inputgroup-divider-normal"},"X"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"l_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(u=null===l||void 0===l?void 0:l.l_value)||void 0===u?void 0:u.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"bwl_uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(v=null===l||void 0===l?void 0:l.bwl_uom_key)||void 0===v?void 0:v.message)),n.createElement("div",{className:"col-4",style:{margin:"auto"}},n.createElement("label",{style:{display:"flex",justifyContent:"center"}},"Target Quantity / UOM"))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Slab RCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"col_ext",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(f=null===l||void 0===l?void 0:l.col_ext)||void 0===f?void 0:f.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"1:1:2",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(y=null===l||void 0===l?void 0:l.b_value)||void 0===y?void 0:y.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Slab Rod Pack"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(E=null===l||void 0===l?void 0:l.body_rock)||void 0===E?void 0:E.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"1.0 X 1.6 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(g=null===l||void 0===l?void 0:l.b_value)||void 0===g?void 0:g.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))))}}))},Bl=function(e){var t=Cl(),l=(0,u.Z)(t,2),a=l[0],o=l[1].isLoading,c=(0,n.useState)(null),s=(0,u.Z)(c,2),d=s[0],m=s[1],p=(0,n.useState)(null),v=(0,u.Z)(p,2),f=v[0],y=v[1],E=(0,k.dx)({}).data,g=(0,k.cQ)({projectId:d},{skip:!d}),N=g.data,L=(g.isLoading,ql({projectId:d,blockId:f},{skip:!d||!f})),w=L.data,S=L.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},Kl),n.createElement(R.rU,{to:{pathname:"/estimation/slab/new"},state:{projectKey:d,blockKey:f},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(b.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(K.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:d,filter:!0,filterBy:"name",onChange:function(e){m(e.value),y(null)},options:null===E||void 0===E?void 0:E.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:f,filter:!0,filterBy:"descr",onChange:function(e){y(e.value)},options:null===N||void 0===N?void 0:N.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(b.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),y(null)}}))),n.createElement(K.i,null),n.createElement(i.PS,{baseRoute:"/estimation/slab",description:Kl,isLoading:S||o,data:null===w||void 0===w?void 0:w.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return a(e).unwrap()}},n.createElement(i._P,{field:"name",header:"Component Name",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"}),n.createElement(i._P,{field:"uom",header:"Base UOM",filteringType:"text"})))},Ql=n.createElement(a.AW,{path:"slab"},n.createElement(a.AW,{path:"new",element:n.createElement(Fl,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(Fl,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(Bl,null)})),Wl="/estimation/pilecap/",Ml=k.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listPileCap:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,k.DS)(Wl,"?page=".concat(t||1,"&page_size=").concat(l||k.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,N.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:k.pJ.PILE_CAP,key:t}}))),[{type:k.pJ.PILE_CAP,id:"LIST"}]):[{type:k.pJ.PILE_CAP,id:"LIST"}]}}),addPileCap:e.mutation({query:function(e){return{url:Wl,method:"POST",data:e}},invalidatesTags:[{type:k.pJ.PILE_CAP,id:"LIST"}]}),getPileCap:e.query({query:function(e){return"".concat(Wl).concat(e)},providesTags:function(e,t,l){return[{type:k.pJ.PILE_CAP,id:l}]}}),updatePileCap:e.mutation({query:function(e){return{url:"".concat(Wl),method:"POST",data:e}},invalidatesTags:function(e){return[{type:k.pJ.PILE_CAP,id:null===e||void 0===e?void 0:e.key}]}}),deletePileCap:e.mutation({query:function(e){return{url:"".concat(Wl).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:k.pJ.PILE_CAP,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),Zl=Ml.useAddPileCapMutation,Dl=Ml.useDeletePileCapMutation,Vl=Ml.useGetPileCapQuery,Hl=Ml.useListPileCapQuery,Ul=Ml.useUpdatePileCapMutation,Jl=(Ml.useGetErrorProneQuery,"Pile Cap"),zl=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},Gl=function(e){var t=(0,i.pm)(),l=t.showSuccess,o=t.showError,c=(0,n.useState)(!1),s=(0,u.Z)(c,2),v=s[0],f=s[1],y=(0,n.useState)({}),E=(0,u.Z)(y,2),g=E[0],N=E[1],L=(0,a.s0)(),w=(0,a.UO)().id,S=parseInt(w||""),j=isNaN(S)||S<=0,_=(0,n.useRef)(),O=(0,a.TH)().state;!O&&j&&L("/estimation/pilecap");var T=(0,k.ft)(),A=Vl(S,{skip:j,refetchOnMountOrArgChange:!0}),x=A.data,C=A.isLoading,P=(0,k.JB)(),q=P.data,I=P.isLoading,R=(0,k.cQ)({projectId:null===O||void 0===O?void 0:O.projectKey},{skip:!(null===O||void 0===O?void 0:O.projectKey)}).data,F=(0,k.DY)({}),B=F.data,Q=(F.isLoading,Zl()),W=(0,u.Z)(Q,2),M=W[0],Z=W[1].isLoading,D=Ul(),V=(0,u.Z)(D,2),H=V[0],U=V[1].isLoading;(0,n.useEffect)((function(){N(x||Object.assign(Object.assign({},T),{proj_key:null===O||void 0===O?void 0:O.projectKey,projblk_key:null===O||void 0===O?void 0:O.blockKey}))}),[x]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/pilecap",description:Jl,id:S,data:g,isUpdating:Z||U||v,ref:_,isLoading:C,onSubmit:function(e){return zl(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=Object.assign({},e),!j){t.next=8;break}return t.next=5,M(Object.assign(Object.assign({},a),T)).unwrap();case 5:n=t.sent,t.next=11;break;case 8:return t.next=10,H(Object.assign(Object.assign(Object.assign({},a),T),{key:null===x||void 0===x?void 0:x.key})).unwrap();case 10:n=t.sent;case 11:l("Success",n.detail),f(!0),setTimeout((function(){L("/estimation/pilecap")}),k.P7),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),o("An error occurred","We couldn't save your post, try again!");case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))},renderForm:function(e,t,l,a){var o,c,s,d,u,v,f,y,E,g;return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:I,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:q}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===R||void 0===R?void 0:R.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(b.z,{disabled:!0,label:"Clear"})),n.createElement(K.i,null),n.createElement(i.Wi,{label:"Component Name",className:"col-12",name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,formItem:{component:p.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:l,leftSpan:2,rightSpan:6,formItem:{component:p.o,componentProps:{maxLength:100}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"base_qty",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(o=null===l||void 0===l?void 0:l.base_qty)||void 0===o?void 0:o.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(c=null===l||void 0===l?void 0:l.uom_key)||void 0===c?void 0:c.message)),n.createElement("div",{className:"col-6"})),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"L x B x H / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(s=null===l||void 0===l?void 0:l.b_value)||void 0===s?void 0:s.message)),n.createElement("span",{className:"inputgroup-divider-normal"},"X"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"w_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(d=null===l||void 0===l?void 0:l.w_value)||void 0===d?void 0:d.message)),n.createElement("span",{className:"inputgroup-divider-normal"},"X"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"l_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(u=null===l||void 0===l?void 0:l.l_value)||void 0===u?void 0:u.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"bwl_uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(v=null===l||void 0===l?void 0:l.bwl_uom_key)||void 0===v?void 0:v.message)),n.createElement("div",{className:"col-4",style:{margin:"auto"}},n.createElement("label",{style:{display:"flex",justifyContent:"center"}},"Target Quantity / UOM"))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"PileCap PCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"col_ext",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(f=null===l||void 0===l?void 0:l.col_ext)||void 0===f?void 0:f.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"1:1:2",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(y=null===l||void 0===l?void 0:l.b_value)||void 0===y?void 0:y.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"PileCap RCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(E=null===l||void 0===l?void 0:l.body_rock)||void 0===E?void 0:E.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"8.0 X 6.0 X 1.0 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(g=null===l||void 0===l?void 0:l.b_value)||void 0===g?void 0:g.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))))}}))},Xl=function(e){var t=Dl(),l=(0,u.Z)(t,2),a=l[0],o=l[1].isLoading,c=(0,n.useState)(null),s=(0,u.Z)(c,2),d=s[0],m=s[1],p=(0,n.useState)(null),v=(0,u.Z)(p,2),f=v[0],y=v[1],E=(0,k.dx)({}).data,g=(0,k.cQ)({projectId:d},{skip:!d}),N=g.data,L=(g.isLoading,Hl({projectId:d,blockId:f},{skip:!d||!f})),w=L.data,S=L.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},Jl),n.createElement(R.rU,{to:{pathname:"/estimation/pilecap/new"},state:{projectKey:d,blockKey:f},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(b.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(K.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:d,filter:!0,filterBy:"name",onChange:function(e){m(e.value),y(null)},options:null===E||void 0===E?void 0:E.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:f,filter:!0,filterBy:"descr",onChange:function(e){y(e.value)},options:null===N||void 0===N?void 0:N.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(b.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),y(null)}}))),n.createElement(K.i,null),n.createElement(i.PS,{baseRoute:"/estimation/pilecap",description:Jl,isLoading:S||o,data:null===w||void 0===w?void 0:w.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return a(e).unwrap()}},n.createElement(i._P,{field:"name",header:"Component Name",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"}),n.createElement(i._P,{field:"uom",header:"Base UOM",filteringType:"text"})))},Yl=n.createElement(a.AW,{path:"pilecap"},n.createElement(a.AW,{path:"new",element:n.createElement(Gl,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(Gl,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(Xl,null)})),$l="/estimation/staircaseslab/",en=k.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listStaircaseSlab:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,k.DS)($l,"?page=".concat(t||1,"&page_size=").concat(l||k.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,N.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:k.pJ.STAIRCASE_SLAB,key:t}}))),[{type:k.pJ.STAIRCASE_SLAB,id:"LIST"}]):[{type:k.pJ.STAIRCASE_SLAB,id:"LIST"}]}}),addStaircaseSlab:e.mutation({query:function(e){return{url:$l,method:"POST",data:e}},invalidatesTags:[{type:k.pJ.STAIRCASE_SLAB,id:"LIST"}]}),getStaircaseSlab:e.query({query:function(e){return"".concat($l).concat(e)},providesTags:function(e,t,l){return[{type:k.pJ.STAIRCASE_SLAB,id:l}]}}),updateStaircaseSlab:e.mutation({query:function(e){return{url:"".concat($l),method:"POST",data:e}},invalidatesTags:function(e){return[{type:k.pJ.STAIRCASE_SLAB,id:null===e||void 0===e?void 0:e.key}]}}),deleteStaircaseSlab:e.mutation({query:function(e){return{url:"".concat($l).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:k.pJ.STAIRCASE_SLAB,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),tn=en.useAddStaircaseSlabMutation,ln=en.useDeleteStaircaseSlabMutation,nn=en.useGetStaircaseSlabQuery,an=en.useListStaircaseSlabQuery,rn=en.useUpdateStaircaseSlabMutation,on=(en.useGetErrorProneQuery,"Staircase Slab"),cn=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},sn=function(e){var t=(0,i.pm)(),l=t.showSuccess,o=t.showError,c=(0,n.useState)(!1),s=(0,u.Z)(c,2),v=s[0],f=s[1],y=(0,n.useState)({}),E=(0,u.Z)(y,2),g=E[0],N=E[1],L=(0,a.s0)(),w=(0,a.UO)().id,S=parseInt(w||""),j=isNaN(S)||S<=0,_=(0,n.useRef)(),O=(0,a.TH)().state;!O&&j&&L("/estimation/staircaseslab");var T=(0,k.ft)(),A=nn(S,{skip:j,refetchOnMountOrArgChange:!0}),x=A.data,C=A.isLoading,P=(0,k.JB)(),q=P.data,I=P.isLoading,R=(0,k.cQ)({projectId:null===O||void 0===O?void 0:O.projectKey},{skip:!(null===O||void 0===O?void 0:O.projectKey)}),F=R.data,B=(R.isLoading,(0,k.DY)({})),Q=B.data,W=(B.isLoading,tn()),M=(0,u.Z)(W,2),Z=M[0],D=M[1].isLoading,V=rn(),H=(0,u.Z)(V,2),U=H[0],J=H[1].isLoading;(0,n.useEffect)((function(){N(x||Object.assign(Object.assign({},T),{proj_key:null===O||void 0===O?void 0:O.projectKey,projblk_key:null===O||void 0===O?void 0:O.blockKey}))}),[x]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/staircaseslab",description:on,id:S,data:g,isUpdating:D||J||v,ref:_,isLoading:C,onSubmit:function(e){return cn(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=Object.assign({},e),!j){t.next=8;break}return t.next=5,Z(Object.assign(Object.assign({},a),T)).unwrap();case 5:n=t.sent,t.next=11;break;case 8:return t.next=10,U(Object.assign(Object.assign(Object.assign({},a),T),{key:null===x||void 0===x?void 0:x.key})).unwrap();case 10:n=t.sent;case 11:l("Success",n.detail),f(!0),setTimeout((function(){L("/estimation/staircaseslab")}),k.P7),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),o("An error occurred","We couldn't save your post, try again!");case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))},renderForm:function(e,t,l,a){var o,c,s,d,u,v,f,y;return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:I,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:q}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:h.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===F||void 0===F?void 0:F.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(b.z,{disabled:!0,label:"Clear"})),n.createElement(K.i,null),n.createElement(i.Wi,{label:"Component Name",className:"col-12",name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,formItem:{component:p.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:l,leftSpan:2,rightSpan:6,formItem:{component:p.o,componentProps:{maxLength:100}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"base_qty",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(o=null===l||void 0===l?void 0:l.base_qty)||void 0===o?void 0:o.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(c=null===l||void 0===l?void 0:l.uom_key)||void 0===c?void 0:c.message)),n.createElement("div",{className:"col-6"})),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("div",{className:"col-8"}),n.createElement("div",{className:"col-4",style:{margin:"auto"}},n.createElement("label",{style:{display:"flex",justifyContent:"center"}},"Target Quantity / UOM"))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Brickwork"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(s=null===l||void 0===l?void 0:l.body_rock)||void 0===s?void 0:s.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"4 inch",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(d=null===l||void 0===l?void 0:l.b_value)||void 0===d?void 0:d.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Staircase Rod Pack"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(u=null===l||void 0===l?void 0:l.body_rock)||void 0===u?void 0:u.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"28.0 X 5.0 X 0.3 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(v=null===l||void 0===l?void 0:l.b_value)||void 0===v?void 0:v.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Slab RCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(h.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(f=null===l||void 0===l?void 0:l.body_rock)||void 0===f?void 0:f.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",value:"8.0 X 6.0 X 0.3 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(p.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(y=null===l||void 0===l?void 0:l.b_value)||void 0===y?void 0:y.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(p.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))))}}))},dn=function(e){var t=ln(),l=(0,u.Z)(t,2),a=l[0],o=l[1].isLoading,c=(0,n.useState)(null),s=(0,u.Z)(c,2),d=s[0],m=s[1],p=(0,n.useState)(null),v=(0,u.Z)(p,2),f=v[0],y=v[1],E=(0,k.dx)({}).data,g=(0,k.cQ)({projectId:d},{skip:!d}),N=g.data,L=(g.isLoading,an({projectId:d,blockId:f},{skip:!d||!f})),w=L.data,S=L.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},on),n.createElement(R.rU,{to:{pathname:"/estimation/staircaseslab/new"},state:{projectKey:d,blockKey:f},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(b.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(K.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:d,filter:!0,filterBy:"name",onChange:function(e){m(e.value),y(null)},options:null===E||void 0===E?void 0:E.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(h.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:f,filter:!0,filterBy:"descr",onChange:function(e){y(e.value)},options:null===N||void 0===N?void 0:N.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(b.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),y(null)}}))),n.createElement(K.i,null),n.createElement(i.PS,{baseRoute:"/estimation/staircaseslab",description:on,isLoading:S||o,data:null===w||void 0===w?void 0:w.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return a(e).unwrap()}},n.createElement(i._P,{field:"name",header:"Component Name",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"}),n.createElement(i._P,{field:"uom",header:"Base UOM",filteringType:"text"})))},un=n.createElement(a.AW,{path:"staircaseslab"},n.createElement(a.AW,{path:"new",element:n.createElement(sn,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(sn,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(dn,null)})),mn=function(){return n.createElement(a.Z5,null,n.createElement(a.AW,{path:"/",element:n.createElement(i.SV,{panelMenu:!0,navItems:s})},n.createElement(a.AW,{index:!0,element:n.createElement(a.Fg,{to:x,replace:!0})}),Q,ee,ve,Oe,Qe,Ye,dt,kt,qt,Ht,al,yl,Ol,Ql,Yl,un,n.createElement(a.AW,{path:":page/comming-soon",element:n.createElement(i.hg,null)}),n.createElement(a.AW,{path:"*",element:n.createElement(i.EN,{relative:!0})})))}},8356:function(e,t,l){l.d(t,{i:function(){return r}});var n=l(969),a=l(4756);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e},i.apply(this,arguments)}var r=n.forwardRef((function(e,t){var l="horizontal"===e.layout,o="vertical"===e.layout,c=a.gb.findDiffKeys(e,r.defaultProps),s=(0,a.AK)("p-divider p-component p-divider-".concat(e.layout," p-divider-").concat(e.type),{"p-divider-left":l&&(!e.align||"left"===e.align),"p-divider-right":l&&"right"===e.align,"p-divider-center":l&&"center"===e.align||o&&(!e.align||"center"===e.align),"p-divider-top":o&&"top"===e.align,"p-divider-bottom":o&&"bottom"===e.align},e.className);return n.createElement("div",i({className:s,style:e.style,role:"separator"},c),n.createElement("div",{className:"p-divider-content"},e.children))}));r.displayName="Divider",r.defaultProps={__TYPE:"Divider",align:null,layout:"horizontal",type:"solid",style:null,className:null}}}]);
//# sourceMappingURL=311.16b0a0bd.chunk.js.map