{"version":3,"file":"static/js/645.8053ac0a.chunk.js","mappings":"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","sources":["../../../modules/customer/dist/main/routes.js","../../../modules/customer/dist/pages/Customers/constants.js","../../../modules/customer/dist/pages/Customers/customersApi.js","../../../modules/customer/dist/pages/Customers/Manage/Manage.js","../../../modules/customer/dist/pages/Customers/Main/Main.js","../../../modules/customer/dist/pages/Customers/routes.js","../../../modules/customer/dist/main/Main.js"],"sourcesContent":["import { templateFn } from '@igblsln/control';\nimport { MODULE_NAME } from '../constants';\nimport { PAGE_ROUTE } from '../pages/Customers/constants';\nconst salesTemplateFn = (page, isCommingSoon) => {\n    return templateFn(`/${MODULE_NAME}/${page}` + (isCommingSoon ? '/comming-soon' : ''));\n};\nconst routes = [\n    {\n        items: [\n            {\n                label: 'Customer',\n                icon: 'pi ml-3',\n                template: salesTemplateFn(PAGE_ROUTE)\n            }\n        ]\n    }\n];\nexport default routes;\n","export const PAGE_ROUTE = 'customers';\nexport const PAGE_NAME = 'Customer';\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { api, PAGE_SIZE, tags, urlUtils } from '@igblsln/store';\nconst API_PATH = '/sale/customer/';\nexport const customerApi = api.injectEndpoints({\n    overrideExisting: false,\n    endpoints: (build) => ({\n        listCustomer: build.query({\n            query: ({ page, size }) => {\n                return {\n                    url: urlUtils(API_PATH, `?page=${page || 1}&page_size=${size || PAGE_SIZE}`),\n                };\n            },\n            providesTags: (result) => {\n                var _a;\n                return result ? [\n                    ...(_a = result === null || result === void 0 ? void 0 : result.results) === null || _a === void 0 ? void 0 : _a.map(({ id }) => ({ type: tags.CUSTOMER, id })),\n                    { type: tags.CUSTOMER, id: 'LIST' },\n                ] : [{ type: tags.CUSTOMER, id: 'LIST' }];\n            },\n        }),\n        addCustomer: build.mutation({\n            query: (body) => ({\n                url: API_PATH,\n                method: 'POST',\n                body,\n            }),\n            invalidatesTags: [{ type: tags.CUSTOMER, id: 'LIST' }],\n        }),\n        getCustomer: build.query({\n            query: (id) => `${API_PATH}${id}`,\n            providesTags: (_Customer, _err, id) => [{ type: tags.CUSTOMER, id }],\n        }),\n        updateCustomer: build.mutation({\n            query(data) {\n                const { key: id } = data, body = __rest(data, [\"key\"]);\n                return {\n                    url: `${API_PATH}${id}`,\n                    method: 'PUT',\n                    body,\n                };\n            },\n            invalidatesTags: (project) => [{ type: tags.CUSTOMER, id: project === null || project === void 0 ? void 0 : project.id }],\n        }),\n        getStates: build.query({\n            query: () => {\n                return {\n                    url: \"/geo/state/\",\n                };\n            },\n            providesTags: (result = []) => [\n                ...result.map(({ state_key: id }) => ({ type: tags.STATES, id })),\n                { type: tags.STATES, id: 'LIST' },\n            ],\n        }),\n        getCities: build.query({\n            query: (state) => {\n                return {\n                    url: `/geo/city/?state=${state}`,\n                };\n            },\n            providesTags: (result = []) => [\n                ...result.map(({ city_key: id }) => ({ type: tags.CITIES, id })),\n                { type: tags.CITIES, id: 'LIST' },\n            ],\n        }),\n        deleteCustomer: build.mutation({\n            query(id) {\n                return {\n                    url: `${API_PATH}${id}`,\n                    method: 'DELETE',\n                };\n            },\n            invalidatesTags: (project) => [{ type: tags.CUSTOMER, id: project === null || project === void 0 ? void 0 : project.id }],\n        }),\n        getErrorProne: build.query({\n            query: () => 'error-prone',\n        }),\n    }),\n});\nexport const { useAddCustomerMutation, useDeleteCustomerMutation, useGetCustomerQuery, useListCustomerQuery, useUpdateCustomerMutation, useGetErrorProneQuery, useGetCitiesQuery, useGetStatesQuery } = customerApi;\nexport const { endpoints: { getCustomer }, } = customerApi;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport React, { useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { InputText } from 'primereact/inputtext';\nimport { Dropdown } from 'primereact/dropdown';\nimport { ManageLayout, FormField, useToast } from '@igblsln/control';\nimport { useAddCustomerMutation, useGetCitiesQuery, useGetCustomerQuery, useGetStatesQuery, useUpdateCustomerMutation } from '../customersApi';\nimport { PAGE_NAME, PAGE_ROUTE } from '../constants';\nimport { MODULE_NAME } from '../../../constants';\nimport { AFTER_API_TIME, getClientProps } from '@igblsln/store';\nconst Manage = (props) => {\n    const { showSuccess, showError } = useToast();\n    const [showingToast, setShowingToast] = useState(false);\n    const navigate = useNavigate();\n    const { id: idString } = useParams();\n    const id = parseInt(idString || '');\n    const isNew = isNaN(id) || id <= 0;\n    const [selectedState, setSelectedState] = useState('');\n    const clientProps = getClientProps();\n    const { data, isLoading } = useGetCustomerQuery(id, {\n        skip: isNew\n    });\n    const { data: states } = useGetStatesQuery();\n    const { data: cities } = useGetCitiesQuery(selectedState);\n    const [addCustomer, { isLoading: isAdding }] = useAddCustomerMutation();\n    const [updateCustomer, { isLoading: isUpdating }] = useUpdateCustomerMutation();\n    const onSubmit = (values) => __awaiter(void 0, void 0, void 0, function* () {\n        var _a;\n        try {\n            let resp;\n            if (isNew) {\n                resp = yield addCustomer(Object.assign(Object.assign({}, values), clientProps)).unwrap();\n            }\n            else {\n                resp = yield updateCustomer(Object.assign(Object.assign({}, values), clientProps)).unwrap();\n            }\n            showSuccess('Success', resp.detail);\n            setShowingToast(true);\n            setTimeout(() => {\n                navigate(`/${MODULE_NAME}/${PAGE_ROUTE}`);\n            }, AFTER_API_TIME);\n        }\n        catch (error) {\n            showError('An error occurred', ((_a = error === null || error === void 0 ? void 0 : error.data) === null || _a === void 0 ? void 0 : _a.detail) || \"We couldn't save your post, try again!\");\n        }\n    });\n    const customCityOption = [\n        {\n            label: 'Add',\n            items: cities || []\n        }\n    ];\n    const renderForm = (control, _register, errors) => {\n        return (React.createElement(\"div\", { className: 'pl-8' },\n            React.createElement(FormField, { label: \"Customer Name\", name: \"name\", control: control, errors: errors, required: true, leftSpan: 3, rightSpan: 5, formItem: {\n                    component: InputText,\n                    componentProps: {\n                        maxLength: 100\n                    }\n                } }),\n            React.createElement(FormField, { label: \"Address Line 1\", name: \"addr1\", control: control, errors: errors, leftSpan: 3, rightSpan: 6, formItem: {\n                    component: InputText,\n                    componentProps: {\n                        maxLength: 100,\n                    }\n                } }),\n            React.createElement(FormField, { label: \"Address Line 2\", name: \"addr2\", control: control, errors: errors, leftSpan: 3, rightSpan: 6, formItem: {\n                    component: InputText,\n                    componentProps: {\n                        maxLength: 100,\n                    }\n                } }),\n            React.createElement(FormField, { label: \"State\", name: \"state_key\", control: control, errors: errors, required: true, leftSpan: 3, rightSpan: 4, useExplicit: true, onChange: (e) => {\n                    setSelectedState(e.value);\n                }, formItem: {\n                    component: Dropdown,\n                    componentProps: {\n                        showClear: true,\n                        optionLabel: \"name\",\n                        optionValue: \"key\",\n                        filter: true,\n                        filterBy: \"name\",\n                        options: states\n                    }\n                } }),\n            React.createElement(FormField, { label: \"City\", name: \"city_key\", control: control, errors: errors, required: true, leftSpan: 3, rightSpan: 4, formItem: {\n                    component: Dropdown,\n                    componentProps: {\n                        showClear: true,\n                        optionLabel: \"name\",\n                        optionValue: \"key\",\n                        filter: true,\n                        filterBy: \"name\",\n                        options: cities\n                    }\n                } })));\n    };\n    return (React.createElement(React.Fragment, null,\n        React.createElement(ManageLayout, { baseRoute: `/${MODULE_NAME}/${PAGE_ROUTE}`, description: PAGE_NAME, id: id, data: data, isUpdating: isAdding || isUpdating || showingToast, isLoading: isLoading, onSubmit: onSubmit, renderForm: renderForm })));\n};\nexport default Manage;\n","import React, { useState } from 'react';\nimport { ListLayout, Datacolumn } from '@igblsln/control';\nimport { PAGE_SIZE } from '@igblsln/store';\nimport { useDeleteCustomerMutation, useListCustomerQuery } from '../customersApi';\nimport { MODULE_NAME } from '../../../constants';\nimport { PAGE_NAME, PAGE_ROUTE } from '../constants';\nconst Main = (props) => {\n    const [page, setPage] = useState(1);\n    const [size, setSize] = useState(PAGE_SIZE);\n    const { data, isFetching: isLoading } = useListCustomerQuery({ page: page, size: size });\n    const [deleteDataAction, { isLoading: isDeleting }] = useDeleteCustomerMutation();\n    const deleteAction = (id) => deleteDataAction(id).unwrap();\n    return (React.createElement(ListLayout, { pagination: {\n            pageSize: size,\n            loading: isLoading,\n            currentPage: page,\n            total: data === null || data === void 0 ? void 0 : data.count,\n            onChange: (page, size) => {\n                setPage(page);\n                setSize(size);\n            }\n        }, baseRoute: `/${MODULE_NAME}/${PAGE_ROUTE}`, description: PAGE_NAME, isLoading: isLoading || isDeleting, data: data === null || data === void 0 ? void 0 : data.results, deleteAction: deleteAction, newTable: true, showHeader: true },\n        React.createElement(Datacolumn, { field: \"id\", header: \"Customer Code\", filteringType: 'number' }),\n        React.createElement(Datacolumn, { field: \"name\", header: \"Customer Name\", filteringType: 'text' })));\n};\nexport default Main;\n","import React from 'react';\nimport { Route } from \"react-router-dom\";\nimport Manage from './Manage';\nimport Main from './Main';\nimport { PAGE_ROUTE } from './constants';\nconst ProjectRoutes = (React.createElement(Route, { path: PAGE_ROUTE },\n    React.createElement(Route, { path: \"new\", element: React.createElement(Manage, null) }),\n    React.createElement(Route, { path: \":id/edit\", element: React.createElement(Manage, null) }),\n    React.createElement(Route, { index: true, element: React.createElement(Main, null) })));\nexport default ProjectRoutes;\n","import React from 'react';\nimport { Routes, Route, Navigate } from \"react-router-dom\";\nimport { ComingSoon, ModuleLayout, NoMatch } from '@igblsln/control';\nimport routes from './routes';\nimport CustomerRoutes from '../pages/Customers';\nimport { PAGE_ROUTE } from '../pages/Customers/constants';\nconst Main = () => {\n    return (React.createElement(Routes, null,\n        React.createElement(Route, { path: \"/\", element: React.createElement(ModuleLayout, { navItems: routes }) },\n            React.createElement(Route, { index: true, element: React.createElement(Navigate, { to: PAGE_ROUTE, replace: true }) }),\n            CustomerRoutes,\n            React.createElement(Route, { path: \":page/comming-soon\", element: React.createElement(ComingSoon, null) }),\n            React.createElement(Route, { path: \"*\", element: React.createElement(NoMatch, { relative: true }) }))));\n};\nexport default Main;\n"],"names":["page","isCommingSoon","PAGE_ROUTE","PAGE_NAME","items","label","icon","template","templateFn","MODULE_NAME","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","API_PATH","customerApi","api","overrideExisting","endpoints","build","listCustomer","query","size","url","urlUtils","PAGE_SIZE","providesTags","result","_a","results","map","id","type","tags","addCustomer","mutation","body","method","invalidatesTags","getCustomer","_Customer","_err","updateCustomer","data","key","project","getStates","state_key","getCities","state","city_key","deleteCustomer","getErrorProne","useAddCustomerMutation","useDeleteCustomerMutation","useGetCustomerQuery","useListCustomerQuery","useUpdateCustomerMutation","useGetCitiesQuery","useGetErrorProneQuery","useGetStatesQuery","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","done","then","apply","props","useToast","showSuccess","showError","useState","showingToast","setShowingToast","navigate","useNavigate","idString","useParams","parseInt","isNew","isNaN","selectedState","setSelectedState","clientProps","getClientProps","skip","isLoading","states","cities","isAdding","isUpdating","React","ManageLayout","baseRoute","description","onSubmit","values","assign","unwrap","resp","detail","setTimeout","AFTER_API_TIME","renderForm","control","_register","errors","className","FormField","name","required","leftSpan","rightSpan","formItem","component","InputText","componentProps","maxLength","useExplicit","onChange","Dropdown","showClear","optionLabel","optionValue","filter","filterBy","options","setPage","setSize","isFetching","deleteDataAction","isDeleting","ListLayout","pagination","pageSize","loading","currentPage","total","count","deleteAction","newTable","showHeader","Datacolumn","field","header","filteringType","Route","path","element","Manage","index","Main","Routes","ModuleLayout","navItems","routes","Navigate","to","replace","CustomerRoutes","ComingSoon","NoMatch","relative"],"sourceRoot":""}