"use strict";(self.webpackChunkbuild_iq_app=self.webpackChunkbuild_iq_app||[]).push([[593],{3069:function(e,t,n){n.r(t),n.d(t,{default:function(){return Lt}});var r=n(969),i=n(734),a=n(2391),o="inventory",c=function(e,t){return(0,a.E7)("/".concat(o,"/").concat(e)+(t?"/comming-soon":""))},u=[{items:[{label:"Item",icon:"pi ml-3",template:c("items")},{label:"UOM",icon:"pi ml-3",template:c("uoms")},{label:"Item Type",icon:"pi ml-3",template:c("itemtypes")},{label:"Item Sub Type",icon:"pi ml-3",template:c("itemsubtypes")},{label:"Manufacturer",icon:"pi ml-3",template:c("manufacturers")}]}],l=n(2723),s=n(6234),d=n(7765),p=n(8224),m=n(6770),f=n(8103),y=n(8079),v=n(690),g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},E="/inventory/item/",h=v.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listItems:e.query({query:function(e){var t=e.page,n=e.size;return{url:(0,v.DS)(E,"?page=".concat(t||1,"&page_size=").concat(n||v.IV))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:v.pJ.INVENTORY_ITEM,id:t}}))),[{type:v.pJ.INVENTORY_ITEM,id:"LIST"}]):[{type:v.pJ.INVENTORY_ITEM,id:"LIST"}]}}),addItems:e.mutation({query:function(e){return{url:E,method:"POST",body:e}},invalidatesTags:[{type:v.pJ.INVENTORY_ITEM,id:"LIST"}]}),getItems:e.query({query:function(e){return"".concat(E).concat(e)},providesTags:function(e,t,n){return[{type:v.pJ.INVENTORY_ITEM,id:n}]}}),updateItems:e.mutation({query:function(e){var t=e.key,n=g(e,["key"]);return{url:"".concat(E).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:v.pJ.INVENTORY_ITEM,id:null===e||void 0===e?void 0:e.id}]}}),deleteItems:e.mutation({query:function(e){return{url:"".concat(E).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:v.pJ.INVENTORY_ITEM,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),T=h.useAddItemsMutation,b=h.useDeleteItemsMutation,S=h.useGetItemsQuery,I=h.useListItemsQuery,O=h.useUpdateItemsMutation,P=(h.useGetErrorProneQuery,h.endpoints.getItems,"items"),w="Item",L=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},N="/inventory/item_type/",x=v.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listItemTypes:e.query({query:function(e){var t=e.page,n=e.size;return{url:(0,v.DS)(N,"?page=".concat(t||1,"&page_size=").concat(n||v.IV))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:v.pJ.INVENTORY_ITEMTYPE,id:t}}))),[{type:v.pJ.INVENTORY_ITEMTYPE,id:"LIST"}]):[{type:v.pJ.INVENTORY_ITEMTYPE,id:"LIST"}]}}),addItemTypes:e.mutation({query:function(e){return{url:N,method:"POST",body:e}},invalidatesTags:[{type:v.pJ.INVENTORY_ITEMTYPE,id:"LIST"}]}),getItemTypes:e.query({query:function(e){return"".concat(N).concat(e)},providesTags:function(e,t,n){return[{type:v.pJ.INVENTORY_ITEMTYPE,id:n}]}}),updateItemTypes:e.mutation({query:function(e){var t=e.key,n=L(e,["key"]);return{url:"".concat(N).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:v.pJ.INVENTORY_ITEMTYPE,id:null===e||void 0===e?void 0:e.id}]}}),deleteItemTypes:e.mutation({query:function(e){return{url:"".concat(N).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:v.pJ.INVENTORY_ITEMTYPE,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),_=x.useAddItemTypesMutation,M=x.useDeleteItemTypesMutation,k=x.useGetItemTypesQuery,U=x.useListItemTypesQuery,R=x.useUpdateItemTypesMutation,q=(x.useGetErrorProneQuery,x.endpoints.getItemTypes,function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}),Z="/inventory/item_subtype/",W=v.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listItemSubTypes:e.query({query:function(e){var t=e.page,n=e.size;return{url:(0,v.DS)(Z,"?page=".concat(t||1,"&page_size=").concat(n||v.IV))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:v.pJ.INVENTORY_ITEM_SUB_TYPE,id:t}}))),[{type:v.pJ.INVENTORY_ITEM_SUB_TYPE,id:"LIST"}]):[{type:v.pJ.INVENTORY_ITEM_SUB_TYPE,id:"LIST"}]}}),addItemSubTypes:e.mutation({query:function(e){return{url:Z,method:"POST",body:e}},invalidatesTags:[{type:v.pJ.INVENTORY_ITEM_SUB_TYPE,id:"LIST"}]}),getItemSubTypes:e.query({query:function(e){return"".concat(Z).concat(e)},providesTags:function(e,t,n){return[{type:v.pJ.INVENTORY_ITEM_SUB_TYPE,id:n}]}}),updateItemSubTypes:e.mutation({query:function(e){var t=e.key,n=q(e,["key"]);return{url:"".concat(Z).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:v.pJ.INVENTORY_ITEM_SUB_TYPE,id:null===e||void 0===e?void 0:e.id}]}}),deleteItemSubTypes:e.mutation({query:function(e){return{url:"".concat(Z).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:v.pJ.INVENTORY_ITEM_SUB_TYPE,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),A=W.useAddItemSubTypesMutation,V=W.useDeleteItemSubTypesMutation,j=W.useGetItemSubTypesQuery,Y=W.useListItemSubTypesQuery,C=W.useUpdateItemSubTypesMutation,J=(W.useGetErrorProneQuery,W.endpoints.getItemSubTypes,n(4576)),G=(0,r.forwardRef)((function(e,t){var n=e.data,i=e.isLoading,o=e.disableTable,c=void 0!==o&&o,u=e.onChange,l=void 0===u?function(){}:u,d=(0,r.useState)([]),p=(0,s.Z)(d,2),f=p[0],y=p[1],v=(0,r.useRef)(f);(0,r.useImperativeHandle)(t,(function(){return{getItems:function(){return f}}})),(0,r.useEffect)((function(){y(n),v.current=n}),[n]);return r.createElement(a.PS,{baseRoute:"/purchase/".concat(P),description:w,isLoading:i,data:f,newTable:!0,tableLayoutClass:"h-full",allowFilters:!1,hideActionColumn:c,actionBodyTemplate:function(e){return r.createElement(m.z,{style:{height:"35px",width:"20px",marginLeft:20},type:"button",onClick:function(){(0,J.V)({message:"Are you sure you want to Delete Item?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){return function(e){var t=v.current.filter((function(t){return t!==e}));v.current=t,y(t)}(e)},reject:function(){}})},className:"p-button-rounded p-button-text",icon:"pi pi-trash"})},gridProps:{allowAdd:!0,disableAdd:!function(e){if(0===e.length)return!0;var t=e[e.length-1];return(null===t||void 0===t?void 0:t.name)&&(null===t||void 0===t?void 0:t.value)}(f),OnRowsChanged:function(e){var t=e;y(t),v.current=t,l(!0)}}},r.createElement(a._P,{field:"name",header:"Specification Parameter",editorType:"text"}),r.createElement(a._P,{field:"value",header:"Value",editorType:"text"}))})),F=n(9459),D=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function c(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}u((r=r.apply(e,t||[])).next())}))},z=function(e){var t=(0,a.pm)(),n=t.showSuccess,c=t.showError,u=(0,r.useState)(!1),y=(0,s.Z)(u,2),g=y[0],E=y[1],h=(0,r.useState)(!1),b=(0,s.Z)(h,2),I=b[0],L=b[1],N=(0,r.useState)(""),x=(0,s.Z)(N,2),_=x[0],M=x[1],k=(0,i.s0)(),R=(0,i.UO)().id,q=parseInt(R||""),Z=isNaN(q)||q<=0,W=(0,r.useRef)(),A=(0,r.useState)(!1),V=(0,s.Z)(A,2),C=V[0],J=V[1],z=(0,v.ft)(),Q=S(q,{skip:Z}),B=Q.data,H=Q.isLoading,$=(0,r.useState)(null===B||void 0===B?void 0:B.specification),K=(0,s.Z)($,2),X=K[0],ee=K[1],te=T(),ne=(0,s.Z)(te,2),re=ne[0],ie=ne[1].isLoading,ae=O(),oe=(0,s.Z)(ae,2),ce=oe[0],ue=oe[1].isLoading,le=(0,r.useState)(null),se=(0,s.Z)(le,2),de=se[0],pe=se[1],me=(0,r.useState)(null),fe=(0,s.Z)(me,2),ye=fe[0],ve=fe[1],ge=U({}),Ee=ge.data,he=ge.isFetching,Te=Y({}),be=Te.data,Se=Te.isFetching,Ie=(0,v.U$)(de,{skip:!de}),Oe=Ie.data,Pe=(Ie.isLoading,j(ye,{skip:!ye}).data),we=(0,v._1)(de,{skip:!de}),Le=we.data,Ne=we.isFetching,xe=(0,r.useState)([]),_e=(0,s.Z)(xe,2),Me=_e[0],ke=_e[1];(0,r.useEffect)((function(){B&&(B.specification&&ee(B.specification),pe(B.itemtyp_key),M(B.descr))}),[B]),(0,r.useEffect)((function(){var e;if(Oe&&B){var t=null===(e=null===B||void 0===B?void 0:B.itemuoms)||void 0===e?void 0:e.split("|").map((function(e){return parseInt(e)})),n=null===Oe||void 0===Oe?void 0:Oe.filter((function(e){return t.includes(e.key)}));ke(n)}}),[Oe]),(0,r.useEffect)((function(){var e,t;if(Pe){var n=null===(e=null===Pe||void 0===Pe?void 0:Pe.spec_param)||void 0===e?void 0:e.split("|").map((function(e){return{name:e}}));ee(n);var r=null===(t=null===Pe||void 0===Pe?void 0:Pe.uom_keys)||void 0===t?void 0:t.split("|").map((function(e){return parseInt(e)})),i=null===Oe||void 0===Oe?void 0:Oe.filter((function(e){return r.includes(e.key)}));ke(i)}}),[Pe]);return r.createElement(r.Fragment,null,r.createElement(a.Rm,{baseRoute:"/".concat(o,"/").concat(P),description:w,id:q,data:B,isUpdating:ie||ue||g,isLoading:H,onSubmit:function(e){return D(void 0,void 0,void 0,(0,l.Z)().mark((function t(){var r,i,a,u,s;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,u=null===(r=W.current)||void 0===r?void 0:r.getItems(),s=Object.assign(Object.assign(Object.assign(Object.assign({},e),{specification:u}),z),{stocktype:"I",itemuoms:null===Me||void 0===Me?void 0:Me.map((function(e){return e.key})).join("|")}),console.log(s),!Z){t.next=10;break}return t.next=7,re(s).unwrap();case 7:a=t.sent,t.next=13;break;case 10:return t.next=12,ce(s).unwrap();case 12:a=t.sent;case 13:n("Success",a.detail),E(!0),setTimeout((function(){k("/".concat(o,"/").concat(P))}),v.P7),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),c("An error occurred",(null===(i=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===i?void 0:i.detail)||"We couldn't save your post, try again!");case 21:case"end":return t.stop()}}),t,null,[[0,18]])})))},renderForm:function(e,t,n,i,o){var u;return r.createElement("div",{className:"pl-8 pt-4 pb-3 grid p-fluid"},r.createElement(a.Wi,{label:"Item Type",name:"itemtyp_key",className:"col-12",control:e,errors:n,isLoading:he,required:!0,leftSpan:2,rightSpan:3,useExplicit:!0,onChange:function(e){ke([]),pe(e.value),ve(""),o("subtype",""),o("gst","")},formItem:{component:p.L,componentProps:{optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:null===Ee||void 0===Ee?void 0:Ee.results}}}),r.createElement(a.Wi,{label:"Item Sub Type",name:"subtype",className:"col-12",control:e,errors:n,isLoading:Se,required:!0,leftSpan:2,rightSpan:3,useExplicit:!0,onChange:function(e){ve(e.value);var t=null===be||void 0===be?void 0:be.results.filter((function(t){return t.key===e.value}))[0];o("gst",(null===t||void 0===t?void 0:t.gst)||"")},formItem:{component:p.L,componentProps:{optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:null===be||void 0===be?void 0:be.results.filter((function(e){return e.itemtyp_key===de}))}}}),r.createElement(a.Wi,{label:"GST (%)",name:"gst",className:"col-12",control:e,errors:n,required:!0,leftSpan:2,rightSpan:3,formItem:{component:d.o,componentProps:{type:"number",min:0,max:100}}}),r.createElement(a.Wi,{label:"Item Description",name:"descr",className:"col-12 md:col-7",control:e,errors:n,required:!0,leftSpan:4,rightSpan:7,formItem:{component:d.o,componentProps:{maxLength:100,id:"item-descr",onFocus:function(e){L(!0)},onBlur:function(e){var t;M(null===(t=null===e||void 0===e?void 0:e.target)||void 0===t?void 0:t.defaultValue),L(!1)},style:{marginLeft:"-24px"}}}}),!!_&&!I&&r.createElement(F.u,{mouseTrack:!0,mouseTrackLeft:10,target:"#item-descr",position:"top",content:_,className:"my-tooltip"}),r.createElement(m.z,{style:{width:"35%",marginBottom:25,marginTop:8},className:"col-12 md:col-6",label:"Generate Item Description",onClick:function(e){var t,n;e.preventDefault();var r=null===(t=W.current)||void 0===t?void 0:t.getItems(),a=null===r||void 0===r?void 0:r.map((function(e){return"[".concat(e.value||0," ").concat(e.name||"","]")}));a=null===a||void 0===a?void 0:a.join(" ");var u=i(),l=null===(n=null===u||void 0===u?void 0:u.descr)||void 0===n?void 0:n.split("[")[0].trim(),s="",d=(null===u||void 0===u?void 0:u.model_number)?"[".concat((null===u||void 0===u?void 0:u.model_number)||"","]"):"",p=null===Le||void 0===Le?void 0:Le.filter((function(e){return e.key===u.mfr_key}));(null===p||void 0===p?void 0:p.length)&&(s="[".concat(p[0].name,"]"));var m="".concat(l||""," ").concat(a," ").concat(s," ").concat(d);(m=m.trim())?(o("descr",m),M(m)):c("Enter Some Data","Nothing to Generate")}}),r.createElement(a.Wi,{label:"Model Number",name:"model_number",className:"col-12",control:e,errors:n,leftSpan:2,rightSpan:3,formItem:{component:d.o,componentProps:{maxLength:100}}}),r.createElement(a.Wi,{label:"Manufacturer",name:"mfr_key",className:"col-12",control:e,errors:n,isLoading:Ne,leftSpan:2,rightSpan:3,formItem:{component:p.L,componentProps:{optionLabel:"name",optionValue:"key",filter:!0,filterBy:"name",options:Le}}}),r.createElement("div",{className:"flex",style:{width:"100%"}},r.createElement("div",{style:{width:"40%",marginRight:50}},r.createElement(G,{data:X||(null===(u=W.current)||void 0===u?void 0:u.getItems())||[],isLoading:H,ref:W,onChange:function(e){return!C&&J(e)}})),r.createElement("div",{style:{width:"50%"}},r.createElement(f.N,{value:Me,onChange:function(e){return e.stopPropagation()},options:Oe,optionLabel:"descr",display:"chip",placeholder:"Select UOM",className:"w-full md:w-20rem"}))))}}))},Q=function(e){var t=(0,r.useState)(1),n=(0,s.Z)(t,2),i=n[0],c=n[1],u=(0,r.useState)(v.IV),l=(0,s.Z)(u,2),d=l[0],p=l[1],m=I({page:i,size:d}),f=m.data,y=m.isFetching,g=b(),E=(0,s.Z)(g,2),h=E[0],T=E[1].isLoading;return r.createElement(a.PS,{pagination:{pageSize:d,loading:y,currentPage:i,total:null===f||void 0===f?void 0:f.count,onChange:function(e,t){c(e),p(t)}},baseRoute:"/".concat(o,"/").concat(P),description:w,isLoading:y||T,data:null===f||void 0===f?void 0:f.results,deleteAction:function(e){return h(e).unwrap()},newTable:!0,showHeader:!0},r.createElement(a._P,{field:"id",header:"Item Code",filteringType:"number"}),r.createElement(a._P,{field:"descr",header:"Item Description",filteringType:"text"}),r.createElement(a._P,{field:"itemtyp.descr",header:"Item Type",filteringType:"text"}))},B=r.createElement(i.AW,{path:"items"},r.createElement(i.AW,{path:"new",element:r.createElement(z,null)}),r.createElement(i.AW,{path:":id/edit",element:r.createElement(z,null)}),r.createElement(i.AW,{index:!0,element:r.createElement(Q,null)})),H=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},$="/inventory/warehouse/",K=v.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listWarehouses:e.query({query:function(e){var t=e.page,n=e.size;return{url:(0,v.DS)($,"?page=".concat(t||1,"&page_size=").concat(n||v.IV))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:v.pJ.WAREHOUSE,id:t}}))),[{type:v.pJ.WAREHOUSE,id:"LIST"}]):[{type:v.pJ.WAREHOUSE,id:"LIST"}]}}),addWarehouses:e.mutation({query:function(e){return{url:$,method:"POST",body:e}},invalidatesTags:[{type:v.pJ.WAREHOUSE,id:"LIST"}]}),getWarehouses:e.query({query:function(e){return"".concat($).concat(e)},providesTags:function(e,t,n){return[{type:v.pJ.WAREHOUSE,id:n}]}}),updateWarehouses:e.mutation({query:function(e){var t=e.key,n=H(e,["key"]);return{url:"".concat($).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:v.pJ.WAREHOUSE,id:null===e||void 0===e?void 0:e.id}]}}),deleteWarehouses:e.mutation({query:function(e){return{url:"".concat($).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:v.pJ.WAREHOUSE,id:null===e||void 0===e?void 0:e.id}]}}),getStates:e.query({query:function(){return{url:"/geo/state/"}},providesTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[].concat((0,y.Z)(e.map((function(e){var t=e.state_key;return{type:v.pJ.STATES,id:t}}))),[{type:v.pJ.STATES,id:"LIST"}])}}),getCities:e.query({query:function(e){return{url:"/geo/city/?state=".concat(e)}},providesTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[].concat((0,y.Z)(e.map((function(e){var t=e.city_key;return{type:v.pJ.CITIES,id:t}}))),[{type:v.pJ.CITIES,id:"LIST"}])}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),X=K.useAddWarehousesMutation,ee=K.useDeleteWarehousesMutation,te=K.useGetWarehousesQuery,ne=K.useListWarehousesQuery,re=K.useUpdateWarehousesMutation,ie=(K.useGetErrorProneQuery,K.useGetCitiesQuery),ae=K.useGetStatesQuery,oe=(K.endpoints.getWarehouses,"warehouses"),ce="Warehouse",ue=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function c(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}u((r=r.apply(e,t||[])).next())}))},le=function(e){var t=(0,a.pm)(),n=t.showSuccess,c=t.showError,u=(0,r.useState)(!1),f=(0,s.Z)(u,2),y=f[0],g=f[1],E=(0,i.s0)(),h=(0,i.UO)().id,T=parseInt(h||""),b=isNaN(T)||T<=0,S=(0,r.useState)(""),I=(0,s.Z)(S,2),O=I[0],P=I[1],w=(0,v.ft)(),L=ae(),N=L.data,x=L.isFetching,_=ie(O),M=_.data,k=_.isFetching,U=te(T,{skip:b}),R=U.data,q=U.isLoading,Z=X(),W=(0,s.Z)(Z,2),A=W[0],V=W[1].isLoading,j=re(),Y=(0,s.Z)(j,2),C=Y[0],J=Y[1].isLoading;return r.createElement(r.Fragment,null,r.createElement(a.Rm,{baseRoute:"/".concat(o,"/").concat(oe),description:ce,id:T,data:R,isUpdating:V||J||y,isLoading:q,onSubmit:function(e){return ue(void 0,void 0,void 0,(0,l.Z)().mark((function t(){var r,i;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!b){t.next=7;break}return t.next=4,A(Object.assign(Object.assign({},e),w)).unwrap();case 4:i=t.sent,t.next=10;break;case 7:return t.next=9,C(Object.assign(Object.assign({},e),w)).unwrap();case 9:i=t.sent;case 10:n("Success",i.detail),g(!0),setTimeout((function(){E("/".concat(o,"/").concat(oe))}),v.P7),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),c("An error occurred",(null===(r=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===r?void 0:r.detail)||"We couldn't save your post, try again!");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))},renderForm:function(e,t,n){return r.createElement("div",{className:"flex"},r.createElement("div",{className:"pl-8 pt-4 pb-3 grid p-fluid"},r.createElement(a.Wi,{label:"Warehouse Name",name:"name",className:"col-12",control:e,errors:n,required:"Enter Name",leftSpan:3,rightSpan:5,formItem:{component:d.o,componentProps:{maxLength:100}}}),r.createElement(a.Wi,{label:"Address Line 1",name:"addr1",className:"col-12",control:e,errors:n,leftSpan:3,rightSpan:5,formItem:{component:d.o,componentProps:{maxLength:100}}}),r.createElement(a.Wi,{label:"Address Line 2",name:"addr2",className:"col-12",control:e,errors:n,leftSpan:3,rightSpan:5,formItem:{component:d.o,componentProps:{maxLength:100}}}),r.createElement(a.Wi,{label:"State",name:"state_key",className:"col-12",control:e,errors:n,isLoading:x,required:"Select a State",leftSpan:3,rightSpan:3,useExplicit:!0,onChange:function(e){P(e.value)},formItem:{component:p.L,componentProps:{showClear:!0,optionLabel:"name",optionValue:"key",filter:!0,filterBy:"name",options:N}}}),r.createElement(a.Wi,{label:"City",name:"city_key",className:"col-12",control:e,errors:n,isLoading:k,required:"Select a City",leftSpan:3,rightSpan:3,formItem:{component:p.L,componentProps:{showClear:!0,optionLabel:"name",optionValue:"key",filter:!0,filterBy:"name",options:M}}})),r.createElement("div",{className:"col-2",style:{marginTop:25}},r.createElement("div",null,r.createElement(m.z,{onClick:function(e){return e.preventDefault()},label:"Contact",className:"project-page-tags",style:{width:"100%"}}))))}}))},se=function(e){var t=(0,r.useState)(1),n=(0,s.Z)(t,2),i=n[0],c=n[1],u=(0,r.useState)(v.IV),l=(0,s.Z)(u,2),d=l[0],p=l[1],m=ne({page:i,size:d}),f=m.data,y=m.isFetching,g=ee(),E=(0,s.Z)(g,2),h=E[0],T=E[1].isLoading;return r.createElement(a.PS,{pagination:{pageSize:d,loading:y,currentPage:i,total:null===f||void 0===f?void 0:f.count,onChange:function(e,t){c(e),p(t)}},baseRoute:"/".concat(o,"/").concat(oe),description:ce,isLoading:y||T,data:null===f||void 0===f?void 0:f.results,deleteAction:function(e){return h(e).unwrap()},newTable:!0,showHeader:!0},r.createElement(a._P,{field:"id",header:"Warehouse Code",filteringType:"number"}),r.createElement(a._P,{field:"name",header:"Warehouse Name",filteringType:"text"}),r.createElement(a._P,{field:"addr1",header:"Address",filteringType:"text"}))},de=r.createElement(i.AW,{path:"warehouses"},r.createElement(i.AW,{path:"new",element:r.createElement(le,null)}),r.createElement(i.AW,{path:":id/edit",element:r.createElement(le,null)}),r.createElement(i.AW,{index:!0,element:r.createElement(se,null)})),pe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},me="/inventory/manufacturer/",fe=v.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listManufacturers:e.query({query:function(e){var t=e.page,n=e.size;return{url:(0,v.DS)(me,"?page=".concat(t||1,"&page_size=").concat(n||v.IV))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:v.pJ.INVENTORY_MFGR,id:t}}))),[{type:v.pJ.INVENTORY_MFGR,id:"LIST"}]):[{type:v.pJ.INVENTORY_MFGR,id:"LIST"}]}}),addManufacturers:e.mutation({query:function(e){return{url:me,method:"POST",body:e}},invalidatesTags:[{type:v.pJ.INVENTORY_MFGR,id:"LIST"}]}),getManufacturers:e.query({query:function(e){return"".concat(me).concat(e)},providesTags:function(e,t,n){return[{type:v.pJ.INVENTORY_MFGR,id:n}]}}),updateManufacturers:e.mutation({query:function(e){var t=e.key,n=pe(e,["key"]);return{url:"".concat(me).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:v.pJ.INVENTORY_MFGR,id:null===e||void 0===e?void 0:e.id}]}}),deleteManufacturers:e.mutation({query:function(e){return{url:"".concat(me).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:v.pJ.INVENTORY_MFGR,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),ye=fe.useAddManufacturersMutation,ve=fe.useDeleteManufacturersMutation,ge=fe.useGetManufacturersQuery,Ee=fe.useListManufacturersQuery,he=fe.useUpdateManufacturersMutation,Te=(fe.useGetErrorProneQuery,fe.endpoints.getManufacturers,"manufacturers"),be="Manufacturer",Se=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function c(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}u((r=r.apply(e,t||[])).next())}))},Ie=function(e){var t=(0,a.pm)(),n=t.showSuccess,c=t.showError,u=(0,r.useState)(!1),m=(0,s.Z)(u,2),f=m[0],y=m[1],g=(0,i.s0)(),E=(0,i.UO)().id,h=parseInt(E||""),T=isNaN(h)||h<=0,b=(0,v.ft)(),S=ge(h,{skip:T}),I=S.data,O=S.isLoading,P=ye(),w=(0,s.Z)(P,2),L=w[0],N=w[1].isLoading,x=he(),_=(0,s.Z)(x,2),M=_[0],k=_[1].isLoading,R=U({}),q=R.data,Z=R.isFetching;return r.createElement(r.Fragment,null,r.createElement(a.Rm,{baseRoute:"/".concat(o,"/").concat(Te),description:be,id:h,data:I,isUpdating:N||k||f,isLoading:O,onSubmit:function(e){return Se(void 0,void 0,void 0,(0,l.Z)().mark((function t(){var r,i;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!T){t.next=7;break}return t.next=4,L(Object.assign(Object.assign({},e),b)).unwrap();case 4:i=t.sent,t.next=10;break;case 7:return t.next=9,M(Object.assign(Object.assign({},e),b)).unwrap();case 9:i=t.sent;case 10:n("Success",i.detail),y(!0),setTimeout((function(){g("/".concat(o,"/").concat(Te))}),v.P7),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),c("An error occurred",(null===(r=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===r?void 0:r.detail)||"We couldn't save your post, try again!");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))},renderForm:function(e,t,n){return r.createElement("div",{className:"pl-8 pt-4 pb-3 grid p-fluid"},r.createElement(a.Wi,{label:"Manufacturer Name",name:"name",className:"col-12",control:e,errors:n,required:"Enter Name",leftSpan:2,rightSpan:5,formItem:{component:d.o,componentProps:{maxLength:100}}}),r.createElement(a.Wi,{label:"Item Type",name:"itemtyp_key",className:"col-12",control:e,errors:n,isLoading:Z,required:"Select an Item",leftSpan:2,rightSpan:5,formItem:{component:p.L,componentProps:{showClear:!0,optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:null===q||void 0===q?void 0:q.results}}}))}}))},Oe=function(e){var t=(0,r.useState)(1),n=(0,s.Z)(t,2),i=n[0],c=n[1],u=(0,r.useState)(v.IV),l=(0,s.Z)(u,2),d=l[0],p=l[1],m=Ee({page:i,size:d}),f=m.data,y=m.isFetching,g=ve(),E=(0,s.Z)(g,2),h=E[0],T=E[1].isLoading;return r.createElement(a.PS,{pagination:{pageSize:d,loading:y,currentPage:i,total:null===f||void 0===f?void 0:f.count,onChange:function(e,t){c(e),p(t)}},baseRoute:"/".concat(o,"/").concat(Te),description:be,isLoading:y||T,data:null===f||void 0===f?void 0:f.results,deleteAction:function(e){return h(e).unwrap()},newTable:!0,showHeader:!0},r.createElement(a._P,{field:"id",header:"Manufacturer Code",filteringType:"number"}),r.createElement(a._P,{field:"name",header:"Manufacturer Name",filteringType:"text"}),r.createElement(a._P,{field:"itemtyp.descr",header:"Item Type",filteringType:"text"}))},Pe=r.createElement(i.AW,{path:"manufacturers"},r.createElement(i.AW,{path:"new",element:r.createElement(Ie,null)}),r.createElement(i.AW,{path:":id/edit",element:r.createElement(Ie,null)}),r.createElement(i.AW,{index:!0,element:r.createElement(Oe,null)})),we=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Le="/inventory/item_uom/",Ne=v.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listUOMs:e.query({query:function(e){var t=e.page,n=e.size;return{url:(0,v.DS)(Le,"?page=".concat(t||1,"&page_size=").concat(n||v.IV))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:v.pJ.UOM,id:t}}))),[{type:v.pJ.UOM,id:"LIST"}]):[{type:v.pJ.UOM,id:"LIST"}]}}),addUOMs:e.mutation({query:function(e){return{url:Le,method:"POST",body:e}},invalidatesTags:[{type:v.pJ.UOM,id:"LIST"}]}),getUOMs:e.query({query:function(e){return"".concat(Le).concat(e)},providesTags:function(e,t,n){return[{type:v.pJ.UOM,id:n}]}}),updateUOMs:e.mutation({query:function(e){var t=e.key,n=we(e,["key"]);return{url:"".concat(Le).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:v.pJ.UOM,id:null===e||void 0===e?void 0:e.id}]}}),deleteUOMs:e.mutation({query:function(e){return{url:"".concat(Le).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:v.pJ.UOM,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),xe=Ne.useAddUOMsMutation,_e=Ne.useDeleteUOMsMutation,Me=Ne.useGetUOMsQuery,ke=Ne.useListUOMsQuery,Ue=Ne.useUpdateUOMsMutation,Re=(Ne.useGetErrorProneQuery,Ne.endpoints.getUOMs,"uoms"),qe=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function c(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}u((r=r.apply(e,t||[])).next())}))},Ze=function(e){var t=(0,a.pm)(),n=t.showSuccess,c=t.showError,u=(0,r.useState)(!1),m=(0,s.Z)(u,2),f=m[0],y=m[1],g=(0,i.s0)(),E=(0,i.UO)().id,h=parseInt(E||""),T=isNaN(h)||h<=0,b=(0,v.ft)(),S=Me(h,{skip:T}),I=S.data,O=S.isLoading,P=ke({}),w=(P.data,P.isLoading,U({})),L=w.data,N=w.isFetching,x=xe(),_=(0,s.Z)(x,2),M=_[0],k=_[1].isLoading,R=Ue(),q=(0,s.Z)(R,2),Z=q[0],W=q[1].isLoading;return r.createElement(r.Fragment,null,r.createElement(a.Rm,{baseRoute:"/".concat(o,"/").concat(Re),description:"UOM",id:h,data:I,isUpdating:k||W||f,isLoading:O,onSubmit:function(e){return qe(void 0,void 0,void 0,(0,l.Z)().mark((function t(){var r,i;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!T){t.next=7;break}return t.next=4,M(Object.assign(Object.assign({},e),b)).unwrap();case 4:i=t.sent,t.next=10;break;case 7:return t.next=9,Z(Object.assign(Object.assign({},e),b)).unwrap();case 9:i=t.sent;case 10:n("Success",i.detail),y(!0),setTimeout((function(){g("/".concat(o,"/").concat(Re))}),v.P7),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),c("An error occurred",(null===(r=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===r?void 0:r.detail)||"We couldn't save your post, try again!");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))},renderForm:function(e,t,n){return r.createElement("div",{className:"pl-8 pt-4 pb-3 grid p-fluid"},r.createElement(a.Wi,{label:"Item Type",name:"itemtyp_key",className:"col-12",control:e,errors:n,isLoading:N,required:!0,leftSpan:3,rightSpan:4,formItem:{component:p.L,componentProps:{showClear:!0,optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:null===L||void 0===L?void 0:L.results}}}),r.createElement(a.Wi,{label:"UOM Description",name:"descr",className:"col-12",control:e,errors:n,required:"Enter Item Description",leftSpan:3,rightSpan:4,formItem:{component:d.o,componentProps:{maxLength:100}}}))}}))},We=function(e){var t=(0,r.useState)(1),n=(0,s.Z)(t,2),i=n[0],c=n[1],u=(0,r.useState)(v.IV),l=(0,s.Z)(u,2),d=l[0],p=l[1],m=ke({page:i,size:d}),f=m.data,y=m.isFetching,g=_e(),E=(0,s.Z)(g,2),h=E[0],T=E[1].isLoading;return r.createElement(a.PS,{pagination:{pageSize:d,loading:y,currentPage:i,total:null===f||void 0===f?void 0:f.count,onChange:function(e,t){c(e),p(t)}},baseRoute:"/".concat(o,"/").concat(Re),description:"UOM",isLoading:y||T,data:null===f||void 0===f?void 0:f.results,deleteAction:function(e){return h(e).unwrap()},newTable:!0,showHeader:!0},r.createElement(a._P,{field:"id",header:"UOM Code",filteringType:"number"}),r.createElement(a._P,{field:"descr",header:"UOM Description",filteringType:"text"}),r.createElement(a._P,{field:"item_type.descr",header:"Item Type",filteringType:"text"}))},Ae=r.createElement(i.AW,{path:"uoms"},r.createElement(i.AW,{path:"new",element:r.createElement(Ze,null)}),r.createElement(i.AW,{path:":id/edit",element:r.createElement(Ze,null)}),r.createElement(i.AW,{index:!0,element:r.createElement(We,null)})),Ve="itemtypes",je="Item Type",Ye=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function c(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}u((r=r.apply(e,t||[])).next())}))},Ce=function(e){var t=(0,a.pm)(),n=t.showSuccess,c=t.showError,u=(0,r.useState)(!1),p=(0,s.Z)(u,2),m=p[0],f=p[1],y=(0,i.s0)(),g=(0,i.UO)().id,E=parseInt(g||""),h=isNaN(E)||E<=0,T=(0,v.ft)(),b=k(E,{skip:h}),S=b.data,I=b.isLoading,O=_(),P=(0,s.Z)(O,2),w=P[0],L=P[1].isLoading,N=R(),x=(0,s.Z)(N,2),M=x[0],U=x[1].isLoading;return r.createElement(r.Fragment,null,r.createElement(a.Rm,{baseRoute:"/".concat(o,"/").concat(Ve),description:je,id:E,data:S,isUpdating:L||U||m,isLoading:I,onSubmit:function(e){return Ye(void 0,void 0,void 0,(0,l.Z)().mark((function t(){var r,i;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!h){t.next=7;break}return t.next=4,w(Object.assign(Object.assign({},e),T)).unwrap();case 4:i=t.sent,t.next=10;break;case 7:return t.next=9,M(Object.assign(Object.assign({},e),T)).unwrap();case 9:i=t.sent;case 10:n("Success",i.detail),f(!0),setTimeout((function(){y("/".concat(o,"/").concat(Ve))}),v.P7),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),c("An error occurred",(null===(r=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===r?void 0:r.detail)||"We couldn't save your post, try again!");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))},renderForm:function(e,t,n){return r.createElement("div",{className:"pl-8 pt-4 pb-3 grid p-fluid"},r.createElement(a.Wi,{label:"Type Description",name:"descr",className:"col-12",control:e,errors:n,required:"Enter Description",leftSpan:2,rightSpan:5,formItem:{component:d.o,componentProps:{maxLength:100}}}))}}))},Je=function(e){var t=(0,r.useState)(1),n=(0,s.Z)(t,2),i=n[0],c=n[1],u=(0,r.useState)(v.IV),l=(0,s.Z)(u,2),d=l[0],p=l[1],m=U({page:i,size:d}),f=m.data,y=m.isFetching,g=M(),E=(0,s.Z)(g,2),h=E[0],T=E[1].isLoading;return r.createElement(a.PS,{pagination:{pageSize:d,loading:y,currentPage:i,total:null===f||void 0===f?void 0:f.count,onChange:function(e,t){c(e),p(t)}},baseRoute:"/".concat(o,"/").concat(Ve),description:je,isLoading:y||T,data:null===f||void 0===f?void 0:f.results,deleteAction:function(e){return h(e).unwrap()},newTable:!0,showHeader:!0},r.createElement(a._P,{field:"id",header:"ItemType Code",filteringType:"number"}),r.createElement(a._P,{field:"descr",header:"ItemType Description",filteringType:"text"}))},Ge=r.createElement(i.AW,{path:"itemtypes"},r.createElement(i.AW,{path:"new",element:r.createElement(Ce,null)}),r.createElement(i.AW,{path:":id/edit",element:r.createElement(Ce,null)}),r.createElement(i.AW,{index:!0,element:r.createElement(Je,null)})),Fe="itemsubtypes",De="Item Sub Type",ze=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function c(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}u((r=r.apply(e,t||[])).next())}))},Qe=function(e){var t=(0,a.pm)(),n=t.showSuccess,c=t.showError,u=(0,r.useState)(!1),y=(0,s.Z)(u,2),g=y[0],E=y[1],h=(0,r.useState)(!1),T=(0,s.Z)(h,2),b=T[0],S=T[1],I=(0,r.useState)(!1),O=(0,s.Z)(I,2),P=O[0],w=O[1],L=(0,r.useState)(!1),N=(0,s.Z)(L,2),x=N[0],_=N[1],M=(0,i.s0)(),k=(0,i.UO)().id,R=parseInt(k||""),q=isNaN(R)||R<=0,Z=(0,r.useRef)([]),W=(0,v.ft)(),V=(0,r.useState)([]),Y=(0,s.Z)(V,2),J=Y[0],G=Y[1],F=j(R,{skip:q}),D=F.data,z=F.isLoading,Q=(0,r.useState)(null),B=(0,s.Z)(Q,2),H=B[0],$=B[1],K=(0,r.useState)([]),X=(0,s.Z)(K,2),ee=X[0],te=X[1],ne=A(),re=(0,s.Z)(ne,2),ie=re[0],ae=re[1].isLoading,oe=C(),ce=(0,s.Z)(oe,2),ue=ce[0],le=ce[1].isLoading,se=U({}),de=se.data,pe=se.isFetching,me=(0,v.U$)(H,{skip:!H}),fe=me.data,ye=(me.isLoading,function(e){if(0===e.length)return!0;var t=e[e.length-1];return null===t||void 0===t?void 0:t.item_descr}),ve=function(e){return r.createElement(m.z,{style:{height:"35px",width:"20px",marginLeft:20},type:"button",onClick:function(){var t=Z.current.filter((function(t){return t.item_descr!==e.item_descr}));te(t),Z.current=t},className:"p-button-rounded p-button-text",icon:"pi pi-trash"})};(0,r.useEffect)((function(){if(D&&($(D.itemtyp_key),null===D||void 0===D?void 0:D.spec_param)){w(!0);var e=D.spec_param.split("|").map((function(e){return{item_descr:e}}));Z.current=e,te(e)}}),[D]),(0,r.useEffect)((function(){if((null===D||void 0===D?void 0:D.uom_keys)&&fe&&!b){S(!0),_(!0);var e=D.uom_keys.split("|").map((function(e){return parseInt(e)})),t=null===fe||void 0===fe?void 0:fe.filter((function(t){return e.includes(t.key)}));G(t)}}),[fe]);return r.createElement(r.Fragment,null,r.createElement(a.Rm,{baseRoute:"/".concat(o,"/").concat(Fe),description:De,id:R,data:D,isUpdating:ae||le||g,isLoading:z,onSubmit:function(e){return ze(void 0,void 0,void 0,(0,l.Z)().mark((function t(){var r,i,a;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=Object.assign(Object.assign(Object.assign({},e),{spec_param:Z.current.map((function(e){return e.item_descr})).join("|"),uom_keys:J.map((function(e){return e.key})).join("|")}),W),console.log(a),!q){t.next=9;break}return t.next=6,ie(a).unwrap();case 6:i=t.sent,t.next=12;break;case 9:return t.next=11,ue(a).unwrap();case 11:i=t.sent;case 12:n("Success",i.detail),E(!0),setTimeout((function(){M("/".concat(o,"/").concat(Fe))}),v.P7),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),c("An error occurred",(null===(r=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===r?void 0:r.detail)||"We couldn't save your post, try again!");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))},renderForm:function(e,t,n){return r.createElement("div",{className:"pl-8 pt-4 pb-3 grid p-fluid"},r.createElement(a.Wi,{label:"Item Type",name:"itemtyp_key",className:"col-12",control:e,errors:n,isLoading:pe,required:"Select an Item Type",leftSpan:2,rightSpan:5,useExplicit:!0,onChange:function(e){$(e.value),G([])},formItem:{component:p.L,componentProps:{showClear:!0,optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:null===de||void 0===de?void 0:de.results}}}),r.createElement(a.Wi,{label:"Item Sub Type",name:"descr",className:"col-12",control:e,errors:n,required:"Enter Description",leftSpan:2,rightSpan:5,formItem:{component:d.o,componentProps:{maxLength:100}}}),r.createElement(a.Wi,{label:"GST (%)",name:"gst",className:"col-12",control:e,errors:n,required:"Enter GST",leftSpan:2,rightSpan:5,formItem:{component:d.o,componentProps:{type:"number",min:0,max:100}}}),r.createElement("div",{className:"row flex",style:{width:"90%"}},r.createElement("div",{className:"col-6"},r.createElement(m.z,{style:{width:"60%",marginBottom:30},label:"Add Specification",disabled:P,onClick:function(e){e.preventDefault(),w(!0)}}),r.createElement("div",{style:{width:"80%",marginRight:50,visibility:P?"visible":"hidden"}},r.createElement(a.PS,{baseRoute:"/".concat(o,"/").concat(Fe),description:De,isLoading:z,data:ee,newTable:!0,tableLayoutClass:"h-full",allowFilters:!1,actionBodyTemplate:ve,gridProps:{allowAdd:!0,disableAdd:!ye(ee),OnRowsChanged:function(e){te(e),Z.current=e}}},r.createElement(a._P,{field:"item_descr",header:"Specification Parameter",editorType:"text"})))),r.createElement("div",{className:"col-6"},r.createElement(m.z,{style:{width:"50%",marginBottom:30},label:"Add UOM",disabled:x,onClick:function(e){e.preventDefault(),_(!0)}}),r.createElement("div",{style:{width:"40%",alignItems:"right",visibility:x?"visible":"hidden"}},r.createElement(f.N,{value:J,onChange:function(e){return G(e.value)},options:fe,optionLabel:"descr",display:"chip",placeholder:"Select UOM",className:"w-full md:w-20rem"})))))}}))},Be=function(e){var t=(0,r.useState)(1),n=(0,s.Z)(t,2),i=n[0],c=n[1],u=(0,r.useState)(v.IV),l=(0,s.Z)(u,2),d=l[0],p=l[1],m=Y({page:i,size:d}),f=m.data,y=m.isFetching,g=V(),E=(0,s.Z)(g,2),h=E[0],T=E[1].isLoading;return r.createElement(a.PS,{pagination:{pageSize:d,loading:y,currentPage:i,total:null===f||void 0===f?void 0:f.count,onChange:function(e,t){c(e),p(t)}},baseRoute:"/".concat(o,"/").concat(Fe),description:De,isLoading:y||T,data:null===f||void 0===f?void 0:f.results,deleteAction:function(e){return h(e).unwrap()},newTable:!0,showHeader:!0},r.createElement(a._P,{field:"id",header:"SubType Code",filteringType:"number"}),r.createElement(a._P,{field:"descr",header:"SubType Description",filteringType:"text"}),r.createElement(a._P,{field:"itemtyp.descr",header:"Item Type",filteringType:"text"}))},He=r.createElement(i.AW,{path:"itemsubtypes"},r.createElement(i.AW,{path:"new",element:r.createElement(Qe,null)}),r.createElement(i.AW,{path:":id/edit",element:r.createElement(Qe,null)}),r.createElement(i.AW,{index:!0,element:r.createElement(Be,null)})),$e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ke="/inventory/uom/type/",Xe=v.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listUOMTypes:e.query({query:function(e){var t=e.page,n=e.size;return{url:(0,v.DS)(Ke,"?page=".concat(t||1,"&page_size=").concat(n||v.IV))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:v.pJ.INVENTORY_UOMTYPE,id:t}}))),[{type:v.pJ.INVENTORY_UOMTYPE,id:"LIST"}]):[{type:v.pJ.INVENTORY_UOMTYPE,id:"LIST"}]}}),addUOMTypes:e.mutation({query:function(e){return{url:Ke,method:"POST",body:e}},invalidatesTags:[{type:v.pJ.INVENTORY_UOMTYPE,id:"LIST"}]}),getUOMTypes:e.query({query:function(e){return"".concat(Ke).concat(e)},providesTags:function(e,t,n){return[{type:v.pJ.INVENTORY_UOMTYPE,id:n}]}}),updateUOMTypes:e.mutation({query:function(e){var t=e.key,n=$e(e,["key"]);return{url:"".concat(Ke).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:v.pJ.INVENTORY_UOMTYPE,id:null===e||void 0===e?void 0:e.id}]}}),deleteUOMTypes:e.mutation({query:function(e){return{url:"".concat(Ke).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:v.pJ.INVENTORY_UOMTYPE,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),et=Xe.useAddUOMTypesMutation,tt=Xe.useDeleteUOMTypesMutation,nt=Xe.useGetUOMTypesQuery,rt=Xe.useListUOMTypesQuery,it=Xe.useUpdateUOMTypesMutation,at=(Xe.useGetErrorProneQuery,Xe.endpoints.getUOMTypes,"uomtype"),ot="UOM Type",ct=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function c(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}u((r=r.apply(e,t||[])).next())}))},ut=function(e){var t=(0,a.pm)(),n=t.showSuccess,c=t.showError,u=(0,r.useState)(!1),p=(0,s.Z)(u,2),m=p[0],f=p[1],y=(0,i.s0)(),g=(0,i.UO)().id,E=parseInt(g||""),h=isNaN(E)||E<=0,T=(0,v.ft)(),b=nt(E,{skip:h}),S=b.data,I=b.isLoading,O=et(),P=(0,s.Z)(O,2),w=P[0],L=P[1].isLoading,N=it(),x=(0,s.Z)(N,2),_=x[0],M=x[1].isLoading;return r.createElement(r.Fragment,null,r.createElement(a.Rm,{baseRoute:"/".concat(o,"/").concat(at),description:ot,id:E,data:S,isUpdating:L||M||m,isLoading:I,onSubmit:function(e){return ct(void 0,void 0,void 0,(0,l.Z)().mark((function t(){var r,i;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!h){t.next=7;break}return t.next=4,w(Object.assign(Object.assign({},e),T)).unwrap();case 4:i=t.sent,t.next=10;break;case 7:return t.next=9,_(Object.assign(Object.assign({},e),T)).unwrap();case 9:i=t.sent;case 10:n("Success",i.detail),f(!0),setTimeout((function(){y("/".concat(o,"/").concat(at))}),v.P7),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),c("An error occurred",(null===(r=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===r?void 0:r.detail)||"We couldn't save your post, try again!");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))},renderForm:function(e,t,n){return r.createElement("div",{className:"pl-8 pt-4 pb-3 grid p-fluid"},r.createElement(a.Wi,{label:"UOM Type Description",name:"descr",className:"col-12",control:e,errors:n,required:"Enter Description",leftSpan:3,rightSpan:5,formItem:{component:d.o,componentProps:{maxLength:100}}}))}}))},lt=function(e){var t=(0,r.useState)(1),n=(0,s.Z)(t,2),i=n[0],c=n[1],u=(0,r.useState)(v.IV),l=(0,s.Z)(u,2),d=l[0],p=l[1],m=rt({page:i,size:d}),f=m.data,y=m.isFetching,g=tt(),E=(0,s.Z)(g,2),h=E[0],T=E[1].isLoading;return r.createElement(a.PS,{pagination:{pageSize:d,loading:y,currentPage:i,total:null===f||void 0===f?void 0:f.count,onChange:function(e,t){c(e),p(t)}},baseRoute:"/".concat(o,"/").concat(at),description:ot,isLoading:y||T,data:null===f||void 0===f?void 0:f.results,deleteAction:function(e){return h(e).unwrap()},newTable:!0,showHeader:!0},r.createElement(a._P,{field:"id",header:"Type Code",filteringType:"number"}),r.createElement(a._P,{field:"descr",header:"UOM Type Description",filteringType:"text"}))},st=r.createElement(i.AW,{path:"uomtype"},r.createElement(i.AW,{path:"new",element:r.createElement(ut,null)}),r.createElement(i.AW,{path:":id/edit",element:r.createElement(ut,null)}),r.createElement(i.AW,{index:!0,element:r.createElement(lt,null)})),dt="/inventory/item/group/",pt=v.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listItemGroup:e.query({query:function(e){var t=e.page,n=e.size;return{url:(0,v.DS)(dt,"?page=".concat(t||1,"&page_size=").concat(n||v.IV))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:v.pJ.INVENTORY_ITEMTYPE,id:t}}))),[{type:v.pJ.INVENTORY_ITEMTYPE,id:"LIST"}]):[{type:v.pJ.INVENTORY_ITEMTYPE,id:"LIST"}]}}),addItemGroup:e.mutation({query:function(e){return{url:dt,method:"POST",body:e}},invalidatesTags:[{type:v.pJ.INVENTORY_ITEMTYPE,id:"LIST"}]}),getItemGroup:e.query({query:function(e){return"".concat(dt).concat(e)},providesTags:function(e,t,n){return[{type:v.pJ.INVENTORY_ITEMTYPE,id:n}]}}),updateItemGroup:e.mutation({query:function(e){var t=e;return{url:"".concat(dt),method:"POST",body:t}},invalidatesTags:function(e){return[{type:v.pJ.INVENTORY_ITEMTYPE,id:null===e||void 0===e?void 0:e.data.id}]}}),deleteItemGroup:e.mutation({query:function(e){return{url:"".concat(dt).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:v.pJ.INVENTORY_ITEMTYPE,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),mt=pt.useAddItemGroupMutation,ft=pt.useDeleteItemGroupMutation,yt=pt.useGetItemGroupQuery,vt=pt.useListItemGroupQuery,gt=pt.useUpdateItemGroupMutation,Et=(pt.useGetErrorProneQuery,"itemgroup"),ht="Item Group",Tt=n(6666),bt=(0,r.forwardRef)((function(e,t){var n=e.data,i=e.isLoading,o=e.disableTable,c=void 0!==o&&o,u=e.onChange,l=void 0===u?function(){}:u,d=(0,r.useState)([]),f=(0,s.Z)(d,2),y=f[0],g=f[1],E=(0,r.useRef)(y),h=(0,r.useRef)([]),T=(0,v.Zp)({}),b=T.data;T.isLoading;(0,r.useImperativeHandle)(t,(function(){return{getItems:function(){return y}}})),(0,r.useEffect)((function(){g(n),E.current=n}),[n]),(0,r.useEffect)((function(){h.current=(null===b||void 0===b?void 0:b.results)||[]}),[b]);return r.createElement(a.PS,{baseRoute:"/purchase/".concat(Et),description:ht,isLoading:i,data:y,newTable:!0,tableLayoutClass:"h-full",allowFilters:!1,hideActionColumn:c,actionBodyTemplate:function(e){return r.createElement(m.z,{style:{height:"35px",width:"20px",marginLeft:20},type:"button",onClick:function(){(0,J.V)({message:"Are you sure you want to Delete Item?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){return function(e){var t=E.current.filter((function(t){return t!==e}));E.current=t,g(t)}(e)},reject:function(){}})},className:"p-button-rounded p-button-text",icon:"pi pi-trash"})},gridProps:{allowAdd:!c,OnRowsChanged:function(e){var t=e.map((function(e){var t;return Object.assign(Object.assign({},e),{item_descr:null===(t=h.current.filter((function(t){return t.key===e.item_key}))[0])||void 0===t?void 0:t.descr})}));console.log(t),g(t),E.current=t,l(!0)}}},r.createElement(a._P,{field:"item_key",header:"Item*",displayValueGetter:function(e,t){var n,r;if(!Array.isArray(e)){var i=null===(n=h.current)||void 0===n?void 0:n.filter((function(n){return n.key===e[t]}));return i.length?i[0].descr:null===(r=null===e||void 0===e?void 0:e.items)||void 0===r?void 0:r.descr}},editorType:!c&&function(e){var t=e.row,n=e.column,i=e.onRowChange,a=e.onClose;return r.createElement(p.L,{autoFocus:!0,style:{width:"100%"},className:"p-inputtext-sm",value:t[n.key],optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:h.current,onChange:function(e){i(Object.assign(Object.assign({},t),(0,Tt.Z)({},n.key,e.value)),!0),a(!0)},tabIndex:-1})}}),r.createElement(a._P,{field:"item_descr",header:"Description",type:"text"}),r.createElement(a._P,{field:"mixratioval",header:"Mix Ratio",type:"number",editorType:!c&&"number"}))})),St=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function c(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}u((r=r.apply(e,t||[])).next())}))},It=function(e){var t=(0,a.pm)(),n=t.showSuccess,c=t.showError,u=(0,r.useState)(!1),m=(0,s.Z)(u,2),f=m[0],y=m[1],g=(0,i.s0)(),E=(0,i.UO)().id,h=parseInt(E||""),T=isNaN(h)||h<=0,b=(0,r.useRef)(),S=(0,r.useState)(!1),I=(0,s.Z)(S,2),O=I[0],P=I[1],w=(0,v.ft)(),L=yt(h,{skip:T}),N=L.data,x=L.isLoading,_=L.refetch,M=ke({}),k=M.data,U=M.isFetching,R=mt(),q=(0,s.Z)(R,2),Z=q[0],W=q[1].isLoading,A=gt(),V=(0,s.Z)(A,2),j=V[0],Y=V[1].isLoading;return r.createElement(r.Fragment,null,r.createElement(a.Rm,{baseRoute:"/".concat(o,"/").concat(Et),description:ht,id:h,data:N,isUpdating:W||Y||f,isItemsTableChanged:O,isLoading:x,onSubmit:function(e){return St(void 0,void 0,void 0,(0,l.Z)().mark((function t(){var r,i,a,u,s;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,u=null===(r=b.current)||void 0===r?void 0:r.getItems(),s=Object.assign(Object.assign(Object.assign({},e),{item_group_details:u}),w),!T){t.next=9;break}return t.next=6,Z(s).unwrap();case 6:a=t.sent,t.next=12;break;case 9:return t.next=11,j(s).unwrap();case 11:a=t.sent;case 12:_(),n("Success",a.detail),y(!0),setTimeout((function(){g("/".concat(o,"/").concat(Et))}),v.P7),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),c("An error occurred",(null===(i=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===i?void 0:i.detail)||"We couldn't save your post, try again!");case 21:case"end":return t.stop()}}),t,null,[[0,18]])})))},renderForm:function(e,t,n){var i;return r.createElement("div",{className:"pl-8 pt-4 pb-3 grid p-fluid h-full"},r.createElement(a.Wi,{label:"Item Group Description",name:"descr",className:"col-12 full",control:e,errors:n,required:"Enter Item Group",leftSpan:3,rightSpan:5,formItem:{component:d.o,componentProps:{maxLength:100}}}),r.createElement(a.Wi,{label:"UOM",name:"itemuom_key",className:"col-12 full",control:e,errors:n,isLoading:U,required:"Select a UOM",leftSpan:3,rightSpan:3,formItem:{component:p.L,componentProps:{showClear:!0,optionLabel:"descr",optionValue:"key",options:null===k||void 0===k?void 0:k.results}}}),r.createElement(a.Wi,{label:"Group Type",name:"grouptype",className:"col-12 full",control:e,errors:n,required:"Select a Group Type",leftSpan:3,rightSpan:3,formItem:{component:p.L,componentProps:{showClear:!0,optionLabel:"descr",optionValue:"key",options:[{key:"L",descr:"Linear"},{key:"S",descr:"Simple"}]}}}),r.createElement(a.Wi,{label:"Mix Ratio",name:"mixtype",className:"col-12 full",control:e,errors:n,required:"Select a Ratio",leftSpan:3,rightSpan:3,formItem:{component:p.L,componentProps:{showClear:!0,optionLabel:"descr",optionValue:"key",options:[{key:"F",descr:"Fixed"},{key:"V",descr:"Variable"}]}}}),r.createElement(a.Wi,{label:"Scope",name:"scope",className:"col-12 full",control:e,errors:n,required:"Select a Scope",leftSpan:3,rightSpan:3,formItem:{component:p.L,componentProps:{showClear:!0,optionLabel:"descr",optionValue:"key",options:[{key:"P",descr:"Project"},{key:"U",descr:"Universal"}]}}}),r.createElement("div",{className:"col-12 full ",style:{height:"calc(100% - 183px)",minHeight:200}},r.createElement(bt,{data:(null===N||void 0===N?void 0:N.item_group_details)||(null===(i=b.current)||void 0===i?void 0:i.getItems())||[],isLoading:x,ref:b,onChange:function(e){return!O&&P(e)}})))}}))},Ot=function(e){var t=(0,r.useState)(1),n=(0,s.Z)(t,2),i=n[0],c=n[1],u=(0,r.useState)(v.IV),l=(0,s.Z)(u,2),d=l[0],p=l[1],m=vt({page:i,size:d}),f=m.data,y=m.isFetching,g=ft(),E=(0,s.Z)(g,2),h=E[0],T=E[1].isLoading;return r.createElement(a.PS,{pagination:{pageSize:d,loading:y,currentPage:i,total:null===f||void 0===f?void 0:f.count,onChange:function(e,t){c(e),p(t)}},baseRoute:"/".concat(o,"/").concat(Et),description:ht,isLoading:y||T,data:null===f||void 0===f?void 0:f.results,deleteAction:function(e){return h(e).unwrap()},newTable:!0,showHeader:!0},r.createElement(a._P,{field:"id",header:"Item Group",filteringType:"text"}),r.createElement(a._P,{field:"descr",header:"Description",filteringType:"text"}),r.createElement(a._P,{field:"item_uoms.descr",header:"UOM",filteringType:"text"}),r.createElement(a._P,{field:"grouptype",header:"Group Type",filteringType:"text",displayValueGetter:function(e){switch(e.grouptype){case"L":return"Linear";case"S":return"Simple";default:return"NA"}}}),r.createElement(a._P,{field:"mixtype",header:"Mix Type",filteringType:"text",displayValueGetter:function(e){switch(e.mixtype){case"F":return"Fixed";case"V":return"Variable";default:return"NA"}}}),r.createElement(a._P,{field:"scope",header:"Scope",filteringType:"text",displayValueGetter:function(e){switch(e.scope){case"P":return"Project";case"U":return"Universal";default:return"NA"}}}))},Pt=r.createElement(i.AW,{path:"itemgroup"},r.createElement(i.AW,{path:"new",element:r.createElement(It,null)}),r.createElement(i.AW,{path:":id/edit",element:r.createElement(It,null)}),r.createElement(i.AW,{index:!0,element:r.createElement(Ot,null)})),wt=n(402),Lt=function(){return r.createElement(i.Z5,null,r.createElement(i.AW,{path:"/",element:r.createElement(a.SV,{navItems:u})},r.createElement(i.AW,{index:!0,element:r.createElement(i.Fg,{to:"items",replace:!0})}),B,de,Pe,Ae,Ge,He,st,Pt,(0,wt.Z)(o),r.createElement(i.AW,{path:":page/comming-soon",element:r.createElement(a.hg,null)}),r.createElement(i.AW,{path:"*",element:r.createElement(a.EN,{relative:!0})})))}}}]);
//# sourceMappingURL=593.a34a29a7.chunk.js.map