"use strict";(self.webpackChunkbuild_iq_app=self.webpackChunkbuild_iq_app||[]).push([[429],{3429:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});var r=n(969),a=n(3026),l=n(8713),i=n(8173),o=function(e,t){return(0,l.E7)("/".concat(i.o,"/").concat(e)+(t?"/comming-soon":""))},c=[{label:"Inquiry",items:[{label:"Project Inquiry",icon:"pi ml-3",template:o("project")},{label:"Item Inquiry",icon:"pi ml-3",template:o("item",!0)},{label:"Item Price Inquiry",icon:"pi ml-3",template:o("item-price",!0)},{label:"Vendor Enquiry",icon:"pi ml-3",template:o("vendor",!0)},{label:"Customer Enquiry",icon:"pi ml-3",template:o("customer",!0)}]}],s=n(3668),u=n(6234),d=n(5344),m=n(7765),p=n(4756),f=n(8252),v=n(8079),y=n(6076),b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},h="/project/block/",E=y.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listProjectInquiry:e.query({query:function(e){var t=e.page,n=e.size,r=e.projectId;return{url:(0,y.DS)(h,"?page=".concat(t||1,"&page_size=").concat(n||y.IV,"&project=").concat(r||""))}},providesTags:function(e){var t;return e?[].concat((0,v.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:y.pJ.PROJECT_PURCHASE_INQUIRY,id:t}}))),[{type:y.pJ.PROJECT_PURCHASE_INQUIRY,id:"LIST"}]):[{type:y.pJ.PROJECT_PURCHASE_INQUIRY,id:"LIST"}]}}),addProjectInquiry:e.mutation({query:function(e){return{url:h,method:"POST",body:e}},invalidatesTags:[{type:y.pJ.PROJECT_PURCHASE_INQUIRY,id:"LIST"}]}),getProjectInquiry:e.query({query:function(e){return"".concat(h).concat(e)},providesTags:function(e,t,n){return[{type:y.pJ.PROJECT_PURCHASE_INQUIRY,id:n}]}}),updateProjectInquiry:e.mutation({query:function(e){var t=e.key,n=b(e,["key"]);return{url:"".concat(h).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:y.pJ.PROJECT_PURCHASE_INQUIRY,id:null===e||void 0===e?void 0:e.id}]}}),deleteProjectInquiry:e.mutation({query:function(e){return{url:"".concat(h).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:y.pJ.PROJECT_PURCHASE_INQUIRY,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}}),listProject:e.query({query:function(e){var t=e.page,n=e.size;return{url:(0,y.DS)("/project/project/","?page=".concat(t||1,"&page_size=").concat(n||y.IV))}},providesTags:function(e){var t;return e?[].concat((0,v.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:y.pJ.PROJECT,id:t}}))),[{type:y.pJ.PROJECT,id:"LIST"}]):[{type:y.pJ.PROJECT,id:"LIST"}]}})}}}),g=E.useAddProjectInquiryMutation,N=(E.useDeleteProjectInquiryMutation,E.useGetProjectInquiryQuery),P=E.useListProjectInquiryQuery,I=E.useUpdateProjectInquiryMutation,O=(E.useGetErrorProneQuery,E.useListProjectQuery),w=(E.endpoints.getProjectInquiry,"project"),C="Project Inquiry",S=function(e,t,n,r){return new(n||(n=Promise))((function(a,l){function i(e){try{c(r.next(e))}catch(t){l(t)}}function o(e){try{c(r.throw(e))}catch(t){l(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}c((r=r.apply(e,t||[])).next())}))},j={client_id:"1001",company:"TEST"},T=function(e){var t=(0,r.useRef)(null),n=(0,r.useState)(!1),o=(0,u.Z)(n,2),c=o[0],v=o[1],y=(0,a.s0)(),b=(0,a.UO)().id,h=parseInt(b||""),E=isNaN(h)||h<=0,P=N(h,{skip:E}),O=P.data,T=P.isLoading,_=g(),A=(0,u.Z)(_,2),x=A[0],q=A[1].isLoading,R=I(),k=(0,u.Z)(R,2),D=k[0],W=k[1].isLoading,U=function(e,n){var r;null===(r=null===t||void 0===t?void 0:t.current)||void 0===r||r.show({severity:"success",summary:e,detail:n,life:3e3})},L=function(e,n){var r;null===(r=null===t||void 0===t?void 0:t.current)||void 0===r||r.show({severity:"error",summary:e,detail:n,life:3e3})};return r.createElement(r.Fragment,null,r.createElement(f.F,{ref:t}),r.createElement(l.Rm,{baseRoute:"/".concat(i.o,"/").concat(w),description:C,id:h,data:O,isUpdating:q||W||c,isLoading:T,onSubmit:function(e){return S(void 0,void 0,void 0,(0,s.Z)().mark((function t(){var n;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!E){t.next=7;break}return t.next=4,x(Object.assign(Object.assign({},e),j)).unwrap();case 4:n=t.sent,t.next=10;break;case 7:return t.next=9,D(Object.assign(Object.assign({},e),j)).unwrap();case 9:n=t.sent;case 10:U("Success",n.detail),v(!0),setTimeout((function(){y("/".concat(i.o,"/").concat(w))}),3e3),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),L("An error occurred","We couldn't save your post, try again!");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))},renderForm:function(e,t,n){var a,i;return r.createElement("div",{className:"pl-8"},r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"id",className:(0,p.AK)("col-2",{"p-error":n.id})},"Group ID*"),r.createElement(d.Qr,{name:"id",control:e,rules:{required:"Item ID is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(m.o,Object.assign({id:t.name},t,{className:(0,p.AK)({"p-invalid":n.invalid})}))}}),(0,l.Hb)(null===(a=null===n||void 0===n?void 0:n.id)||void 0===a?void 0:a.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"descr",className:(0,p.AK)("col-2",{"p-error":n.descr})},"Group Description*"),r.createElement(d.Qr,{name:"descr",control:e,rules:{required:"Item Description is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(m.o,Object.assign({style:{width:"40%"},id:t.name},t,{className:(0,p.AK)({"p-invalid":n.invalid})}))}}),(0,l.Hb)(null===(i=null===n||void 0===n?void 0:n.descr)||void 0===i?void 0:i.message)))}}))},_=n(4401),A=n(6770),x=n(8356),q=n(8224),R=n(7624),k=n(8904),D=n(3924);function W(){return W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t){if(e){if("string"===typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}function K(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||J(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,l=[],i=!0,o=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(c){o=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(o)throw a}}return l}}(e,t)||J(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=function(){},Y=r.forwardRef((function(e,t){var n=G(r.useState(e.id),2),a=n[0],l=n[1],i=G(r.useState(!0),2),o=i[0],c=i[1],s=G(r.useState(!1),2),u=s[0],d=s[1],m=G(r.useState([]),2),f=m[0],v=m[1],y=G(r.useState(e.activeIndex),2),b=y[0],h=y[1],E=r.useRef(null),g=r.useRef(null),N=r.useRef(null),P=r.useRef(null),I=r.useRef(null),O=r.useRef({}),w=e.onTabChange?e.activeIndex:b,C=function(e){return e===w},S=function(e,t){return e&&"TabPanel"===e.props.__TYPE&&f.every((function(e){return e!==t}))},j=function(t,n,r){n.props.disabled||(e.onTabChange?e.onTabChange({originalEvent:t,index:r}):h(r)),_(r),t&&t.preventDefault()},T=function(e,t,n){"Enter"===e.code&&j(e,t,n)},_=function(e){var t=O.current["tab_".concat(e)];t&&t.scrollIntoView&&t.scrollIntoView({block:"nearest"})},A=function(t){e.scrollable&&function(){var e=E.current,t=e.scrollLeft,n=e.scrollWidth,r=p.p7.getWidth(E.current);c(0===t),d(t===n-r)}(),t.preventDefault()},x=function(){return[P.current,I.current].reduce((function(e,t){return t?e+p.p7.getWidth(t):e}),0)},q=function(){var e=p.p7.getWidth(E.current)-x(),t=E.current.scrollLeft-e;E.current.scrollLeft=t<=0?0:t},R=function(){var e=p.p7.getWidth(E.current)-x(),t=E.current.scrollLeft+e,n=E.current.scrollWidth-e;E.current.scrollLeft=t>=n?n:t},U=function(){c(!0),d(!1),v([]),e.onTabChange?e.onTabChange({index:w}):h(e.activeIndex)};r.useEffect((function(){!function(){var e=O.current["tab_".concat(w)];N.current.style.width=p.p7.getWidth(e)+"px",N.current.style.left=p.p7.getOffset(e).left-p.p7.getOffset(g.current).left+"px"}()})),(0,k.nw)((function(){a||l((0,p.Th)())})),(0,k.rf)((function(){if(p.gb.isNotEmpty(f)){var t=function(t){var n=r.Children.map(e.children,(function(e,t){if(S(e,t))return{tab:e,index:t}}));return n.find((function(e){var n=e.tab,r=e.index;return!n.props.disabled&&r>=t}))||n.reverse().find((function(e){var n=e.tab,r=e.index;return!n.props.disabled&&t>r}))}(f[f.length-1]);t&&j(null,t.tab,t.index)}}),[f]),(0,k.rf)((function(){_(e.activeIndex)}),[e.activeIndex]),r.useImperativeHandle(t,(function(){return{reset:U}}));var L=function(t,n){var l=C(n),i=t.props,o=i.headerStyle,c=i.headerClassName,s=i.style,u=i.className,d=i.disabled,m=i.leftIcon,y=i.rightIcon,b=i.header,h=i.headerTemplate,E=i.closable,g=Q(Q({},o||{}),s||{}),N=(0,p.AK)("p-unselectable-text",{"p-tabview-selected p-highlight":l,"p-disabled":d},c,u),P=a+"_header_"+n,I=a+"_content_"+n,w=d?null:0,S=m&&r.createElement("i",{className:m}),_=r.createElement("span",{className:"p-tabview-title"},b),A=y&&r.createElement("i",{className:y}),x=E&&r.createElement("i",{className:"p-tabview-close pi pi-times",onClick:function(t){return function(t,n){v([].concat(K(f),[n])),e.onTabClose&&e.onTabClose({originalEvent:t,index:n}),t.preventDefault()}(t,n)}}),q=r.createElement("a",{role:"tab",className:"p-tabview-nav-link",onClick:function(e){return j(e,t,n)},id:P,onKeyDown:function(e){return T(e,t,n)},"aria-controls":I,"aria-selected":l,tabIndex:w},S,_,A,x,r.createElement(D.H,null));if(h){var R={className:"p-tabview-nav-link",titleClassName:"p-tabview-title",onClick:function(e){return j(e,t,n)},onKeyDown:function(e){return T(e,t,n)},leftIconElement:S,titleElement:_,rightIconElement:A,element:q,props:e,index:n,selected:l,ariaControls:I};q=p.gb.getJSXElement(h,R)}return r.createElement("li",{ref:function(e){return O.current["tab_".concat(n)]=e},className:N,style:g,role:"presentation"},q)},J=p.gb.findDiffKeys(e,Y.defaultProps),H=(0,p.AK)("p-tabview p-component",{"p-tabview-scrollable":e.scrollable},e.className),Z=function(){var t=r.Children.map(e.children,(function(e,t){if(S(e,t))return L(e,t)}));return r.createElement("div",{ref:E,id:a,className:"p-tabview-nav-content",style:e.style,onScroll:A},r.createElement("ul",{ref:g,className:"p-tabview-nav",role:"tablist"},t,r.createElement("li",{ref:N,className:"p-tabview-ink-bar"})))}(),F=function(){var t=(0,p.AK)("p-tabview-panels",e.panelContainerClassName),n=r.Children.map(e.children,(function(t,n){if(S(t,n)&&(!e.renderActiveOnly||C(n))){var l=C(n),i=Q(Q({},t.props.contentStyle||{}),t.props.style||{}),o=(0,p.AK)(t.props.contentClassName,t.props.className,"p-tabview-panel",{"p-hidden":!l}),c=a+"_content_"+n,s=a+"_header_"+n,u=p.gb.findDiffKeys(t.props,V.defaultProps);return r.createElement("div",W({},u,{id:c,"aria-labelledby":s,"aria-hidden":!l,className:o,style:i,role:"tabpanel"}),e.renderActiveOnly?l&&t.props.children:t.props.children)}}));return r.createElement("div",{className:t,style:e.panelContainerStyle},n)}(),z=e.scrollable&&!o?r.createElement("button",{ref:P,className:"p-tabview-nav-prev p-tabview-nav-btn p-link",onClick:q,type:"button"},r.createElement("span",{className:"pi pi-chevron-left"}),r.createElement(D.H,null)):null,M=function(){if(e.scrollable&&!u)return r.createElement("button",{ref:I,className:"p-tabview-nav-next p-tabview-nav-btn p-link",onClick:R,type:"button"},r.createElement("span",{className:"pi pi-chevron-right"}),r.createElement(D.H,null))}();return r.createElement("div",W({className:H},J),r.createElement("div",{className:"p-tabview-nav-container"},z,Z,M),F)}));V.displayName="TabPanel",V.defaultProps={__TYPE:"TabPanel",header:null,headerTemplate:null,leftIcon:null,rightIcon:null,closable:!1,disabled:!1,style:null,className:null,headerStyle:null,headerClassName:null,contentStyle:null,contentClassName:null},Y.displayName="TabView",Y.defaultProps={__TYPE:"TabView",id:null,activeIndex:0,style:null,className:null,renderActiveOnly:!0,onTabChange:null,onTabClose:null,scrollable:!1,panelContainerStyle:null,panelContainerClassName:null};var Z=n(4716),F=function(e){var t=O({}),n=t.data,a=(t.isLoading,(0,r.useState)("")),i=(0,u.Z)(a,2),o=i[0],c=i[1],s=(0,r.useState)(""),d=(0,u.Z)(s,2),f=d[0],v=d[1],y=P({projectId:f},{skip:!f}),b=y.data,h=y.isLoading;return r.createElement(r.Fragment,null,r.createElement("div",{className:"flex"},r.createElement("h3",{className:(0,p.AK)("m-0 my-auto")},C),r.createElement(Z.rU,{to:"/projects",style:{textDecoration:"none",marginLeft:"auto"}},r.createElement(A.z,{label:"Back",className:"ml-3"}))),r.createElement(x.i,null),r.createElement("div",{className:"pl-5"},r.createElement("div",{className:"field"},r.createElement("label",{className:(0,p.AK)("col-2")},"Project ID"),r.createElement(q.L,{style:{width:"30%"},optionLabel:"id",optionValue:"key",value:f,onChange:function(e){var t=null===n||void 0===n?void 0:n.results.filter((function(t){return t.key===e.value}))[0].name;c(t),v(e.value)},options:null===n||void 0===n?void 0:n.results})),r.createElement("div",{className:"field"},r.createElement("label",{className:(0,p.AK)("col-2")},"Project Name"),r.createElement(m.o,{style:{width:"50%"},value:o,disabled:!0}))),r.createElement(x.i,null),r.createElement(Y,{className:"custom-tabview"},r.createElement(V,{header:"Purchases"},r.createElement(l.Gn,{loading:h,emptyMessage:r.createElement("h3",{className:"text-center"},f?"No Purchase Inquiry For Selected Project":"Select a Project To View"),style:{height:"calc(100vh - 450px)",maxHeight:250,overflowX:"auto",border:"2px solid",padding:10,margin:10},value:null===b||void 0===b?void 0:b.results},r.createElement(_.s,{headerStyle:R.OG,bodyClassName:"grn_no",field:"descr",header:"GRN No",sortable:!0,filter:!0,dataType:"numeric",style:{minWidth:"8rem"}}),r.createElement(_.s,{headerStyle:R.OG,bodyClassName:"grn_date",field:"descr",header:"GRN Date",sortable:!0,filter:!0,dataType:"numeric",style:{minWidth:"8rem"}}),r.createElement(_.s,{headerStyle:R.OG,bodyClassName:"vendor",field:"descr",header:"Vendor",sortable:!0,filter:!0,style:{minWidth:"12rem"}}),r.createElement(_.s,{headerStyle:R.OG,bodyClassName:"uom",field:"descr",header:"UOM",sortable:!0,filter:!0,style:{minWidth:"8rem"}}),r.createElement(_.s,{headerStyle:R.OG,bodyClassName:"quantity",field:"descr",header:"Quantity",sortable:!0,filter:!0,style:{minWidth:"8rem"}}),r.createElement(_.s,{headerStyle:R.OG,bodyClassName:"unit_price",field:"descr",header:"Unit Price",sortable:!0,filter:!0,style:{minWidth:"8rem"}}),r.createElement(_.s,{headerStyle:R.OG,bodyClassName:"net_amount",field:"descr",header:"Net Amount",sortable:!0,filter:!0,style:{minWidth:"8rem"}}),r.createElement(_.s,{headerStyle:R.OG,bodyClassName:"tax_amount",field:"descr",header:"Tax Amount",sortable:!0,filter:!0,style:{minWidth:"8rem"}}),r.createElement(_.s,{headerStyle:R.OG,bodyClassName:"total_amount",field:"descr",header:"Total Amount",sortable:!0,filter:!0,style:{minWidth:"8rem"}}))),r.createElement(V,{header:"Progress"},r.createElement("p",null,"Under Development")),r.createElement(V,{header:"Availability"},r.createElement("p",null,"Under Development"))))},z=r.createElement(a.AW,{path:w},r.createElement(a.AW,{path:"new",element:r.createElement(T,null)}),r.createElement(a.AW,{path:":id/edit",element:r.createElement(T,null)}),r.createElement(a.AW,{index:!0,element:r.createElement(F,null)})),M=function(){return r.createElement(a.Z5,null,r.createElement(a.AW,{path:"/",element:r.createElement(l.SV,{navItems:c})},r.createElement(a.AW,{index:!0,element:r.createElement(a.Fg,{to:w,replace:!0})}),z,r.createElement(a.AW,{path:":page/comming-soon",element:r.createElement(l.hg,null)}),r.createElement(a.AW,{path:"*",element:r.createElement(l.EN,{relative:!0})})))}},8356:function(e,t,n){n.d(t,{i:function(){return i}});var r=n(969),a=n(4756);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}var i=r.forwardRef((function(e,t){var n="horizontal"===e.layout,o="vertical"===e.layout,c=a.gb.findDiffKeys(e,i.defaultProps),s=(0,a.AK)("p-divider p-component p-divider-".concat(e.layout," p-divider-").concat(e.type),{"p-divider-left":n&&(!e.align||"left"===e.align),"p-divider-right":n&&"right"===e.align,"p-divider-center":n&&"center"===e.align||o&&(!e.align||"center"===e.align),"p-divider-top":o&&"top"===e.align,"p-divider-bottom":o&&"bottom"===e.align},e.className);return r.createElement("div",l({className:s,style:e.style,role:"separator"},c),r.createElement("div",{className:"p-divider-content"},e.children))}));i.displayName="Divider",i.defaultProps={__TYPE:"Divider",align:null,layout:"horizontal",type:"solid",style:null,className:null}}}]);
//# sourceMappingURL=429.feb66893.chunk.js.map