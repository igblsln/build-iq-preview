"use strict";(self.webpackChunkbuild_iq_app=self.webpackChunkbuild_iq_app||[]).push([[47],{7047:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var r=n(969),a=n(3026),i=n(2583),l="inventory",o=function(e,t){return(0,i.E7)("/".concat(l,"/").concat(e)+(t?"/comming-soon":""))},c=[{label:"Transctions",items:[{label:"Material Purchase",icon:"pi ml-3",template:o("materialpurchase",!0)},{label:"Miscellaneous Purchase",icon:"pi ml-3",template:o("miscpurchase",!0)},{label:"Material Transfer",icon:"pi ml-3",template:o("materialtarnsfer",!0)},{label:"Material Over/Short",icon:"pi ml-3",template:o("materialos",!0)},{label:"Beginning Balance",icon:"pi ml-3",template:o("beginningbal",!0)}]},{label:"Configuration",items:[{label:"Items",icon:"pi ml-3",template:o("items")},{label:"Unit on Measure",icon:"pi ml-3",template:o("unitmeasure",!0)},{label:"Item Type",icon:"pi ml-3",template:o("itemtype",!0)},{label:"Manufacturer",icon:"pi ml-3",template:o("manufacturer",!0)},{label:"Warehouse",icon:"pi ml-3",template:o("warehouse",!0)}]}],s=n(3668),u=n(2867),d=n(4225),m=n(7765),p=n(4756),v=n(8252),f=n(8777),y=n(6076),E=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},b="/vendor/group/",g=y.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listItems:e.query({query:function(e){var t=e.page,n=e.size;return{url:(0,y.DS)(b,"?page=".concat(t||1,"&page_size=").concat(n||y.IV))}},providesTags:function(e){var t;return e?[].concat((0,f.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:y.pJ.VENDOR_GROUP,id:t}}))),[{type:y.pJ.VENDOR_GROUP,id:"LIST"}]):[{type:y.pJ.VENDOR_GROUP,id:"LIST"}]}}),addItems:e.mutation({query:function(e){return{url:b,method:"POST",body:e}},invalidatesTags:[{type:y.pJ.VENDOR_GROUP,id:"LIST"}]}),getItems:e.query({query:function(e){return"".concat(b).concat(e)},providesTags:function(e,t,n){return[{type:y.pJ.VENDOR_GROUP,id:n}]}}),updateItems:e.mutation({query:function(e){var t=e.key,n=E(e,["key"]);return{url:"".concat(b).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:y.pJ.VENDOR_GROUP,id:null===e||void 0===e?void 0:e.id}]}}),deleteItems:e.mutation({query:function(e){return{url:"".concat(b).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:y.pJ.VENDOR_GROUP,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),h=g.useAddItemsMutation,O=g.useDeleteItemsMutation,I=g.useGetItemsQuery,R=g.useListItemsQuery,S=g.useUpdateItemsMutation,T=(g.useGetErrorProneQuery,g.endpoints.getItems,"items"),w="Items",P=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function l(e){try{c(r.next(e))}catch(t){i(t)}}function o(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}c((r=r.apply(e,t||[])).next())}))},N={client_id:"1001",company:"TEST"},D=function(e){var t=(0,r.useRef)(null),n=(0,r.useState)(!1),o=(0,u.Z)(n,2),c=o[0],f=o[1],y=(0,a.s0)(),E=(0,a.UO)().id,b=parseInt(E||""),g=isNaN(b)||b<=0,O=I(b,{skip:g}),R=O.data,D=O.isLoading,q=h(),A=(0,u.Z)(q,2),x=A[0],W=A[1].isLoading,_=S(),k=(0,u.Z)(_,2),L=k[0],U=k[1].isLoading,j=function(e,n){var r;null===(r=null===t||void 0===t?void 0:t.current)||void 0===r||r.show({severity:"success",summary:e,detail:n,life:3e3})},G=function(e,n){var r;null===(r=null===t||void 0===t?void 0:t.current)||void 0===r||r.show({severity:"error",summary:e,detail:n,life:3e3})};return r.createElement(r.Fragment,null,r.createElement(v.F,{ref:t}),r.createElement(i.Rm,{baseRoute:"/".concat(l,"/").concat(T),description:w,id:b,data:R,isUpdating:W||U||c,isLoading:D,onSubmit:function(e){return P(void 0,void 0,void 0,(0,s.Z)().mark((function t(){var n;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!g){t.next=7;break}return t.next=4,x(Object.assign(Object.assign({},e),N)).unwrap();case 4:n=t.sent,t.next=10;break;case 7:return t.next=9,L(Object.assign(Object.assign({},e),N)).unwrap();case 9:n=t.sent;case 10:j("Success",n.detail),f(!0),setTimeout((function(){y("/".concat(l,"/").concat(T))}),3e3),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),G("An error occurred","We couldn't save your post, try again!");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))},renderForm:function(e,t,n){var a,l;return r.createElement("div",{className:"pl-8"},r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"id",className:(0,p.AK)("col-2",{"p-error":n.id})},"Group ID*"),r.createElement(d.Qr,{name:"id",control:e,rules:{required:"Item ID is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(m.o,Object.assign({id:t.name},t,{className:(0,p.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(a=null===n||void 0===n?void 0:n.id)||void 0===a?void 0:a.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"descr",className:(0,p.AK)("col-2",{"p-error":n.descr})},"Group Description*"),r.createElement(d.Qr,{name:"descr",control:e,rules:{required:"Item Description is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(m.o,Object.assign({style:{width:"40%"},id:t.name},t,{className:(0,p.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(l=null===n||void 0===n?void 0:n.descr)||void 0===l?void 0:l.message)))}}))},q=n(4401),A=n(7624),x=function(e){var t=R({}),n=t.data,a=t.isLoading,o=O(),c=(0,u.Z)(o,2),s=c[0],d=c[1].isLoading;return r.createElement(i.PS,{baseRoute:"/".concat(l,"/").concat(T),description:w,isLoading:a||d,data:null===n||void 0===n?void 0:n.results,deleteAction:function(e){return s(e).unwrap()}},r.createElement(q.s,{headerStyle:A.iR,field:"id",header:"Item ID",sortable:!0,filter:!0,dataType:"numeric",style:{minWidth:"8rem"}}),r.createElement(q.s,{headerStyle:A.iR,field:"descr",header:"Item Description",sortable:!0,filter:!0,style:{minWidth:"12rem"}}),r.createElement(q.s,{headerStyle:A.iR,field:"type",header:"Stock Type",sortable:!0,filter:!0,style:{minWidth:"12rem"}}))},W=r.createElement(a.AW,{path:"items"},r.createElement(a.AW,{path:"new",element:r.createElement(D,null)}),r.createElement(a.AW,{path:":id/edit",element:r.createElement(D,null)}),r.createElement(a.AW,{index:!0,element:r.createElement(x,null)})),_=function(){return r.createElement(a.Z5,null,r.createElement(a.AW,{path:"/",element:r.createElement(i.SV,{navItems:c})},r.createElement(a.AW,{index:!0,element:r.createElement(a.Fg,{to:"items",replace:!0})}),W,r.createElement(a.AW,{path:":page/comming-soon",element:r.createElement(i.hg,null)}),r.createElement(a.AW,{path:"*",element:r.createElement(i.EN,{relative:!0})})))}}}]);
//# sourceMappingURL=47.5080a601.chunk.js.map