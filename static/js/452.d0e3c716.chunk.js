"use strict";(self.webpackChunkbuild_iq_app=self.webpackChunkbuild_iq_app||[]).push([[452],{7452:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var r=t(969),i=t(3026),a=t(2433),o=function(e){return function(n,t){return r.createElement(a.OL,{item:n,options:t,to:e})}},l=[{label:"Transctions",items:[{label:"Material Purchase",icon:"pi ml-3",template:o("/purchase/materialpurchase/comming-soon")},{label:"Miscellaneous Purchase",icon:"pi ml-3",template:o("/purchase/miscpurchase/comming-soon")},{label:"Invoice",icon:"pi ml-3",template:o("/purchase/invoice/comming-soon")},{label:"Payment",icon:"pi ml-3",template:o("/purchase/payment/comming-soon")},{label:"Payment Allocation",icon:"pi ml-3",template:o("/purchase/paymentalloc/comming-soon")}]},{label:"Configuration",items:[{label:"Vendors",icon:"pi ml-3",template:o("/purchase/vendors/comming-soon")},{label:"Vendor Group",icon:"pi ml-3",template:o("/purchase/vendorgroup/comming-soon")},{label:"Vendor Type",icon:"pi ml-3",template:o("/purchase/vendortype")},{label:"AP Terms",icon:"pi ml-3",template:o("/purchase/apterms/comming-soon")}]}],c=t(3668),u=t(2867),s=t(4225),d=t(7765),p=t(4756),m=t(8252),v=t(8777),y=t(6076),f=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t},E="/vendor/type/",h=y.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listVendorType:e.query({query:function(e){var n=e.page,t=e.size;return{url:(0,y.DS)(E,"?page=".concat(n||1,"&page_size=").concat(t||y.IV))}},providesTags:function(e){var n;return e?[].concat((0,v.Z)(null===(n=null===e||void 0===e?void 0:e.results)||void 0===n?void 0:n.map((function(e){var n=e.id;return{type:y.pJ.VENDOR_TYPE,id:n}}))),[{type:y.pJ.VENDOR_TYPE,id:"PARTIAL-LIST"}]):[{type:y.pJ.VENDOR_TYPE,id:"PARTIAL-LIST"}]}}),addVendorType:e.mutation({query:function(e){return{url:E,method:"POST",body:e}},invalidatesTags:[{type:y.pJ.VENDOR_TYPE,id:"LIST"}]}),getVendorType:e.query({query:function(e){return"".concat(E).concat(e)},providesTags:function(e,n,t){return[{type:y.pJ.VENDOR_TYPE,id:t}]}}),updateVendorType:e.mutation({query:function(e){var n=e.key,t=f(e,["key"]);return{url:"".concat(E).concat(n),method:"PUT",body:t}},invalidatesTags:function(e){return[{type:y.pJ.VENDOR_TYPE,id:null===e||void 0===e?void 0:e.id}]}}),deleteVendorType:e.mutation({query:function(e){return{url:"".concat(E).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:y.pJ.VENDOR_TYPE,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),g=h.useAddVendorTypeMutation,T=h.useDeleteVendorTypeMutation,b=h.useGetVendorTypeQuery,O=h.useListVendorTypeQuery,V=h.useUpdateVendorTypeMutation,P=(h.useGetErrorProneQuery,h.endpoints.getVendorType,function(e,n,t,r){return new(t||(t=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(n){a(n)}}function l(e){try{c(r.throw(e))}catch(n){a(n)}}function c(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,l)}c((r=r.apply(e,n||[])).next())}))}),A={client_id:"1001",company:"TEST"},N=function(e){var n=(0,r.useRef)(null),t=(0,r.useState)(!1),o=(0,u.Z)(t,2),l=o[0],v=o[1],y=(0,i.s0)(),f=(0,i.UO)().id,E=parseInt(f||""),h=isNaN(E)||E<=0,T=b(E,{skip:h}),O=T.data,N=T.isLoading,S=g(),w=(0,u.Z)(S,2),D=w[0],q=w[1].isLoading,L=V(),R=(0,u.Z)(L,2),x=R[0],I=R[1].isLoading,_=function(e,t){var r;null===(r=null===n||void 0===n?void 0:n.current)||void 0===r||r.show({severity:"success",summary:e,detail:t,life:3e3})},j=function(e,t){var r;null===(r=null===n||void 0===n?void 0:n.current)||void 0===r||r.show({severity:"error",summary:e,detail:t,life:3e3})};return r.createElement(r.Fragment,null,r.createElement(m.F,{ref:n}),r.createElement(a.Rm,{baseRoute:"/purchase/vendortype",description:"Vendor Type",id:E,data:O,isUpdating:q||I||l,isLoading:N,onSubmit:function(e){return P(void 0,void 0,void 0,(0,c.Z)().mark((function n(){var t;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!h){n.next=7;break}return n.next=4,D(Object.assign(Object.assign({},e),A)).unwrap();case 4:t=n.sent,n.next=10;break;case 7:return n.next=9,x(Object.assign(Object.assign({},e),A)).unwrap();case 9:t=n.sent;case 10:_("Success",t.detail),v(!0),setTimeout((function(){y("/purchase/vendortype")}),3e3),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(0),j("An error occurred","We couldn't save your post, try again!");case 18:case"end":return n.stop()}}),n,null,[[0,15]])})))},renderForm:function(e,n,t){var i,o;return r.createElement("div",{className:"pl-8"},r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"id",className:(0,p.AK)("col-2",{"p-error":t.id})},"Type ID*"),r.createElement(s.Qr,{name:"id",control:e,rules:{required:"Type ID is required."},render:function(e){var n=e.field,t=e.fieldState;return r.createElement(d.o,Object.assign({id:n.name},n,{autoFocus:!0,className:(0,p.AK)({"p-invalid":t.invalid})}))}}),(0,a.Hb)(null===(i=null===t||void 0===t?void 0:t.id)||void 0===i?void 0:i.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"descr",className:(0,p.AK)("col-2",{"p-error":t.descr})},"Type Description*"),r.createElement(s.Qr,{name:"descr",control:e,rules:{required:"Type Description is required."},render:function(e){var n=e.field,t=e.fieldState;return r.createElement(d.o,Object.assign({id:n.name},n,{autoFocus:!0,className:(0,p.AK)({"p-invalid":t.invalid})}))}}),(0,a.Hb)(null===(o=null===t||void 0===t?void 0:t.descr)||void 0===o?void 0:o.message)))}}))},S=t(4401),w=t(7624),D=function(e){var n=O({}),t=n.data,i=n.isLoading,o=T(),l=(0,u.Z)(o,2),c=l[0],s=l[1].isLoading;return r.createElement(a.PS,{baseRoute:"/purchase/vendortype",description:"Vendor Type",isLoading:i||s,data:null===t||void 0===t?void 0:t.results,deleteAction:function(e){return c(e).unwrap()}},r.createElement(S.s,{headerStyle:w.iR,field:"id",header:"Type ID",sortable:!0,filter:!0,dataType:"numeric",style:{minWidth:"8rem"}}),r.createElement(S.s,{headerStyle:w.iR,field:"descr",header:"Type Description",sortable:!0,filter:!0,style:{minWidth:"12rem"}}))},q=r.createElement(i.AW,{path:"vendortype"},r.createElement(i.AW,{path:"new",element:r.createElement(N,null)}),r.createElement(i.AW,{path:":id/edit",element:r.createElement(N,null)}),r.createElement(i.AW,{index:!0,element:r.createElement(D,null)})),L=function(){return r.createElement(i.Z5,null,r.createElement(i.AW,{path:"/",element:r.createElement(a.SV,{navItems:l})},r.createElement(i.AW,{index:!0,element:r.createElement(i.Fg,{to:"vendortype",replace:!0})}),q,r.createElement(i.AW,{path:":purchase/comming-soon",element:r.createElement(a.hg,null)}),r.createElement(i.AW,{path:"*",element:r.createElement(a.EN,{relative:!0})})))}}}]);
//# sourceMappingURL=452.d0e3c716.chunk.js.map