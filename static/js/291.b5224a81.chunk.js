"use strict";(self.webpackChunkbuild_iq_app=self.webpackChunkbuild_iq_app||[]).push([[291],{4291:function(e,t,l){l.r(t),l.d(t,{default:function(){return Xl}});var n=l(969),a=l(734),i=l(8645),r=l(4756),o=l(553),c=function(e,t){return(0,i.E7)("/".concat(o.o,"/").concat(e)+(t?"/comming-soon":""))};console.log(window.location.href);var s=[{label:"Structure",className:"biq-dropdown-panelmenu",items:[{label:"Accessories",icon:"pi ml-3",template:c("accesories",!0)},{label:"Basement",icon:"pi ml-3",template:c("basement",!0)},{label:"Brickwork",icon:"pi ml-3",template:c("brickwork",!0)},{label:"Column",icon:"pi ml-3",template:c("column",!0)},{label:"Plastering",icon:"pi ml-3",template:c("plastering",!0)},{label:"Roof",icon:"pi ml-3",template:c("roof",!0)},{label:"Staircase",icon:"pi ml-3",template:c("staricase",!0)},{label:"Tank Details",icon:"pi ml-3",template:c("tankdetails",!0)},{label:"Terrace",icon:"pi ml-3",template:c("terrace",!0)}]},{label:"Material Pack",icon:"pi ml-3",className:"biq-panelmenu",template:c("fractionalmaterial")},{label:"Rod Pack",icon:"pi ml-3",className:(0,r.AK)("biq-panelmenu"),template:c("fractionalrod"),altUrls:"/estimation/wholerod"},{label:"Components",className:"biq-dropdown-panelmenu",items:[{label:"Beam",icon:"pi ml-3",template:c("beam")},{label:"Column Body",icon:"pi ml-3",template:c("columnbody")},{label:"Column Footing",icon:"pi ml-3",template:c("columnfooting")},{label:"Cupboard",icon:"pi ml-3",template:c("cupboard")},{label:"Generic Tank",icon:"pi ml-3",template:c("generictank")},{label:"Kitchen Stage",icon:"pi ml-3",template:c("kitchenstage")},{label:"Lift Footing",icon:"pi ml-3",template:c("liftfooting")},{label:"Lintel Beam",icon:"pi ml-3",template:c("lintelbeam")},{label:"Pile",icon:"pi ml-3",template:c("pile")},{label:"Pile Cap",icon:"pi ml-3",template:c("pilecap")},{label:"Slab",icon:"pi ml-3",template:c("slab")},{label:"Staircase Slab",icon:"pi ml-3",template:c("staircaseslab")}]},{label:"Bill of Quantity",icon:"pi ml-3",className:"biq-panelmenu",template:c("billofquantity",!0)},{label:"Cost Estimation",icon:"pi ml-3",className:"biq-panelmenu",template:c("costestimation",!0)}],d=l(2723),u=l(6234),m=l(3953),p=l(8356),v=l(7765),f=l(6770),E=l(8224),y=l(8079),g=l(690),b="/estimation/fractional/material/",h=g.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listFractionalMaterial:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,g.DS)(b,"?page=".concat(t||1,"&page_size=").concat(l||g.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:g.pJ.FRACTIONAL_MATERIAL_PACK,key:t}}))),[{type:g.pJ.FRACTIONAL_MATERIAL_PACK,id:"LIST"}]):[{type:g.pJ.FRACTIONAL_MATERIAL_PACK,id:"LIST"}]}}),addFractionalMaterial:e.mutation({query:function(e){return{url:b,method:"POST",body:e}},invalidatesTags:[{type:g.pJ.FRACTIONAL_MATERIAL_PACK,id:"LIST"}]}),getFractionalMaterial:e.query({query:function(e){return"".concat(b).concat(e)},providesTags:function(e,t,l){return[{type:g.pJ.FRACTIONAL_MATERIAL_PACK,id:l}]}}),updateFractionalMaterial:e.mutation({query:function(e){var t=e;return{url:"".concat(b),method:"POST",body:t}},invalidatesTags:function(e){return[{type:g.pJ.FRACTIONAL_MATERIAL_PACK,id:null===e||void 0===e?void 0:e.key}]}}),deleteFractionalMaterial:e.mutation({query:function(e){return{url:"".concat(b).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:g.pJ.FRACTIONAL_MATERIAL_PACK,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),N=h.useAddFractionalMaterialMutation,k=h.useDeleteFractionalMaterialMutation,L=h.useGetFractionalMaterialQuery,w=h.useListFractionalMaterialQuery,S=h.useUpdateFractionalMaterialMutation,_=(h.useGetErrorProneQuery,l(4576)),j="fractionalmaterial",O="Fractional Material Pack",T=(0,n.forwardRef)((function(e,t){var l=e.data,a=e.isLoading,r=e.disableTable,o=void 0!==r&&r,c=e.selectedItemType,s=e.onChange,d=void 0===s?function(){}:s,m=(0,n.useState)([]),p=(0,u.Z)(m,2),v=p[0],y=p[1],b=(0,n.useRef)(v),h=(0,n.useRef)([]),N=(0,n.useRef)([]),k=(0,g.qu)(c,{skip:!c}),L=k.data,w=(k.isLoading,(0,g.U$)(c,{skip:!c})),S=w.data;w.isLoading;(0,n.useImperativeHandle)(t,(function(){return{getItems:function(){return v}}})),(0,n.useEffect)((function(){y(l),b.current=l}),[l]),(0,n.useEffect)((function(){h.current=(null===L||void 0===L?void 0:L.results)||[],N.current=S||[]}),[L,S]);return n.createElement(i.PS,{baseRoute:"/estimation/".concat(j),description:O,isLoading:a,data:v,newTable:!0,tableLayoutClass:"h-full",allowFilters:!1,hideActionColumn:o,actionBodyTemplate:function(e){return n.createElement(f.z,{style:{height:"35px",width:"20px",marginLeft:20},type:"button",onClick:function(){(0,_.V)({message:"Are you sure you want to Delete Item?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){return function(e){var t=b.current.filter((function(t){return t!==e}));b.current=t,y(t)}(e)},reject:function(){}})},className:"p-button-rounded p-button-text",icon:"pi pi-trash"})},gridProps:{allowAdd:!0,disableAdd:o||!(0,g.pH)(v),OnRowsChanged:function(e){var t=e;y(t),b.current=t,d(!0)}}},n.createElement(i._P,{field:"item_key",width:"35%",header:"Item Description*",displayValueGetter:function(e,t){var l,n;if(!Array.isArray(e)){var a=null===(l=h.current)||void 0===l?void 0:l.filter((function(l){return l.key===e[t]}));return a.length?a[0].descr:null===(n=null===e||void 0===e?void 0:e.items)||void 0===n?void 0:n.descr}},editorType:!o&&function(e){var t=e.row,l=e.column,a=e.onRowChange;e.onClose;return n.createElement(E.L,{autoFocus:!0,style:{width:"100%"},className:"p-inputtext-sm",value:t[l.key],optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:h.current,onChange:function(e){var n,i=Object.assign({},t);i[l.key]=e.value;var r=null===(n=h.current.filter((function(t){return t.key===e.value}))[0])||void 0===n?void 0:n.itemuom_key;i.itemuom_key=r,a(i,!0)},tabIndex:-1})}}),n.createElement(i._P,{field:"itemuom_key",width:"20%",header:"UOM*",displayValueGetter:function(e,t){var l,n;if(!Array.isArray(e)){var a=null===(l=N.current)||void 0===l?void 0:l.filter((function(l){return l.key===e[t]}));return a.length?a[0].descr:null===(n=null===e||void 0===e?void 0:e.items_uoms)||void 0===n?void 0:n.descr}},editorType:!o&&function(e){var t=e.row,l=e.column,a=e.onRowChange;e.onClose;return n.createElement(E.L,{autoFocus:!0,style:{width:"100%"},className:"p-inputtext-sm",value:t[l.key],optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:N.current,onChange:function(e){var n=Object.assign({},t);n[l.key]=e.value,a(n,!0)},tabIndex:-1})}}),n.createElement(i._P,{field:"qty",header:"Quantity",type:"number",editorType:!o&&"number"}),n.createElement(i._P,{width:"30%",field:"purpose",header:"Purpose",type:"text",editorType:!o&&"text"}))})),A=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},x=function(e){var t=(0,i.pm)(),l=t.showSuccess,o=t.showError,c=(0,n.useState)(!1),s=(0,u.Z)(c,2),y=s[0],b=s[1],h=(0,n.useState)(!1),k=(0,u.Z)(h,2),w=k[0],_=k[1],j=(0,n.useState)({}),x=(0,u.Z)(j,2),C=x[0],q=x[1],P=(0,a.s0)(),I=(0,a.UO)().id,K=parseInt(I||""),R=isNaN(K)||K<=0,F=(0,n.useRef)(),Q=(0,n.useRef)(),B=(0,a.TH)().state;!B&&R&&P("/estimation/fractionalmaterial");var M=(0,g.ft)(),W=L(K,{skip:R,refetchOnMountOrArgChange:!0}),Z=W.data,D=W.isLoading,V=(0,g.JB)(),H=V.data,U=V.isLoading,J=(0,g.cQ)({projectId:null===B||void 0===B?void 0:B.projectKey},{skip:!(null===B||void 0===B?void 0:B.projectKey)}),z=J.data,G=(J.isLoading,(0,n.useState)([])),X=(0,u.Z)(G,2),Y=X[0],$=X[1],ee=(0,n.useState)(null),te=(0,u.Z)(ee,2),le=te[0],ne=te[1],ae=(0,n.useState)({}),ie=(0,u.Z)(ae,2),re=ie[0],oe=ie[1],ce=(0,g.DU)(),se=ce.data,de=ce.isFetching,ue=(0,g.U$)(le,{skip:!le}),me=ue.data,pe=(ue.isLoading,N()),ve=(0,u.Z)(pe,2),fe=ve[0],Ee=ve[1].isLoading,ye=S(),ge=(0,u.Z)(ye,2),be=ge[0],he=ge[1].isLoading;(0,n.useEffect)((function(){q(Z||Object.assign(Object.assign({},M),{proj_key:null===B||void 0===B?void 0:B.projectKey,projblk_key:null===B||void 0===B?void 0:B.blockKey})),Z&&($((null===Z||void 0===Z?void 0:Z.items)||[]),ne(Z.itemtyp_key))}),[Z]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/fractionalmaterial",description:O,id:K,data:C,isUpdating:Ee||he||y,ref:Q,isItemsTableChanged:w,isLoading:D,onSubmit:function(e){return A(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a,i,r;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=null===(n=F.current)||void 0===n?void 0:n.getItems(),r=Object.assign(Object.assign({},e),{itemtyp_key:le,items:i}),console.log(r),!R){t.next=10;break}return t.next=7,fe(Object.assign(Object.assign({},r),M)).unwrap();case 7:a=t.sent,t.next=13;break;case 10:return t.next=12,be(Object.assign(Object.assign(Object.assign({},r),M),{key:null===Z||void 0===Z?void 0:Z.key})).unwrap();case 12:a=t.sent;case 13:l("Success",a.detail),b(!0),setTimeout((function(){P("/estimation/fractionalmaterial")}),g.P7),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),o("An error occurred","We couldn't save your post, try again!");case 21:case"end":return t.stop()}}),t,null,[[0,18]])})))},renderForm:function(e,t,l,a){var o,c;return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:U,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:H}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===z||void 0===z?void 0:z.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(f.z,{disabled:!0,label:"Clear"})),n.createElement(p.i,null),n.createElement(i.Wi,{label:"Material Pack Name",className:"col-12",required:!0,name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,useExplicit:!0,onChange:function(e){oe(Object.assign(Object.assign({},re),{name:e.target.value}))},formItem:{component:v.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Item Type",name:"itemtyp_key",className:"col-12",control:e,errors:l,isLoading:de,leftSpan:2,rightSpan:4,required:!0,useExplicit:!0,onChange:function(e){ne(e.value)},formItem:{component:E.L,componentProps:{optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:null===se||void 0===se?void 0:se.results,value:le}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex",style:{marginBottom:0}},n.createElement("label",{className:"col-2",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"base_qty",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid}),onChange:function(e){oe(Object.assign(Object.assign({},re),{base_qty:e.target.value})),t.onChange(e)}}))}}),(0,i.Hb)(null===(o=null===l||void 0===l?void 0:l.base_qty)||void 0===o?void 0:o.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",onChange:function(e){oe(Object.assign(Object.assign({},re),{uom:null===me||void 0===me?void 0:me.filter((function(t){return t.key===e.target.value}))[0].descr})),t.onChange(e)},options:me}))}}),(0,i.Hb)(null===(c=null===l||void 0===l?void 0:l.uom_key)||void 0===c?void 0:c.message)),n.createElement("div",{className:"col-6"})),n.createElement(i.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:l,leftSpan:2,rightSpan:6,formItem:{component:v.o,componentProps:{style:{marginTop:"1rem"},maxLength:100}}}),n.createElement("div",{className:"col-12",style:{fontWeight:"bolder",fontSize:24}},"Material List required for ",(null===re||void 0===re?void 0:re.base_qty)||"<Base Qty>"," ",(null===re||void 0===re?void 0:re.uom)||"<UOM>"," of ",(null===re||void 0===re?void 0:re.name)||"<Name>"),n.createElement("div",{className:"col-12 ",style:{height:"calc(100% - 183px)",minHeight:200}},n.createElement(T,{selectedItemType:le,data:Y,isLoading:D,ref:F,onChange:function(e){return!w&&_(e)}})))}}))},C=l(9459);function q(){return q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e},q.apply(this,arguments)}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var l=0,n=new Array(t);l<t;l++)n[l]=e[l];return n}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var l=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=l){var n,a,i=[],r=!0,o=!1;try{for(l=l.call(e);!(r=(n=l.next()).done)&&(i.push(n.value),!t||i.length!==t);r=!0);}catch(c){o=!0,a=c}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"===typeof e)return P(e,t);var l=Object.prototype.toString.call(e).slice(8,-1);return"Object"===l&&e.constructor&&(l=e.constructor.name),"Map"===l||"Set"===l?Array.from(e):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?P(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var K=n.memo(n.forwardRef((function(e,t){var l=I(n.useState(!1),2),a=l[0],i=l[1],o=n.useRef(null),c=n.useRef(e.inputRef),s=function(e){c.current.checked=!0,d(e)},d=function(t){!e.disabled&&e.onChange&&(e.onChange({originalEvent:t,value:e.value,checked:!e.checked,stopPropagation:function(){},preventDefault:function(){},target:{name:e.name,id:e.id,value:e.value,checked:!e.checked}}),c.current.checked=!e.checked,r.p7.focus(c.current))};n.useEffect((function(){c.current&&(c.current.checked=e.checked)}),[e.checked]),n.useEffect((function(){r.gb.combinedRefs(c,e.inputRef)}),[c,e.inputRef]),n.useImperativeHandle(t,(function(){return{select:s}}));var u=r.gb.isNotEmpty(e.tooltip),m=r.gb.findDiffKeys(e,K.defaultProps),p=(0,r.AK)("p-radiobutton p-component",{"p-radiobutton-checked":e.checked,"p-radiobutton-disabled":e.disabled,"p-radiobutton-focused":a},e.className),v=(0,r.AK)("p-radiobutton-box",{"p-highlight":e.checked,"p-disabled":e.disabled,"p-focus":a});return n.createElement(n.Fragment,null,n.createElement("div",q({ref:o,id:e.id,className:p,style:e.style},m,{onClick:d}),n.createElement("div",{className:"p-hidden-accessible"},n.createElement("input",{ref:c,id:e.inputId,type:"radio",name:e.name,defaultChecked:e.checked,"aria-labelledby":e["aria-labelledby"],"aria-label":e["aria-label"],onFocus:function(){i(!0)},onBlur:function(){i(!1)},disabled:e.disabled,required:e.required,tabIndex:e.tabIndex})),n.createElement("div",{className:v},n.createElement("div",{className:"p-radiobutton-icon"}))),u&&n.createElement(C.u,q({target:o,content:e.tooltip},e.tooltipOptions)))})));K.displayName="RadioButton",K.defaultProps={__TYPE:"RadioButton",id:null,inputRef:null,inputId:null,name:null,value:null,checked:!1,style:null,className:null,disabled:!1,required:!1,tabIndex:null,tooltip:null,tooltipOptions:null,"aria-label":null,"aria-labelledby":null,onChange:null};var R=l(6822),F=function(e){var t=k(),l=(0,u.Z)(t,2),o=l[0],c=l[1].isLoading,s=(0,n.useState)(null),d=(0,u.Z)(s,2),m=d[0],v=d[1],y=(0,n.useState)(null),b=(0,u.Z)(y,2),h=b[0],N=b[1],L=(0,g.dx)({}).data,S=((0,a.s0)(),(0,g.cQ)({projectId:m},{skip:!m})),_=S.data,j=(S.isLoading,w({projectId:m,blockId:h},{skip:!m||!h})),O=j.data,T=j.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},"Material Pack"),n.createElement(R.rU,{to:{pathname:"/estimation/fractionalmaterial/new"},state:{projectKey:m,blockKey:h},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(f.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(p.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"50%"}},n.createElement("div",{className:"field-radiobutton"},n.createElement(K,{name:"fractional",checked:!0}),n.createElement("label",null,"Fractional"))),n.createElement("div",{className:"field",style:{width:"50%"}},n.createElement("div",{className:"field-radiobutton"},n.createElement(K,{disabled:!0}),n.createElement("label",null,"Whole")))),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:m,filter:!0,filterBy:"name",onChange:function(e){v(e.value),N(null)},options:null===L||void 0===L?void 0:L.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:h,filter:!0,filterBy:"descr",onChange:function(e){N(e.value)},options:null===_||void 0===_?void 0:_.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(f.z,{label:"Clear",onClick:function(e){e.preventDefault(),v(null),N(null)}}))),n.createElement(p.i,null),n.createElement(i.PS,{baseRoute:"/estimation/fractionalmaterial",description:"Material Pack",isLoading:T||c,data:null===O||void 0===O?void 0:O.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return o(e).unwrap()}},n.createElement(i._P,{field:"pack_type",header:"Pack Type",filteringType:"text"}),n.createElement(i._P,{field:"name",header:"Material Name",filteringType:"text"}),n.createElement(i._P,{field:"item_type",header:"Item Type",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"})))},Q=n.createElement(a.AW,{path:"fractionalmaterial"},n.createElement(a.AW,{path:"new",element:n.createElement(x,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(x,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(F,null)})),B=Q,M="/estimation/fractional/rod/",W=g.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listFractionalRod:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,g.DS)(M,"?page=".concat(t||1,"&page_size=").concat(l||g.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:g.pJ.FRACTIONAL_ROD_PACK,key:t}}))),[{type:g.pJ.FRACTIONAL_ROD_PACK,id:"LIST"}]):[{type:g.pJ.FRACTIONAL_ROD_PACK,id:"LIST"}]}}),addFractionalRod:e.mutation({query:function(e){return{url:M,method:"POST",body:e}},invalidatesTags:[{type:g.pJ.FRACTIONAL_ROD_PACK,id:"LIST"}]}),getFractionalRod:e.query({query:function(e){return"".concat(M).concat(e)},providesTags:function(e,t,l){return[{type:g.pJ.FRACTIONAL_ROD_PACK,id:l}]}}),updateFractionalRod:e.mutation({query:function(e){var t=e;return{url:"".concat(M),method:"POST",body:t}},invalidatesTags:function(e){return[{type:g.pJ.FRACTIONAL_ROD_PACK,id:null===e||void 0===e?void 0:e.key}]}}),deleteFractionalRod:e.mutation({query:function(e){return{url:"".concat(M).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:g.pJ.FRACTIONAL_ROD_PACK,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),Z=W.useAddFractionalRodMutation,D=W.useDeleteFractionalRodMutation,V=W.useGetFractionalRodQuery,H=W.useListFractionalRodQuery,U=W.useUpdateFractionalRodMutation,J=(W.useGetErrorProneQuery,"Rod Pack"),z=(0,n.forwardRef)((function(e,t){var l=e.data,a=e.isLoading,r=e.disableTable,o=void 0!==r&&r,c=e.selectedItemType,s=e.onChange,d=void 0===s?function(){}:s,m=(0,n.useState)([]),p=(0,u.Z)(m,2),v=p[0],y=p[1],b=(0,n.useRef)(v),h=(0,n.useRef)([]),N=(0,n.useRef)([]),k=(0,g.qu)(c,{skip:!c}),L=k.data,w=(k.isLoading,(0,g.U$)(c,{skip:!c})),S=w.data;w.isLoading;(0,n.useImperativeHandle)(t,(function(){return{getItems:function(){return v}}})),(0,n.useEffect)((function(){y(l),b.current=l}),[l]),(0,n.useEffect)((function(){h.current=(null===L||void 0===L?void 0:L.results)||[],N.current=S||[]}),[L,S]);return n.createElement(i.PS,{baseRoute:"/estimation/".concat("fractionalrod"),description:J,isLoading:a,data:v,newTable:!0,tableLayoutClass:"h-full",allowFilters:!1,hideActionColumn:o,actionBodyTemplate:function(e){return n.createElement(f.z,{style:{height:"35px",width:"20px",marginLeft:20},type:"button",onClick:function(){(0,_.V)({message:"Are you sure you want to Delete Item?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){return function(e){var t=b.current.filter((function(t){return t!==e}));b.current=t,y(t)}(e)},reject:function(){}})},className:"p-button-rounded p-button-text",icon:"pi pi-trash"})},gridProps:{allowAdd:!0,disableAdd:o||!(0,g.pH)(v),OnRowsChanged:function(e){var t=e;y(t),b.current=t,d(!0)}}},n.createElement(i._P,{field:"item_key",width:"25%",header:"Rod Size in MM*",displayValueGetter:function(e,t){var l,n;if(!Array.isArray(e)){var a=null===(l=h.current)||void 0===l?void 0:l.filter((function(l){return l.key===e[t]}));return a.length?a[0].descr:null===(n=null===e||void 0===e?void 0:e.items)||void 0===n?void 0:n.descr}},editorType:!o&&function(e){var t=e.row,l=e.column,a=e.onRowChange;e.onClose;return n.createElement(E.L,{autoFocus:!0,style:{width:"100%"},className:"p-inputtext-sm",value:t[l.key],optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:h.current,onChange:function(e){var n,i=Object.assign({},t);i[l.key]=e.value;var r=null===(n=h.current.filter((function(t){return t.key===e.value}))[0])||void 0===n?void 0:n.itemuom_key;i.itemuom_key=r,a(i,!0)},tabIndex:-1})}}),n.createElement(i._P,{field:"qty",header:"Rod Length",type:"number",editorType:!o&&"number"}),n.createElement(i._P,{field:"itemuom_key",header:"UOM*",displayValueGetter:function(e,t){var l,n;if(!Array.isArray(e)){var a=null===(l=N.current)||void 0===l?void 0:l.filter((function(l){return l.key===e[t]}));return a.length?a[0].descr:null===(n=null===e||void 0===e?void 0:e.items_uoms)||void 0===n?void 0:n.descr}},editorType:!o&&function(e){var t=e.row,l=e.column,a=e.onRowChange;e.onClose;return n.createElement(E.L,{autoFocus:!0,style:{width:"100%"},className:"p-inputtext-sm",value:t[l.key],optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:N.current,onChange:function(e){var n=Object.assign({},t);n[l.key]=e.value,a(n,!0)},tabIndex:-1})}}),n.createElement(i._P,{field:"qty",header:"Quantity",type:"number",editorType:!o&&"number"}),n.createElement(i._P,{width:"30%",field:"purpose",header:"Purpose",type:"text",editorType:!o&&"text"}))})),G=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},X=function(e){var t=(0,i.pm)(),l=t.showSuccess,o=t.showError,c=(0,n.useState)(!1),s=(0,u.Z)(c,2),y=s[0],b=s[1],h=(0,n.useState)(!1),N=(0,u.Z)(h,2),k=N[0],L=N[1],w=(0,n.useState)({}),S=(0,u.Z)(w,2),_=S[0],j=S[1],O=(0,a.s0)(),T=(0,a.UO)().id,A=parseInt(T||""),x=isNaN(A)||A<=0,C=(0,n.useRef)(),q=(0,n.useRef)(),P=(0,a.TH)().state;!P&&x&&O("/estimation/fractionalrod");var I=(0,g.ft)(),K=V(A,{skip:x,refetchOnMountOrArgChange:!0}),R=K.data,F=K.isLoading,Q=(0,g.JB)(),B=Q.data,M=Q.isLoading,W=(0,g.cQ)({projectId:null===P||void 0===P?void 0:P.projectKey},{skip:!(null===P||void 0===P?void 0:P.projectKey)}),D=W.data,H=(W.isLoading,(0,n.useState)([])),X=(0,u.Z)(H,2),Y=X[0],$=X[1],ee=(0,n.useState)(null),te=(0,u.Z)(ee,2),le=te[0],ne=te[1],ae=(0,n.useState)({}),ie=(0,u.Z)(ae,2),re=ie[0],oe=ie[1],ce=(0,g.DY)({}),se=ce.data,de=(ce.isLoading,Z()),ue=(0,u.Z)(de,2),me=ue[0],pe=ue[1].isLoading,ve=U(),fe=(0,u.Z)(ve,2),Ee=fe[0],ye=fe[1].isLoading;(0,n.useEffect)((function(){j(R||Object.assign(Object.assign({},I),{proj_key:null===P||void 0===P?void 0:P.projectKey,projblk_key:null===P||void 0===P?void 0:P.blockKey})),R&&($((null===R||void 0===R?void 0:R.items)||[]),ne(R.itemtyp_key))}),[R]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/fractionalrod",description:J,id:A,data:_,isUpdating:pe||ye||y,ref:q,isItemsTableChanged:k,isLoading:F,onSubmit:function(e){return G(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a,i,r;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=null===(n=C.current)||void 0===n?void 0:n.getItems(),r=Object.assign(Object.assign({},e),{itemtyp_key:le,items:i}),console.log(r),!x){t.next=10;break}return t.next=7,me(Object.assign(Object.assign({},r),I)).unwrap();case 7:a=t.sent,t.next=13;break;case 10:return t.next=12,Ee(Object.assign(Object.assign(Object.assign({},r),I),{key:null===R||void 0===R?void 0:R.key})).unwrap();case 12:a=t.sent;case 13:l("Success",a.detail),b(!0),setTimeout((function(){O("/estimation/fractionalrod")}),g.P7),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),o("An error occurred","We couldn't save your post, try again!");case 21:case"end":return t.stop()}}),t,null,[[0,18]])})))},renderForm:function(e,t,l,a){var o,c;return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:M,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:B}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===D||void 0===D?void 0:D.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(f.z,{disabled:!0,label:"Clear"})),n.createElement(p.i,null),n.createElement(i.Wi,{label:"Rod Pack Name",className:"col-12",name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,useExplicit:!0,onChange:function(e){oe(Object.assign(Object.assign({},re),{name:e.target.value}))},formItem:{component:v.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Rod Pack Type",name:"itemtyp_key",className:"col-12",control:e,errors:l,leftSpan:2,rightSpan:4,required:!0,formItem:{component:E.L,componentProps:{options:["Fractional","Whole"]}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex",style:{marginBottom:0}},n.createElement("label",{className:"col-2",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"base_qty",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{onChange:function(e){oe(Object.assign(Object.assign({},re),{base_qty:e.target.value})),t.onChange(e)},className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(o=null===l||void 0===l?void 0:l.base_qty)||void 0===o?void 0:o.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",onChange:function(e){var l;oe(Object.assign(Object.assign({},re),{uom:null===(l=null===se||void 0===se?void 0:se.results)||void 0===l?void 0:l.filter((function(t){return t.key===e.target.value}))[0].descr})),t.onChange(e)},options:null===se||void 0===se?void 0:se.results}))}}),(0,i.Hb)(null===(c=null===l||void 0===l?void 0:l.uom_key)||void 0===c?void 0:c.message)),n.createElement("div",{className:"col-6"})),n.createElement(i.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:l,leftSpan:2,rightSpan:6,formItem:{component:v.o,componentProps:{style:{marginTop:"1rem"},maxLength:100}}}),n.createElement("div",{className:"col-12",style:{fontWeight:"bolder",fontSize:24}},"Rod List required for ",(null===re||void 0===re?void 0:re.base_qty)||"<Base Qty>"," ",(null===re||void 0===re?void 0:re.uom)||"<UOM>"," of ",(null===re||void 0===re?void 0:re.name)||"<Name>"),n.createElement("div",{className:"col-12 ",style:{height:"calc(100% - 183px)",minHeight:200}},n.createElement(z,{selectedItemType:le,data:Y,isLoading:F,ref:C,onChange:function(e){return!k&&L(e)}})))}}))},Y=function(e){var t=D(),l=(0,u.Z)(t,2),o=l[0],c=l[1].isLoading,s=(0,n.useState)(null),d=(0,u.Z)(s,2),m=d[0],v=d[1],y=(0,n.useState)(null),b=(0,u.Z)(y,2),h=b[0],N=b[1],k=(0,g.dx)({}).data,L=(0,a.s0)(),w=(0,g.cQ)({projectId:m},{skip:!m}),S=w.data,_=(w.isLoading,H({projectId:m,blockId:h},{skip:!m||!h})),j=_.data,O=_.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},"Rod Pack"),n.createElement(R.rU,{to:{pathname:"/estimation/fractionalrod/new"},state:{projectKey:m,blockKey:h},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(f.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(p.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"50%"}},n.createElement("div",{className:"field-radiobutton"},n.createElement(K,{checked:!0}),n.createElement("label",null,"Fractional"))),n.createElement("div",{className:"field",style:{width:"50%"}},n.createElement("div",{className:"field-radiobutton"},n.createElement(K,{onChange:function(){L("/estimation/wholerod")}}),n.createElement("label",{style:{cursor:"pointer"},onClick:function(){L("/estimation/wholerod")}},"Whole")))),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:m,filter:!0,filterBy:"name",onChange:function(e){v(e.value),N(null)},options:null===k||void 0===k?void 0:k.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:h,filter:!0,filterBy:"descr",onChange:function(e){N(e.value)},options:null===S||void 0===S?void 0:S.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(f.z,{label:"Clear",onClick:function(e){e.preventDefault(),v(null),N(null)}}))),n.createElement(p.i,null),n.createElement(i.PS,{baseRoute:"/estimation/fractionalrod",description:"Rod Pack",isLoading:O||c,data:null===j||void 0===j?void 0:j.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return o(e).unwrap()}},n.createElement(i._P,{field:"pack_type",header:"Pack Type",filteringType:"text"}),n.createElement(i._P,{field:"name",header:"Material Name",filteringType:"text"}),n.createElement(i._P,{field:"item_type",header:"Item Type",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"})))},$=n.createElement(a.AW,{path:"fractionalrod"},n.createElement(a.AW,{path:"new",element:n.createElement(X,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(X,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(Y,null)})),ee=$,te="/estimation/whole/rod/",le=g.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listWholeRod:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,g.DS)(te,"?page=".concat(t||1,"&page_size=").concat(l||g.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:g.pJ.WHOLE_ROD_PACK,key:t}}))),[{type:g.pJ.WHOLE_ROD_PACK,id:"LIST"}]):[{type:g.pJ.WHOLE_ROD_PACK,id:"LIST"}]}}),addWholeRod:e.mutation({query:function(e){return{url:te,method:"POST",body:e}},invalidatesTags:[{type:g.pJ.WHOLE_ROD_PACK,id:"LIST"}]}),getWholeRod:e.query({query:function(e){return"".concat(te).concat(e)},providesTags:function(e,t,l){return[{type:g.pJ.WHOLE_ROD_PACK,id:l}]}}),updateWholeRod:e.mutation({query:function(e){var t=e;return{url:"".concat(te),method:"POST",body:t}},invalidatesTags:function(e){return[{type:g.pJ.WHOLE_ROD_PACK,id:null===e||void 0===e?void 0:e.key}]}}),deleteWholeRod:e.mutation({query:function(e){return{url:"".concat(te).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:g.pJ.WHOLE_ROD_PACK,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),ne=le.useAddWholeRodMutation,ae=le.useDeleteWholeRodMutation,ie=le.useGetWholeRodQuery,re=le.useListWholeRodQuery,oe=le.useUpdateWholeRodMutation,ce=(le.useGetErrorProneQuery,"Rod Pack"),se=(0,n.forwardRef)((function(e,t){var l=e.data,a=e.isLoading,r=e.disableTable,o=void 0!==r&&r,c=e.selectedItemType,s=e.onChange,d=void 0===s?function(){}:s,m=(0,n.useState)([]),p=(0,u.Z)(m,2),v=p[0],y=p[1],b=(0,n.useRef)(v),h=(0,n.useRef)([]),N=(0,n.useRef)([]),k=(0,g.qu)(c,{skip:!c}),L=k.data,w=(k.isLoading,(0,g.U$)(c,{skip:!c})),S=w.data;w.isLoading;(0,n.useImperativeHandle)(t,(function(){return{getItems:function(){return v}}})),(0,n.useEffect)((function(){y(l),b.current=l}),[l]),(0,n.useEffect)((function(){h.current=(null===L||void 0===L?void 0:L.results)||[],N.current=S||[]}),[L,S]);return n.createElement(i.PS,{baseRoute:"/estimation/".concat("wholerod"),description:ce,isLoading:a,data:v,newTable:!0,tableLayoutClass:"h-full",allowFilters:!1,hideActionColumn:o,actionBodyTemplate:function(e){return n.createElement(f.z,{style:{height:"35px",width:"20px",marginLeft:20},type:"button",onClick:function(){(0,_.V)({message:"Are you sure you want to Delete Item?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){return function(e){var t=b.current.filter((function(t){return t!==e}));b.current=t,y(t)}(e)},reject:function(){}})},className:"p-button-rounded p-button-text",icon:"pi pi-trash"})},gridProps:{allowAdd:!0,disableAdd:o||!(0,g.pH)(v),OnRowsChanged:function(e){var t=e;y(t),b.current=t,d(!0)}}},n.createElement(i._P,{field:"item_key",width:"25%",header:"Rod Size in MM*",displayValueGetter:function(e,t){var l,n;if(!Array.isArray(e)){var a=null===(l=h.current)||void 0===l?void 0:l.filter((function(l){return l.key===e[t]}));return a.length?a[0].descr:null===(n=null===e||void 0===e?void 0:e.items)||void 0===n?void 0:n.descr}},editorType:!o&&function(e){var t=e.row,l=e.column,a=e.onRowChange;e.onClose;return n.createElement(E.L,{autoFocus:!0,style:{width:"100%"},className:"p-inputtext-sm",value:t[l.key],optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:h.current,onChange:function(e){var n,i=Object.assign({},t);i[l.key]=e.value;var r=null===(n=h.current.filter((function(t){return t.key===e.value}))[0])||void 0===n?void 0:n.itemuom_key;i.itemuom_key=r,a(i,!0)},tabIndex:-1})}}),n.createElement(i._P,{field:"qty",header:"Rod Length",type:"number",editorType:!o&&"number"}),n.createElement(i._P,{field:"itemuom_key",header:"UOM*",displayValueGetter:function(e,t){var l,n;if(!Array.isArray(e)){var a=null===(l=N.current)||void 0===l?void 0:l.filter((function(l){return l.key===e[t]}));return a.length?a[0].descr:null===(n=null===e||void 0===e?void 0:e.items_uoms)||void 0===n?void 0:n.descr}},editorType:!o&&function(e){var t=e.row,l=e.column,a=e.onRowChange;e.onClose;return n.createElement(E.L,{autoFocus:!0,style:{width:"100%"},className:"p-inputtext-sm",value:t[l.key],optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:N.current,onChange:function(e){var n=Object.assign({},t);n[l.key]=e.value,a(n,!0)},tabIndex:-1})}}),n.createElement(i._P,{field:"qty",header:"Quantity",type:"number",editorType:!o&&"number"}),n.createElement(i._P,{width:"30%",field:"purpose",header:"Purpose",type:"text",editorType:!o&&"text"}))})),de=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},ue=function(e){var t=(0,i.pm)(),l=t.showSuccess,o=t.showError,c=(0,n.useState)(!1),s=(0,u.Z)(c,2),y=s[0],b=s[1],h=(0,n.useState)(!1),N=(0,u.Z)(h,2),k=N[0],L=N[1],w=(0,n.useState)({}),S=(0,u.Z)(w,2),_=S[0],j=S[1],O=(0,a.s0)(),T=(0,a.UO)().id,A=parseInt(T||""),x=isNaN(A)||A<=0,C=(0,n.useRef)(),q=(0,n.useRef)(),P=(0,a.TH)().state;!P&&x&&O("/estimation/wholerod");var I=(0,g.ft)(),K=ie(A,{skip:x,refetchOnMountOrArgChange:!0}),R=K.data,F=K.isLoading,Q=(0,g.JB)(),B=Q.data,M=Q.isLoading,W=(0,g.cQ)({projectId:null===P||void 0===P?void 0:P.projectKey},{skip:!(null===P||void 0===P?void 0:P.projectKey)}),Z=W.data,D=(W.isLoading,(0,n.useState)([])),V=(0,u.Z)(D,2),H=V[0],U=V[1],J=(0,n.useState)(null),z=(0,u.Z)(J,2),G=z[0],X=z[1],Y=(0,n.useState)({}),$=(0,u.Z)(Y,2),ee=$[0],te=$[1],le=(0,g.DY)({}),ae=le.data,re=(le.isLoading,ne()),ue=(0,u.Z)(re,2),me=ue[0],pe=ue[1].isLoading,ve=oe(),fe=(0,u.Z)(ve,2),Ee=fe[0],ye=fe[1].isLoading;(0,n.useEffect)((function(){j(R||Object.assign(Object.assign({},I),{proj_key:null===P||void 0===P?void 0:P.projectKey,projblk_key:null===P||void 0===P?void 0:P.blockKey})),R&&(U((null===R||void 0===R?void 0:R.items)||[]),X(R.itemtyp_key))}),[R]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/wholerod",description:ce,id:A,data:_,isUpdating:pe||ye||y,ref:q,isItemsTableChanged:k,isLoading:F,onSubmit:function(e){return de(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a,i,r;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=null===(n=C.current)||void 0===n?void 0:n.getItems(),r=Object.assign(Object.assign({},e),{itemtyp_key:G,items:i}),console.log(r),!x){t.next=10;break}return t.next=7,me(Object.assign(Object.assign({},r),I)).unwrap();case 7:a=t.sent,t.next=13;break;case 10:return t.next=12,Ee(Object.assign(Object.assign(Object.assign({},r),I),{key:null===R||void 0===R?void 0:R.key})).unwrap();case 12:a=t.sent;case 13:l("Success",a.detail),b(!0),setTimeout((function(){O("/estimation/wholerod")}),g.P7),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),o("An error occurred","We couldn't save your post, try again!");case 21:case"end":return t.stop()}}),t,null,[[0,18]])})))},renderForm:function(e,t,l,a){var o,c;return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:M,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:B}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===Z||void 0===Z?void 0:Z.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(f.z,{disabled:!0,label:"Clear"})),n.createElement(p.i,null),n.createElement(i.Wi,{label:"Rod Pack Name",className:"col-12",name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,useExplicit:!0,onChange:function(e){te(Object.assign(Object.assign({},ee),{name:e.target.value}))},formItem:{component:v.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Rod Pack Type",name:"itemtyp_key",className:"col-12",control:e,errors:l,leftSpan:2,rightSpan:4,required:!0,formItem:{component:E.L,componentProps:{options:["Fractional","Whole"]}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex",style:{marginBottom:0}},n.createElement("label",{className:"col-2",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"base_qty",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{onChange:function(e){te(Object.assign(Object.assign({},ee),{base_qty:e.target.value})),t.onChange(e)},className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(o=null===l||void 0===l?void 0:l.base_qty)||void 0===o?void 0:o.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",onChange:function(e){var l;te(Object.assign(Object.assign({},ee),{uom:null===(l=null===ae||void 0===ae?void 0:ae.results)||void 0===l?void 0:l.filter((function(t){return t.key===e.target.value}))[0].descr})),t.onChange(e)},options:null===ae||void 0===ae?void 0:ae.results}))}}),(0,i.Hb)(null===(c=null===l||void 0===l?void 0:l.uom_key)||void 0===c?void 0:c.message)),n.createElement("div",{className:"col-6"})),n.createElement(i.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:l,leftSpan:2,rightSpan:6,formItem:{component:v.o,componentProps:{style:{marginTop:"1rem"},maxLength:100}}}),n.createElement("div",{className:"col-12",style:{fontWeight:"bolder",fontSize:24}},"Rod List required for ",(null===ee||void 0===ee?void 0:ee.base_qty)||"<Base Qty>"," ",(null===ee||void 0===ee?void 0:ee.uom)||"<UOM>"," of ",(null===ee||void 0===ee?void 0:ee.name)||"<Name>"),n.createElement("div",{className:"col-12 ",style:{height:"calc(100% - 183px)",minHeight:200}},n.createElement(se,{selectedItemType:G,data:H,isLoading:F,ref:C,onChange:function(e){return!k&&L(e)}})))}}))},me=function(e){var t=ae(),l=(0,u.Z)(t,2),o=l[0],c=l[1].isLoading,s=(0,n.useState)(null),d=(0,u.Z)(s,2),m=d[0],v=d[1],y=(0,n.useState)(null),b=(0,u.Z)(y,2),h=b[0],N=b[1],k=(0,g.dx)({}).data,L=(0,a.s0)(),w=(0,g.cQ)({projectId:m},{skip:!m}),S=w.data,_=(w.isLoading,re({projectId:m,blockId:h},{skip:!m||!h})),j=_.data,O=_.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},"Rod Pack"),n.createElement(R.rU,{to:{pathname:"/estimation/wholerod/new"},state:{projectKey:m,blockKey:h},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(f.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(p.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"50%"}},n.createElement("div",{className:"field-radiobutton"},n.createElement(K,{onChange:function(){L("/estimation/fractionalrod")}}),n.createElement("label",{style:{cursor:"pointer"},onClick:function(){L("/estimation/fractionalrod")}},"Fractional"))),n.createElement("div",{className:"field",style:{width:"50%"}},n.createElement("div",{className:"field-radiobutton"},n.createElement(K,{checked:!0}),n.createElement("label",null,"Whole")))),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:m,filter:!0,filterBy:"name",onChange:function(e){v(e.value),N(null)},options:null===k||void 0===k?void 0:k.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:h,filter:!0,filterBy:"descr",onChange:function(e){N(e.value)},options:null===S||void 0===S?void 0:S.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(f.z,{label:"Clear",onClick:function(e){e.preventDefault(),v(null),N(null)}}))),n.createElement(p.i,null),n.createElement(i.PS,{baseRoute:"/estimation/wholerod",description:"Rod Pack",isLoading:O||c,data:null===j||void 0===j?void 0:j.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return o(e).unwrap()}},n.createElement(i._P,{field:"pack_type",header:"Pack Type",filteringType:"text"}),n.createElement(i._P,{field:"name",header:"Material Name",filteringType:"text"}),n.createElement(i._P,{field:"item_type",header:"Item Type",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"})))},pe=n.createElement(a.AW,{path:"wholerod"},n.createElement(a.AW,{path:"new",element:n.createElement(ue,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(ue,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(me,null)})),ve=pe,fe="/estimation/beam/",Ee=g.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listBeam:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,g.DS)(fe,"?page=".concat(t||1,"&page_size=").concat(l||g.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:g.pJ.BEAM,key:t}}))),[{type:g.pJ.BEAM,id:"LIST"}]):[{type:g.pJ.BEAM,id:"LIST"}]}}),addBeam:e.mutation({query:function(e){return{url:fe,method:"POST",body:e}},invalidatesTags:[{type:g.pJ.BEAM,id:"LIST"}]}),getBeam:e.query({query:function(e){return"".concat(fe).concat(e)},providesTags:function(e,t,l){return[{type:g.pJ.BEAM,id:l}]}}),updateBeam:e.mutation({query:function(e){var t=e;return{url:"".concat(fe),method:"POST",body:t}},invalidatesTags:function(e){return[{type:g.pJ.BEAM,id:null===e||void 0===e?void 0:e.key}]}}),deleteBeam:e.mutation({query:function(e){return{url:"".concat(fe).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:g.pJ.BEAM,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),ye=Ee.useAddBeamMutation,ge=Ee.useDeleteBeamMutation,be=Ee.useGetBeamQuery,he=Ee.useListBeamQuery,Ne=Ee.useUpdateBeamMutation,ke=(Ee.useGetErrorProneQuery,"Beam"),Le=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},we=function(e){var t=(0,i.pm)(),l=t.showSuccess,o=t.showError,c=(0,n.useState)(!1),s=(0,u.Z)(c,2),y=s[0],b=s[1],h=(0,n.useState)({}),N=(0,u.Z)(h,2),k=N[0],L=N[1],w=(0,a.s0)(),S=(0,a.UO)().id,_=parseInt(S||""),j=isNaN(_)||_<=0,O=(0,n.useRef)(),T=(0,a.TH)().state;!T&&j&&w("/estimation/beam");var A=(0,g.ft)(),x=be(_,{skip:j,refetchOnMountOrArgChange:!0}),C=x.data,q=x.isLoading,P=(0,g.JB)(),I=P.data,K=P.isLoading,R=(0,g.cQ)({projectId:null===T||void 0===T?void 0:T.projectKey},{skip:!(null===T||void 0===T?void 0:T.projectKey)}).data,F=(0,g.DY)({}),Q=F.data,B=(F.isLoading,ye()),M=(0,u.Z)(B,2),W=M[0],Z=M[1].isLoading,D=Ne(),V=(0,u.Z)(D,2),H=V[0],U=V[1].isLoading;(0,n.useEffect)((function(){L(C||Object.assign(Object.assign({},A),{proj_key:null===T||void 0===T?void 0:T.projectKey,projblk_key:null===T||void 0===T?void 0:T.blockKey}))}),[C]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/beam",description:ke,id:_,data:k,isUpdating:Z||U||y,ref:O,isLoading:q,onSubmit:function(e){return Le(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=Object.assign({},e),console.log(a),!j){t.next=9;break}return t.next=6,W(Object.assign(Object.assign({},a),A)).unwrap();case 6:n=t.sent,t.next=12;break;case 9:return t.next=11,H(Object.assign(Object.assign(Object.assign({},a),A),{key:null===C||void 0===C?void 0:C.key})).unwrap();case 11:n=t.sent;case 12:l("Success",n.detail),b(!0),setTimeout((function(){w("/estimation/beam")}),g.P7),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),o("An error occurred","We couldn't save your post, try again!");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))},renderForm:function(e,t,l,a){var o,c,s,d,u,y,g,b,h,N;return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:K,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:I}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===R||void 0===R?void 0:R.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(f.z,{disabled:!0,label:"Clear"})),n.createElement(p.i,null),n.createElement(i.Wi,{label:"Component Name",required:!0,className:"col-12",name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,formItem:{component:v.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:l,leftSpan:2,rightSpan:6,formItem:{component:v.o,componentProps:{maxLength:100}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"base_qty",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(o=null===l||void 0===l?void 0:l.base_qty)||void 0===o?void 0:o.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(c=null===l||void 0===l?void 0:l.uom_key)||void 0===c?void 0:c.message)),n.createElement("div",{className:"col-6"})),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"B x W x L / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(s=null===l||void 0===l?void 0:l.b_value)||void 0===s?void 0:s.message)),n.createElement("span",{className:"inputgroup-divider-normal"},"X"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"w_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(d=null===l||void 0===l?void 0:l.w_value)||void 0===d?void 0:d.message)),n.createElement("span",{className:"inputgroup-divider-normal"},"X"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"l_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(u=null===l||void 0===l?void 0:l.l_value)||void 0===u?void 0:u.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"bwl_uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(y=null===l||void 0===l?void 0:l.bwl_uom_key)||void 0===y?void 0:y.message)),n.createElement("div",{className:"col-4",style:{margin:"auto"}},n.createElement("label",{style:{display:"flex",justifyContent:"center"}},"Target Quantity / UOM"))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Column Extension RCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"col_ext",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(g=null===l||void 0===l?void 0:l.col_ext)||void 0===g?void 0:g.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"1:1:2",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(b=null===l||void 0===l?void 0:l.b_value)||void 0===b?void 0:b.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Column Body Rod Pack"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(h=null===l||void 0===l?void 0:l.body_rock)||void 0===h?void 0:h.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"1.0 X 1.6 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(N=null===l||void 0===l?void 0:l.b_value)||void 0===N?void 0:N.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))))}}))},Se=function(e){var t=ge(),l=(0,u.Z)(t,2),a=l[0],o=l[1].isLoading,c=(0,n.useState)(null),s=(0,u.Z)(c,2),d=s[0],m=s[1],v=(0,n.useState)(null),y=(0,u.Z)(v,2),b=y[0],h=y[1],N=(0,g.dx)({}).data,k=(0,g.cQ)({projectId:d},{skip:!d}),L=k.data,w=(k.isLoading,he({projectId:d,blockId:b},{skip:!d||!b})),S=w.data,_=w.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},ke),n.createElement(R.rU,{to:{pathname:"/estimation/beam/new"},state:{projectKey:d,blockKey:b},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(f.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(p.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:d,filter:!0,filterBy:"name",onChange:function(e){m(e.value),h(null)},options:null===N||void 0===N?void 0:N.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:b,filter:!0,filterBy:"descr",onChange:function(e){h(e.value)},options:null===L||void 0===L?void 0:L.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(f.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),h(null)}}))),n.createElement(p.i,null),n.createElement(i.PS,{baseRoute:"/estimation/beam",description:ke,isLoading:_||o,data:null===S||void 0===S?void 0:S.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return a(e).unwrap()}},n.createElement(i._P,{field:"name",header:"Component Name",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"}),n.createElement(i._P,{field:"uom",header:"Base UOM",filteringType:"text"})))},_e=n.createElement(a.AW,{path:"beam"},n.createElement(a.AW,{path:"new",element:n.createElement(we,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(we,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(Se,null)})),je="/estimation/columnbody/",Oe=g.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listColumnBody:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,g.DS)(je,"?page=".concat(t||1,"&page_size=").concat(l||g.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:g.pJ.COLUMN_BODY,key:t}}))),[{type:g.pJ.COLUMN_BODY,id:"LIST"}]):[{type:g.pJ.COLUMN_BODY,id:"LIST"}]}}),addColumnBody:e.mutation({query:function(e){return{url:je,method:"POST",body:e}},invalidatesTags:[{type:g.pJ.COLUMN_BODY,id:"LIST"}]}),getColumnBody:e.query({query:function(e){return"".concat(je).concat(e)},providesTags:function(e,t,l){return[{type:g.pJ.COLUMN_BODY,id:l}]}}),updateColumnBody:e.mutation({query:function(e){var t=e;return{url:"".concat(je),method:"POST",body:t}},invalidatesTags:function(e){return[{type:g.pJ.COLUMN_BODY,id:null===e||void 0===e?void 0:e.key}]}}),deleteColumnBody:e.mutation({query:function(e){return{url:"".concat(je).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:g.pJ.COLUMN_BODY,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),Te=Oe.useAddColumnBodyMutation,Ae=Oe.useDeleteColumnBodyMutation,xe=Oe.useGetColumnBodyQuery,Ce=Oe.useListColumnBodyQuery,qe=Oe.useUpdateColumnBodyMutation,Pe=(Oe.useGetErrorProneQuery,"Column Body"),Ie=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},Ke=function(e){var t=(0,i.pm)(),l=t.showSuccess,r=t.showError,o=(0,n.useState)(!1),c=(0,u.Z)(o,2),s=c[0],m=c[1],y=(0,n.useState)({}),b=(0,u.Z)(y,2),h=b[0],N=b[1],k=(0,a.s0)(),L=(0,a.UO)().id,w=parseInt(L||""),S=isNaN(w)||w<=0,_=(0,n.useRef)(),j=(0,a.TH)().state;!j&&S&&k("/estimation/columnbody");var O=(0,g.ft)(),T=xe(w,{skip:S,refetchOnMountOrArgChange:!0}),A=T.data,x=T.isLoading,C=(0,g.JB)(),q=C.data,P=C.isLoading,I=(0,g.cQ)({projectId:null===j||void 0===j?void 0:j.projectKey},{skip:!(null===j||void 0===j?void 0:j.projectKey)}),K=I.data,R=(I.isLoading,(0,g.DY)({})),F=R.data,Q=(R.isLoading,Te()),B=(0,u.Z)(Q,2),M=B[0],W=B[1].isLoading,Z=qe(),D=(0,u.Z)(Z,2),V=D[0],H=D[1].isLoading;(0,n.useEffect)((function(){N(A||Object.assign(Object.assign({},O),{proj_key:null===j||void 0===j?void 0:j.projectKey,projblk_key:null===j||void 0===j?void 0:j.blockKey}))}),[A]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/columnbody",description:Pe,id:w,data:h,isUpdating:W||H||s,ref:_,isLoading:x,onSubmit:function(e){return Ie(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=Object.assign({},e),console.log(a),!S){t.next=9;break}return t.next=6,M(Object.assign(Object.assign({},a),O)).unwrap();case 6:n=t.sent,t.next=12;break;case 9:return t.next=11,V(Object.assign(Object.assign(Object.assign({},a),O),{key:null===A||void 0===A?void 0:A.key})).unwrap();case 11:n=t.sent;case 12:l("Success",n.detail),m(!0),setTimeout((function(){k("/estimation/columnbody")}),g.P7),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),r("An error occurred","We couldn't save your post, try again!");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))},renderForm:function(e,t,l,a){return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:P,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:q}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===K||void 0===K?void 0:K.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(f.z,{disabled:!0,label:"Clear"})),n.createElement(p.i,null),n.createElement(i.Wi,{label:"Component Name",className:"col-12",name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,formItem:{component:v.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:l,leftSpan:2,rightSpan:6,formItem:{component:v.o,componentProps:{maxLength:100}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement(v.o,{className:"col-1",placeholder:""}),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement(E.L,{className:"col-1",optionLabel:"descr",optionValue:"key",options:null===F||void 0===F?void 0:F.results}),n.createElement("div",{className:"col-6"})),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"W x B / UOM"),n.createElement(v.o,{className:"col-1",style:{marginLeft:4},placeholder:""}),n.createElement("span",{className:"inputgroup-divider-normal"},"X"),n.createElement(v.o,{className:"col-1",style:{marginLeft:4},placeholder:""}),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement(E.L,{className:"col-2",optionLabel:"descr",optionValue:"key",options:null===F||void 0===F?void 0:F.results}),n.createElement("div",{className:"col-4",style:{margin:"auto"}},n.createElement("label",{style:{display:"flex",justifyContent:"center"}},"Target Quantity / UOM"))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Column Extension RCC"),n.createElement("div",{className:"col-3"},n.createElement(E.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===F||void 0===F?void 0:F.results})),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"1:1:2",disabled:!0})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:""})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Column Body Rod Pack"),n.createElement("div",{className:"col-3"},n.createElement(E.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===F||void 0===F?void 0:F.results})),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"1.0 X 1.6 FEET",disabled:!0})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:""})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))))}}))},Re=function(e){var t=Ae(),l=(0,u.Z)(t,2),a=l[0],o=l[1].isLoading,c=(0,n.useState)(null),s=(0,u.Z)(c,2),d=s[0],m=s[1],v=(0,n.useState)(null),y=(0,u.Z)(v,2),b=y[0],h=y[1],N=(0,g.dx)({}).data,k=(0,g.cQ)({projectId:d},{skip:!d}),L=k.data,w=(k.isLoading,Ce({projectId:d,blockId:b},{skip:!d||!b})),S=w.data,_=w.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},Pe),n.createElement(R.rU,{to:{pathname:"/estimation/columnbody/new"},state:{projectKey:d,blockKey:b},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(f.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(p.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:d,filter:!0,filterBy:"name",onChange:function(e){m(e.value),h(null)},options:null===N||void 0===N?void 0:N.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:b,filter:!0,filterBy:"descr",onChange:function(e){h(e.value)},options:null===L||void 0===L?void 0:L.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(f.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),h(null)}}))),n.createElement(p.i,null),n.createElement(i.PS,{baseRoute:"/estimation/columnbody",description:Pe,isLoading:_||o,data:null===S||void 0===S?void 0:S.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return a(e).unwrap()}},n.createElement(i._P,{field:"name",header:"Component Name",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"}),n.createElement(i._P,{field:"uom",header:"Base UOM",filteringType:"text"})))},Fe=n.createElement(a.AW,{path:"columnbody"},n.createElement(a.AW,{path:"new",element:n.createElement(Ke,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(Ke,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(Re,null)})),Qe="/estimation/columnfooting/",Be=g.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listColumnFooting:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,g.DS)(Qe,"?page=".concat(t||1,"&page_size=").concat(l||g.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:g.pJ.COLUMN_FOOTING,key:t}}))),[{type:g.pJ.COLUMN_FOOTING,id:"LIST"}]):[{type:g.pJ.COLUMN_FOOTING,id:"LIST"}]}}),addColumnFooting:e.mutation({query:function(e){return{url:Qe,method:"POST",footing:e}},invalidatesTags:[{type:g.pJ.COLUMN_FOOTING,id:"LIST"}]}),getColumnFooting:e.query({query:function(e){return"".concat(Qe).concat(e)},providesTags:function(e,t,l){return[{type:g.pJ.COLUMN_FOOTING,id:l}]}}),updateColumnFooting:e.mutation({query:function(e){var t=e;return{url:"".concat(Qe),method:"POST",footing:t}},invalidatesTags:function(e){return[{type:g.pJ.COLUMN_FOOTING,id:null===e||void 0===e?void 0:e.key}]}}),deleteColumnFooting:e.mutation({query:function(e){return{url:"".concat(Qe).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:g.pJ.COLUMN_FOOTING,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),Me=Be.useAddColumnFootingMutation,We=Be.useDeleteColumnFootingMutation,Ze=Be.useGetColumnFootingQuery,De=Be.useListColumnFootingQuery,Ve=Be.useUpdateColumnFootingMutation,He=(Be.useGetErrorProneQuery,"Column Footing"),Ue=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},Je=function(e){var t=(0,i.pm)(),l=t.showSuccess,r=t.showError,o=(0,n.useState)(!1),c=(0,u.Z)(o,2),s=c[0],m=c[1],y=(0,n.useState)({}),b=(0,u.Z)(y,2),h=b[0],N=b[1],k=(0,a.s0)(),L=(0,a.UO)().id,w=parseInt(L||""),S=isNaN(w)||w<=0,_=(0,n.useRef)(),j=(0,a.TH)().state;!j&&S&&k("/estimation/columnfooting");var O=(0,g.ft)(),T=Ze(w,{skip:S,refetchOnMountOrArgChange:!0}),A=T.data,x=T.isLoading,C=(0,g.JB)(),q=C.data,P=C.isLoading,I=(0,g.cQ)({projectId:null===j||void 0===j?void 0:j.projectKey},{skip:!(null===j||void 0===j?void 0:j.projectKey)}),K=I.data,R=(I.isLoading,(0,g.DY)({})),F=R.data,Q=(R.isLoading,Me()),B=(0,u.Z)(Q,2),M=B[0],W=B[1].isLoading,Z=Ve(),D=(0,u.Z)(Z,2),V=D[0],H=D[1].isLoading;(0,n.useEffect)((function(){N(A||Object.assign(Object.assign({},O),{proj_key:null===j||void 0===j?void 0:j.projectKey,projblk_key:null===j||void 0===j?void 0:j.blockKey}))}),[A]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/columnfooting",description:He,id:w,data:h,isUpdating:W||H||s,ref:_,isLoading:x,onSubmit:function(e){return Ue(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=Object.assign({},e),console.log(a),!S){t.next=9;break}return t.next=6,M(Object.assign(Object.assign({},a),O)).unwrap();case 6:n=t.sent,t.next=12;break;case 9:return t.next=11,V(Object.assign(Object.assign(Object.assign({},a),O),{key:null===A||void 0===A?void 0:A.key})).unwrap();case 11:n=t.sent;case 12:l("Success",n.detail),m(!0),setTimeout((function(){k("/estimation/columnfooting")}),g.P7),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),r("An error occurred","We couldn't save your post, try again!");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))},renderForm:function(e,t,l,a){return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:P,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:q}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===K||void 0===K?void 0:K.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(f.z,{disabled:!0,label:"Clear"})),n.createElement(p.i,null),n.createElement(i.Wi,{label:"Component Name",className:"col-12",name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,formItem:{component:v.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:l,leftSpan:2,rightSpan:6,formItem:{component:v.o,componentProps:{maxLength:100}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement(v.o,{className:"col-1",placeholder:""}),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement(E.L,{className:"col-1",optionLabel:"descr",optionValue:"key",options:null===F||void 0===F?void 0:F.results}),n.createElement("div",{className:"col-6"})),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"L x B / UOM"),n.createElement(v.o,{className:"col-1",style:{marginLeft:4},placeholder:""}),n.createElement("span",{className:"inputgroup-divider-normal"},"X"),n.createElement(v.o,{className:"col-1",style:{marginLeft:4},placeholder:""}),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement(E.L,{className:"col-2",optionLabel:"descr",optionValue:"key",options:null===F||void 0===F?void 0:F.results}),n.createElement("div",{className:"col-4",style:{margin:"auto"}},n.createElement("label",{style:{display:"flex",justifyContent:"center"}},"Target Quantity / UOM"))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Footing PCC"),n.createElement("div",{className:"col-3"},n.createElement(E.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===F||void 0===F?void 0:F.results})),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"1:1:2",disabled:!0})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:""})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Footing RCC"),n.createElement("div",{className:"col-3"},n.createElement(E.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===F||void 0===F?void 0:F.results})),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"1:1:2",disabled:!0})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:""})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Pedal Rod Pack"),n.createElement("div",{className:"col-3"},n.createElement(E.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===F||void 0===F?void 0:F.results})),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"7.0 X 8.0 X 1.5 FT SLOPED",disabled:!0})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:""})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))))}}))},ze=function(e){var t=We(),l=(0,u.Z)(t,2),a=l[0],o=l[1].isLoading,c=(0,n.useState)(null),s=(0,u.Z)(c,2),d=s[0],m=s[1],v=(0,n.useState)(null),y=(0,u.Z)(v,2),b=y[0],h=y[1],N=(0,g.dx)({}).data,k=(0,g.cQ)({projectId:d},{skip:!d}),L=k.data,w=(k.isLoading,De({projectId:d,blockId:b},{skip:!d||!b})),S=w.data,_=w.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},He),n.createElement(R.rU,{to:{pathname:"/estimation/columnfooting/new"},state:{projectKey:d,blockKey:b},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(f.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(p.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:d,filter:!0,filterBy:"name",onChange:function(e){m(e.value),h(null)},options:null===N||void 0===N?void 0:N.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:b,filter:!0,filterBy:"descr",onChange:function(e){h(e.value)},options:null===L||void 0===L?void 0:L.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(f.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),h(null)}}))),n.createElement(p.i,null),n.createElement(i.PS,{baseRoute:"/estimation/columnfooting",description:He,isLoading:_||o,data:null===S||void 0===S?void 0:S.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return a(e).unwrap()}},n.createElement(i._P,{field:"name",header:"Component Name",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"}),n.createElement(i._P,{field:"uom",header:"Base UOM",filteringType:"text"})))},Ge=n.createElement(a.AW,{path:"columnfooting"},n.createElement(a.AW,{path:"new",element:n.createElement(Je,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(Je,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(ze,null)})),Xe="/estimation/cupboard/",Ye=g.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listCupboard:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,g.DS)(Xe,"?page=".concat(t||1,"&page_size=").concat(l||g.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:g.pJ.CUPBOARD,key:t}}))),[{type:g.pJ.CUPBOARD,id:"LIST"}]):[{type:g.pJ.CUPBOARD,id:"LIST"}]}}),addCupboard:e.mutation({query:function(e){return{url:Xe,method:"POST",body:e}},invalidatesTags:[{type:g.pJ.CUPBOARD,id:"LIST"}]}),getCupboard:e.query({query:function(e){return"".concat(Xe).concat(e)},providesTags:function(e,t,l){return[{type:g.pJ.CUPBOARD,id:l}]}}),updateCupboard:e.mutation({query:function(e){var t=e;return{url:"".concat(Xe),method:"POST",body:t}},invalidatesTags:function(e){return[{type:g.pJ.CUPBOARD,id:null===e||void 0===e?void 0:e.key}]}}),deleteCupboard:e.mutation({query:function(e){return{url:"".concat(Xe).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:g.pJ.CUPBOARD,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),$e=Ye.useAddCupboardMutation,et=Ye.useDeleteCupboardMutation,tt=Ye.useGetCupboardQuery,lt=Ye.useListCupboardQuery,nt=Ye.useUpdateCupboardMutation,at=(Ye.useGetErrorProneQuery,"Cupboard"),it=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},rt=function(e){var t=(0,i.pm)(),l=t.showSuccess,r=t.showError,o=(0,n.useState)(!1),c=(0,u.Z)(o,2),s=c[0],m=c[1],y=(0,n.useState)({}),b=(0,u.Z)(y,2),h=b[0],N=b[1],k=(0,a.s0)(),L=(0,a.UO)().id,w=parseInt(L||""),S=isNaN(w)||w<=0,_=(0,n.useRef)(),j=(0,a.TH)().state;!j&&S&&k("/estimation/cupboard");var O=(0,g.ft)(),T=tt(w,{skip:S,refetchOnMountOrArgChange:!0}),A=T.data,x=T.isLoading,C=(0,g.JB)(),q=C.data,P=C.isLoading,I=(0,g.cQ)({projectId:null===j||void 0===j?void 0:j.projectKey},{skip:!(null===j||void 0===j?void 0:j.projectKey)}),K=I.data,R=(I.isLoading,(0,g.DY)({})),F=R.data,Q=(R.isLoading,$e()),B=(0,u.Z)(Q,2),M=B[0],W=B[1].isLoading,Z=nt(),D=(0,u.Z)(Z,2),V=D[0],H=D[1].isLoading;(0,n.useEffect)((function(){N(A||Object.assign(Object.assign({},O),{proj_key:null===j||void 0===j?void 0:j.projectKey,projblk_key:null===j||void 0===j?void 0:j.blockKey}))}),[A]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/cupboard",description:at,id:w,data:h,isUpdating:W||H||s,ref:_,isLoading:x,onSubmit:function(e){return it(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=Object.assign({},e),console.log(a),!S){t.next=9;break}return t.next=6,M(Object.assign(Object.assign({},a),O)).unwrap();case 6:n=t.sent,t.next=12;break;case 9:return t.next=11,V(Object.assign(Object.assign(Object.assign({},a),O),{key:null===A||void 0===A?void 0:A.key})).unwrap();case 11:n=t.sent;case 12:l("Success",n.detail),m(!0),setTimeout((function(){k("/estimation/cupboard")}),g.P7),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),r("An error occurred","We couldn't save your post, try again!");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))},renderForm:function(e,t,l,a){return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:P,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:q}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===K||void 0===K?void 0:K.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(f.z,{disabled:!0,label:"Clear"})),n.createElement(p.i,null),n.createElement(i.Wi,{label:"Component Name",className:"col-12",name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,formItem:{component:v.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:l,leftSpan:2,rightSpan:6,formItem:{component:v.o,componentProps:{maxLength:100}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement(v.o,{className:"col-1",placeholder:""}),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement(E.L,{className:"col-1",optionLabel:"descr",optionValue:"key",options:null===F||void 0===F?void 0:F.results}),n.createElement("div",{className:"col-6"})),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("div",{className:"col-8"}),n.createElement("div",{className:"col-4",style:{margin:"auto"}},n.createElement("label",{style:{display:"flex",justifyContent:"center"}},"Target Quantity / UOM"))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Brickwork"),n.createElement("div",{className:"col-3"},n.createElement(E.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===F||void 0===F?void 0:F.results})),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"4 inch",disabled:!0})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:""})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Partition Slab"),n.createElement("div",{className:"col-3"},n.createElement(E.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===F||void 0===F?void 0:F.results})),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"12.0 X 1.5 FEET",disabled:!0})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:""})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Plaster"),n.createElement("div",{className:"col-3"},n.createElement(E.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===F||void 0===F?void 0:F.results})),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"Cement plaster",disabled:!0})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:""})),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))))}}))},ot=function(e){var t=et(),l=(0,u.Z)(t,2),a=l[0],o=l[1].isLoading,c=(0,n.useState)(null),s=(0,u.Z)(c,2),d=s[0],m=s[1],v=(0,n.useState)(null),y=(0,u.Z)(v,2),b=y[0],h=y[1],N=(0,g.dx)({}).data,k=(0,g.cQ)({projectId:d},{skip:!d}),L=k.data,w=(k.isLoading,lt({projectId:d,blockId:b},{skip:!d||!b})),S=w.data,_=w.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},at),n.createElement(R.rU,{to:{pathname:"/estimation/cupboard/new"},state:{projectKey:d,blockKey:b},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(f.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(p.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:d,filter:!0,filterBy:"name",onChange:function(e){m(e.value),h(null)},options:null===N||void 0===N?void 0:N.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:b,filter:!0,filterBy:"descr",onChange:function(e){h(e.value)},options:null===L||void 0===L?void 0:L.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(f.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),h(null)}}))),n.createElement(p.i,null),n.createElement(i.PS,{baseRoute:"/estimation/cupboard",description:at,isLoading:_||o,data:null===S||void 0===S?void 0:S.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return a(e).unwrap()}},n.createElement(i._P,{field:"name",header:"Component Name",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"}),n.createElement(i._P,{field:"uom",header:"Base UOM",filteringType:"text"})))},ct=n.createElement(a.AW,{path:"cupboard"},n.createElement(a.AW,{path:"new",element:n.createElement(rt,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(rt,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(ot,null)})),st="/estimation/generictank/",dt=g.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listGenericTank:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,g.DS)(st,"?page=".concat(t||1,"&page_size=").concat(l||g.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:g.pJ.GENERIC_TANK,key:t}}))),[{type:g.pJ.GENERIC_TANK,id:"LIST"}]):[{type:g.pJ.GENERIC_TANK,id:"LIST"}]}}),addGenericTank:e.mutation({query:function(e){return{url:st,method:"POST",data:e}},invalidatesTags:[{type:g.pJ.GENERIC_TANK,id:"LIST"}]}),getGenericTank:e.query({query:function(e){return"".concat(st).concat(e)},providesTags:function(e,t,l){return[{type:g.pJ.GENERIC_TANK,id:l}]}}),updateGenericTank:e.mutation({query:function(e){return{url:"".concat(st),method:"POST",data:e}},invalidatesTags:function(e){return[{type:g.pJ.GENERIC_TANK,id:null===e||void 0===e?void 0:e.key}]}}),deleteGenericTank:e.mutation({query:function(e){return{url:"".concat(st).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:g.pJ.GENERIC_TANK,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),ut=dt.useAddGenericTankMutation,mt=dt.useDeleteGenericTankMutation,pt=dt.useGetGenericTankQuery,vt=dt.useListGenericTankQuery,ft=dt.useUpdateGenericTankMutation,Et=(dt.useGetErrorProneQuery,"Generic Tank"),yt=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},gt=function(e){var t=(0,i.pm)(),l=t.showSuccess,o=t.showError,c=(0,n.useState)(!1),s=(0,u.Z)(c,2),y=s[0],b=s[1],h=(0,n.useState)({}),N=(0,u.Z)(h,2),k=N[0],L=N[1],w=(0,a.s0)(),S=(0,a.UO)().id,_=parseInt(S||""),j=isNaN(_)||_<=0,O=(0,n.useRef)(),T=(0,a.TH)().state;!T&&j&&w("/estimation/generictank");var A=(0,g.ft)(),x=pt(_,{skip:j,refetchOnMountOrArgChange:!0}),C=x.data,q=x.isLoading,P=(0,g.JB)(),I=P.data,K=P.isLoading,R=(0,g.cQ)({projectId:null===T||void 0===T?void 0:T.projectKey},{skip:!(null===T||void 0===T?void 0:T.projectKey)}),F=R.data,Q=(R.isLoading,(0,g.DY)({})),B=Q.data,M=(Q.isLoading,ut()),W=(0,u.Z)(M,2),Z=W[0],D=W[1].isLoading,V=ft(),H=(0,u.Z)(V,2),U=H[0],J=H[1].isLoading;(0,n.useEffect)((function(){L(C||Object.assign(Object.assign({},A),{proj_key:null===T||void 0===T?void 0:T.projectKey,projblk_key:null===T||void 0===T?void 0:T.blockKey}))}),[C]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/generictank",description:Et,id:_,data:k,isUpdating:D||J||y,ref:O,isLoading:q,onSubmit:function(e){return yt(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=Object.assign({},e),console.log(a),!j){t.next=9;break}return t.next=6,Z(Object.assign(Object.assign({},a),A)).unwrap();case 6:n=t.sent,t.next=12;break;case 9:return t.next=11,U(Object.assign(Object.assign(Object.assign({},a),A),{key:null===C||void 0===C?void 0:C.key})).unwrap();case 11:n=t.sent;case 12:l("Success",n.detail),b(!0),setTimeout((function(){w("/estimation/generictank")}),g.P7),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),o("An error occurred","We couldn't save your post, try again!");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))},renderForm:function(e,t,l,a){var o,c,s,d,u,y,g,b,h,N,k,L,w,S,_,j,O,T,A,x,C,q;return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:K,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:I}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===F||void 0===F?void 0:F.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(f.z,{disabled:!0,label:"Clear"})),n.createElement(p.i,null),n.createElement(i.Wi,{label:"Component Name",className:"col-12",name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,formItem:{component:v.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Tank Type",name:"tanktype_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:K,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{optionLabel:"name",optionValue:"key",options:I}}}),n.createElement(i.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:l,leftSpan:2,rightSpan:6,formItem:{component:v.o,componentProps:{maxLength:100}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"base_qty",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(o=null===l||void 0===l?void 0:l.base_qty)||void 0===o?void 0:o.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(c=null===l||void 0===l?void 0:l.uom_key)||void 0===c?void 0:c.message)),n.createElement("div",{className:"col-6"})),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"L x B x H / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(s=null===l||void 0===l?void 0:l.b_value)||void 0===s?void 0:s.message)),n.createElement("span",{className:"inputgroup-divider-normal"},"X"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"w_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(d=null===l||void 0===l?void 0:l.w_value)||void 0===d?void 0:d.message)),n.createElement("span",{className:"inputgroup-divider-normal"},"X"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"l_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(u=null===l||void 0===l?void 0:l.l_value)||void 0===u?void 0:u.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"bwl_uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(y=null===l||void 0===l?void 0:l.bwl_uom_key)||void 0===y?void 0:y.message)),n.createElement("div",{className:"col-4",style:{margin:"auto"}},n.createElement("label",{style:{display:"flex",justifyContent:"center"}},"Target Quantity / UOM"))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Tank Floor PCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"col_ext",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(g=null===l||void 0===l?void 0:l.col_ext)||void 0===g?void 0:g.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"1:1:2",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(b=null===l||void 0===l?void 0:l.b_value)||void 0===b?void 0:b.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Tank Floor RCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(h=null===l||void 0===l?void 0:l.body_rock)||void 0===h?void 0:h.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"8.0 X 6.0 X 1.0 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(N=null===l||void 0===l?void 0:l.b_value)||void 0===N?void 0:N.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Tank Rod Pack"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(k=null===l||void 0===l?void 0:l.body_rock)||void 0===k?void 0:k.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"1.0 X 1.6 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(L=null===l||void 0===l?void 0:l.b_value)||void 0===L?void 0:L.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Brickwork"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(w=null===l||void 0===l?void 0:l.body_rock)||void 0===w?void 0:w.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"4 inch",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(S=null===l||void 0===l?void 0:l.b_value)||void 0===S?void 0:S.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Wall RCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(_=null===l||void 0===l?void 0:l.body_rock)||void 0===_?void 0:_.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"28.0 X 5.0 X 0.3 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(j=null===l||void 0===l?void 0:l.b_value)||void 0===j?void 0:j.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Roof RCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(O=null===l||void 0===l?void 0:l.body_rock)||void 0===O?void 0:O.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"8.0 X 6.0 X 0.3 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(T=null===l||void 0===l?void 0:l.b_value)||void 0===T?void 0:T.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Inner Plaster"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(A=null===l||void 0===l?void 0:l.body_rock)||void 0===A?void 0:A.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"Inner Plaster",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(x=null===l||void 0===l?void 0:l.b_value)||void 0===x?void 0:x.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Outer Plaster"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(C=null===l||void 0===l?void 0:l.body_rock)||void 0===C?void 0:C.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"Outer Plaster",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(q=null===l||void 0===l?void 0:l.b_value)||void 0===q?void 0:q.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))))}}))},bt=function(e){var t=mt(),l=(0,u.Z)(t,2),a=l[0],o=l[1].isLoading,c=(0,n.useState)(null),s=(0,u.Z)(c,2),d=s[0],m=s[1],v=(0,n.useState)(null),y=(0,u.Z)(v,2),b=y[0],h=y[1],N=(0,g.dx)({}).data,k=(0,g.cQ)({projectId:d},{skip:!d}),L=k.data,w=(k.isLoading,vt({projectId:d,blockId:b},{skip:!d||!b})),S=w.data,_=w.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},Et),n.createElement(R.rU,{to:{pathname:"/estimation/generictank/new"},state:{projectKey:d,blockKey:b},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(f.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(p.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:d,filter:!0,filterBy:"name",onChange:function(e){m(e.value),h(null)},options:null===N||void 0===N?void 0:N.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:b,filter:!0,filterBy:"descr",onChange:function(e){h(e.value)},options:null===L||void 0===L?void 0:L.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(f.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),h(null)}}))),n.createElement(p.i,null),n.createElement(i.PS,{baseRoute:"/estimation/generictank",description:Et,isLoading:_||o,data:null===S||void 0===S?void 0:S.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return a(e).unwrap()}},n.createElement(i._P,{field:"name",header:"Component Name",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"}),n.createElement(i._P,{field:"uom",header:"Base UOM",filteringType:"text"})))},ht=n.createElement(a.AW,{path:"generictank"},n.createElement(a.AW,{path:"new",element:n.createElement(gt,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(gt,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(bt,null)})),Nt="/estimation/kitchenstage/",kt=g.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listKitchenStage:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,g.DS)(Nt,"?page=".concat(t||1,"&page_size=").concat(l||g.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:g.pJ.KITCHEN_STAGE,key:t}}))),[{type:g.pJ.KITCHEN_STAGE,id:"LIST"}]):[{type:g.pJ.KITCHEN_STAGE,id:"LIST"}]}}),addKitchenStage:e.mutation({query:function(e){return{url:Nt,method:"POST",data:e}},invalidatesTags:[{type:g.pJ.KITCHEN_STAGE,id:"LIST"}]}),getKitchenStage:e.query({query:function(e){return"".concat(Nt).concat(e)},providesTags:function(e,t,l){return[{type:g.pJ.KITCHEN_STAGE,id:l}]}}),updateKitchenStage:e.mutation({query:function(e){return{url:"".concat(Nt),method:"POST",data:e}},invalidatesTags:function(e){return[{type:g.pJ.KITCHEN_STAGE,id:null===e||void 0===e?void 0:e.key}]}}),deleteKitchenStage:e.mutation({query:function(e){return{url:"".concat(Nt).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:g.pJ.KITCHEN_STAGE,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),Lt=kt.useAddKitchenStageMutation,wt=kt.useDeleteKitchenStageMutation,St=kt.useGetKitchenStageQuery,_t=kt.useListKitchenStageQuery,jt=kt.useUpdateKitchenStageMutation,Ot=(kt.useGetErrorProneQuery,"Kitchen Stage"),Tt=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},At=function(e){var t=(0,i.pm)(),l=t.showSuccess,o=t.showError,c=(0,n.useState)(!1),s=(0,u.Z)(c,2),y=s[0],b=s[1],h=(0,n.useState)({}),N=(0,u.Z)(h,2),k=N[0],L=N[1],w=(0,a.s0)(),S=(0,a.UO)().id,_=parseInt(S||""),j=isNaN(_)||_<=0,O=(0,n.useRef)(),T=(0,a.TH)().state;!T&&j&&w("/estimation/kitchenstage");var A=(0,g.ft)(),x=St(_,{skip:j,refetchOnMountOrArgChange:!0}),C=x.data,q=x.isLoading,P=(0,g.JB)(),I=P.data,K=P.isLoading,R=(0,g.cQ)({projectId:null===T||void 0===T?void 0:T.projectKey},{skip:!(null===T||void 0===T?void 0:T.projectKey)}),F=R.data,Q=(R.isLoading,(0,g.DY)({})),B=Q.data,M=(Q.isLoading,Lt()),W=(0,u.Z)(M,2),Z=W[0],D=W[1].isLoading,V=jt(),H=(0,u.Z)(V,2),U=H[0],J=H[1].isLoading;(0,n.useEffect)((function(){L(C||Object.assign(Object.assign({},A),{proj_key:null===T||void 0===T?void 0:T.projectKey,projblk_key:null===T||void 0===T?void 0:T.blockKey}))}),[C]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/kitchenstage",description:Ot,id:_,data:k,isUpdating:D||J||y,ref:O,isLoading:q,onSubmit:function(e){return Tt(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=Object.assign({},e),console.log(a),!j){t.next=9;break}return t.next=6,Z(Object.assign(Object.assign({},a),A)).unwrap();case 6:n=t.sent,t.next=12;break;case 9:return t.next=11,U(Object.assign(Object.assign(Object.assign({},a),A),{key:null===C||void 0===C?void 0:C.key})).unwrap();case 11:n=t.sent;case 12:l("Success",n.detail),b(!0),setTimeout((function(){w("/estimation/kitchenstage")}),g.P7),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),o("An error occurred","We couldn't save your post, try again!");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))},renderForm:function(e,t,l,a){var o,c,s,d,u,y,g,b,h,N;return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:K,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:I}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===F||void 0===F?void 0:F.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(f.z,{disabled:!0,label:"Clear"})),n.createElement(p.i,null),n.createElement(i.Wi,{label:"Component Name",className:"col-12",name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,formItem:{component:v.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:l,leftSpan:2,rightSpan:6,formItem:{component:v.o,componentProps:{maxLength:100}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"base_qty",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(o=null===l||void 0===l?void 0:l.base_qty)||void 0===o?void 0:o.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(c=null===l||void 0===l?void 0:l.uom_key)||void 0===c?void 0:c.message)),n.createElement("div",{className:"col-6"})),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("div",{className:"col-8"}),n.createElement("div",{className:"col-4",style:{margin:"auto"}},n.createElement("label",{style:{display:"flex",justifyContent:"center"}},"Target Quantity / UOM"))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Brickwork"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(s=null===l||void 0===l?void 0:l.body_rock)||void 0===s?void 0:s.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"4 inch",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(d=null===l||void 0===l?void 0:l.b_value)||void 0===d?void 0:d.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Stage Slab Rod Pack"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(u=null===l||void 0===l?void 0:l.body_rock)||void 0===u?void 0:u.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"28.0 X 5.0 X 0.3 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(y=null===l||void 0===l?void 0:l.b_value)||void 0===y?void 0:y.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Stage Slab RCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(g=null===l||void 0===l?void 0:l.body_rock)||void 0===g?void 0:g.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"8.0 X 6.0 X 0.3 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(b=null===l||void 0===l?void 0:l.b_value)||void 0===b?void 0:b.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Plaster"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(h=null===l||void 0===l?void 0:l.body_rock)||void 0===h?void 0:h.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"Inner Plaster",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(N=null===l||void 0===l?void 0:l.b_value)||void 0===N?void 0:N.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))))}}))},xt=function(e){var t=wt(),l=(0,u.Z)(t,2),a=l[0],o=l[1].isLoading,c=(0,n.useState)(null),s=(0,u.Z)(c,2),d=s[0],m=s[1],v=(0,n.useState)(null),y=(0,u.Z)(v,2),b=y[0],h=y[1],N=(0,g.dx)({}).data,k=(0,g.cQ)({projectId:d},{skip:!d}),L=k.data,w=(k.isLoading,_t({projectId:d,blockId:b},{skip:!d||!b})),S=w.data,_=w.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},Ot),n.createElement(R.rU,{to:{pathname:"/estimation/kitchenstage/new"},state:{projectKey:d,blockKey:b},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(f.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(p.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:d,filter:!0,filterBy:"name",onChange:function(e){m(e.value),h(null)},options:null===N||void 0===N?void 0:N.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:b,filter:!0,filterBy:"descr",onChange:function(e){h(e.value)},options:null===L||void 0===L?void 0:L.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(f.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),h(null)}}))),n.createElement(p.i,null),n.createElement(i.PS,{baseRoute:"/estimation/kitchenstage",description:Ot,isLoading:_||o,data:null===S||void 0===S?void 0:S.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return a(e).unwrap()}},n.createElement(i._P,{field:"name",header:"Component Name",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"}),n.createElement(i._P,{field:"uom",header:"Base UOM",filteringType:"text"})))},Ct=n.createElement(a.AW,{path:"kitchenstage"},n.createElement(a.AW,{path:"new",element:n.createElement(At,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(At,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(xt,null)})),qt="/estimation/liftfooting/",Pt=g.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listLiftFooting:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,g.DS)(qt,"?page=".concat(t||1,"&page_size=").concat(l||g.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:g.pJ.LIFT_FOOTING,key:t}}))),[{type:g.pJ.LIFT_FOOTING,id:"LIST"}]):[{type:g.pJ.LIFT_FOOTING,id:"LIST"}]}}),addLiftFooting:e.mutation({query:function(e){return{url:qt,method:"POST",data:e}},invalidatesTags:[{type:g.pJ.LIFT_FOOTING,id:"LIST"}]}),getLiftFooting:e.query({query:function(e){return"".concat(qt).concat(e)},providesTags:function(e,t,l){return[{type:g.pJ.LIFT_FOOTING,id:l}]}}),updateLiftFooting:e.mutation({query:function(e){return{url:"".concat(qt),method:"POST",data:e}},invalidatesTags:function(e){return[{type:g.pJ.LIFT_FOOTING,id:null===e||void 0===e?void 0:e.key}]}}),deleteLiftFooting:e.mutation({query:function(e){return{url:"".concat(qt).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:g.pJ.LIFT_FOOTING,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),It=Pt.useAddLiftFootingMutation,Kt=Pt.useDeleteLiftFootingMutation,Rt=Pt.useGetLiftFootingQuery,Ft=Pt.useListLiftFootingQuery,Qt=Pt.useUpdateLiftFootingMutation,Bt=(Pt.useGetErrorProneQuery,"Lift Footing"),Mt=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},Wt=function(e){var t=(0,i.pm)(),l=t.showSuccess,o=t.showError,c=(0,n.useState)(!1),s=(0,u.Z)(c,2),y=s[0],b=s[1],h=(0,n.useState)({}),N=(0,u.Z)(h,2),k=N[0],L=N[1],w=(0,a.s0)(),S=(0,a.UO)().id,_=parseInt(S||""),j=isNaN(_)||_<=0,O=(0,n.useRef)(),T=(0,a.TH)().state;!T&&j&&w("/estimation/liftfooting");var A=(0,g.ft)(),x=Rt(_,{skip:j,refetchOnMountOrArgChange:!0}),C=x.data,q=x.isLoading,P=(0,g.JB)(),I=P.data,K=P.isLoading,R=(0,g.cQ)({projectId:null===T||void 0===T?void 0:T.projectKey},{skip:!(null===T||void 0===T?void 0:T.projectKey)}),F=R.data,Q=(R.isLoading,(0,g.DY)({})),B=Q.data,M=(Q.isLoading,It()),W=(0,u.Z)(M,2),Z=W[0],D=W[1].isLoading,V=Qt(),H=(0,u.Z)(V,2),U=H[0],J=H[1].isLoading;(0,n.useEffect)((function(){L(C||Object.assign(Object.assign({},A),{proj_key:null===T||void 0===T?void 0:T.projectKey,projblk_key:null===T||void 0===T?void 0:T.blockKey}))}),[C]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/liftfooting",description:Bt,id:_,data:k,isUpdating:D||J||y,ref:O,isLoading:q,onSubmit:function(e){return Mt(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=Object.assign({},e),console.log(a),!j){t.next=9;break}return t.next=6,Z(Object.assign(Object.assign({},a),A)).unwrap();case 6:n=t.sent,t.next=12;break;case 9:return t.next=11,U(Object.assign(Object.assign(Object.assign({},a),A),{key:null===C||void 0===C?void 0:C.key})).unwrap();case 11:n=t.sent;case 12:l("Success",n.detail),b(!0),setTimeout((function(){w("/estimation/liftfooting")}),g.P7),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),o("An error occurred","We couldn't save your post, try again!");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))},renderForm:function(e,t,l,a){var o,c,s,d,u,y,g,b,h,N,k,L,w,S,_,j;return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:K,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:I}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===F||void 0===F?void 0:F.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(f.z,{disabled:!0,label:"Clear"})),n.createElement(p.i,null),n.createElement(i.Wi,{label:"Component Name",className:"col-12",name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,formItem:{component:v.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:l,leftSpan:2,rightSpan:6,formItem:{component:v.o,componentProps:{maxLength:100}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"base_qty",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(o=null===l||void 0===l?void 0:l.base_qty)||void 0===o?void 0:o.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(c=null===l||void 0===l?void 0:l.uom_key)||void 0===c?void 0:c.message)),n.createElement("div",{className:"col-6"})),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"L x B x H / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(s=null===l||void 0===l?void 0:l.b_value)||void 0===s?void 0:s.message)),n.createElement("span",{className:"inputgroup-divider-normal"},"X"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"w_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(d=null===l||void 0===l?void 0:l.w_value)||void 0===d?void 0:d.message)),n.createElement("span",{className:"inputgroup-divider-normal"},"X"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"l_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(u=null===l||void 0===l?void 0:l.l_value)||void 0===u?void 0:u.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"bwl_uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(y=null===l||void 0===l?void 0:l.bwl_uom_key)||void 0===y?void 0:y.message)),n.createElement("div",{className:"col-4",style:{margin:"auto"}},n.createElement("label",{style:{display:"flex",justifyContent:"center"}},"Target Quantity / UOM"))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Lift Floor PCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"col_ext",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(g=null===l||void 0===l?void 0:l.col_ext)||void 0===g?void 0:g.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"1:1:2",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(b=null===l||void 0===l?void 0:l.b_value)||void 0===b?void 0:b.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Lift Footing RCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(h=null===l||void 0===l?void 0:l.body_rock)||void 0===h?void 0:h.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"8.0 X 6.0 X 1.0 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(N=null===l||void 0===l?void 0:l.b_value)||void 0===N?void 0:N.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Lift Floor Rod Pack"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(k=null===l||void 0===l?void 0:l.body_rock)||void 0===k?void 0:k.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"1.0 X 1.6 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(L=null===l||void 0===l?void 0:l.b_value)||void 0===L?void 0:L.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Lift Wall RCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(w=null===l||void 0===l?void 0:l.body_rock)||void 0===w?void 0:w.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"28.0 X 5.0 X 0.3 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(S=null===l||void 0===l?void 0:l.b_value)||void 0===S?void 0:S.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Lift Wall Rod Pack"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(_=null===l||void 0===l?void 0:l.body_rock)||void 0===_?void 0:_.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"8.0 X 6.0 X 0.3 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(j=null===l||void 0===l?void 0:l.b_value)||void 0===j?void 0:j.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))))}}))},Zt=function(e){var t=Kt(),l=(0,u.Z)(t,2),a=l[0],o=l[1].isLoading,c=(0,n.useState)(null),s=(0,u.Z)(c,2),d=s[0],m=s[1],v=(0,n.useState)(null),y=(0,u.Z)(v,2),b=y[0],h=y[1],N=(0,g.dx)({}).data,k=(0,g.cQ)({projectId:d},{skip:!d}),L=k.data,w=(k.isLoading,Ft({projectId:d,blockId:b},{skip:!d||!b})),S=w.data,_=w.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},Bt),n.createElement(R.rU,{to:{pathname:"/estimation/liftfooting/new"},state:{projectKey:d,blockKey:b},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(f.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(p.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:d,filter:!0,filterBy:"name",onChange:function(e){m(e.value),h(null)},options:null===N||void 0===N?void 0:N.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:b,filter:!0,filterBy:"descr",onChange:function(e){h(e.value)},options:null===L||void 0===L?void 0:L.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(f.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),h(null)}}))),n.createElement(p.i,null),n.createElement(i.PS,{baseRoute:"/estimation/liftfooting",description:Bt,isLoading:_||o,data:null===S||void 0===S?void 0:S.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return a(e).unwrap()}},n.createElement(i._P,{field:"name",header:"Component Name",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"}),n.createElement(i._P,{field:"uom",header:"Base UOM",filteringType:"text"})))},Dt=n.createElement(a.AW,{path:"liftfooting"},n.createElement(a.AW,{path:"new",element:n.createElement(Wt,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(Wt,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(Zt,null)})),Vt="/estimation/lintelbeam/",Ht=g.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listLintelBeam:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,g.DS)(Vt,"?page=".concat(t||1,"&page_size=").concat(l||g.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:g.pJ.LINTEL_BEAM,key:t}}))),[{type:g.pJ.LINTEL_BEAM,id:"LIST"}]):[{type:g.pJ.LINTEL_BEAM,id:"LIST"}]}}),addLintelBeam:e.mutation({query:function(e){return{url:Vt,method:"POST",data:e}},invalidatesTags:[{type:g.pJ.LINTEL_BEAM,id:"LIST"}]}),getLintelBeam:e.query({query:function(e){return"".concat(Vt).concat(e)},providesTags:function(e,t,l){return[{type:g.pJ.LINTEL_BEAM,id:l}]}}),updateLintelBeam:e.mutation({query:function(e){return{url:"".concat(Vt),method:"POST",data:e}},invalidatesTags:function(e){return[{type:g.pJ.LINTEL_BEAM,id:null===e||void 0===e?void 0:e.key}]}}),deleteLintelBeam:e.mutation({query:function(e){return{url:"".concat(Vt).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:g.pJ.LINTEL_BEAM,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),Ut=Ht.useAddLintelBeamMutation,Jt=Ht.useDeleteLintelBeamMutation,zt=Ht.useGetLintelBeamQuery,Gt=Ht.useListLintelBeamQuery,Xt=Ht.useUpdateLintelBeamMutation,Yt=(Ht.useGetErrorProneQuery,"Lintel Beam"),$t=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},el=function(e){var t=(0,i.pm)(),l=t.showSuccess,o=t.showError,c=(0,n.useState)(!1),s=(0,u.Z)(c,2),y=s[0],b=s[1],h=(0,n.useState)({}),N=(0,u.Z)(h,2),k=N[0],L=N[1],w=(0,a.s0)(),S=(0,a.UO)().id,_=parseInt(S||""),j=isNaN(_)||_<=0,O=(0,n.useRef)(),T=(0,a.TH)().state;!T&&j&&w("/estimation/lintelbeam");var A=(0,g.ft)(),x=zt(_,{skip:j,refetchOnMountOrArgChange:!0}),C=x.data,q=x.isLoading,P=(0,g.JB)(),I=P.data,K=P.isLoading,R=(0,g.cQ)({projectId:null===T||void 0===T?void 0:T.projectKey},{skip:!(null===T||void 0===T?void 0:T.projectKey)}),F=R.data,Q=(R.isLoading,(0,g.DY)({})),B=Q.data,M=(Q.isLoading,Ut()),W=(0,u.Z)(M,2),Z=W[0],D=W[1].isLoading,V=Xt(),H=(0,u.Z)(V,2),U=H[0],J=H[1].isLoading;(0,n.useEffect)((function(){L(C||Object.assign(Object.assign({},A),{proj_key:null===T||void 0===T?void 0:T.projectKey,projblk_key:null===T||void 0===T?void 0:T.blockKey}))}),[C]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/lintelbeam",description:Yt,id:_,data:k,isUpdating:D||J||y,ref:O,isLoading:q,onSubmit:function(e){return $t(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=Object.assign({},e),console.log(a),!j){t.next=9;break}return t.next=6,Z(Object.assign(Object.assign({},a),A)).unwrap();case 6:n=t.sent,t.next=12;break;case 9:return t.next=11,U(Object.assign(Object.assign(Object.assign({},a),A),{key:null===C||void 0===C?void 0:C.key})).unwrap();case 11:n=t.sent;case 12:l("Success",n.detail),b(!0),setTimeout((function(){w("/estimation/lintelbeam")}),g.P7),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),o("An error occurred","We couldn't save your post, try again!");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))},renderForm:function(e,t,l,a){var o,c,s,d,u,y,g,b;return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:K,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:I}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===F||void 0===F?void 0:F.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(f.z,{disabled:!0,label:"Clear"})),n.createElement(p.i,null),n.createElement(i.Wi,{label:"Component Name",className:"col-12",name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,formItem:{component:v.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Lintel Beam Type",name:"type_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:K,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{optionLabel:"name",optionValue:"key",options:I}}}),n.createElement(i.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:l,leftSpan:2,rightSpan:6,formItem:{component:v.o,componentProps:{maxLength:100}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"base_qty",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(o=null===l||void 0===l?void 0:l.base_qty)||void 0===o?void 0:o.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(c=null===l||void 0===l?void 0:l.uom_key)||void 0===c?void 0:c.message)),n.createElement("div",{className:"col-6"})),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"L / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(s=null===l||void 0===l?void 0:l.b_value)||void 0===s?void 0:s.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"bwl_uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(d=null===l||void 0===l?void 0:l.bwl_uom_key)||void 0===d?void 0:d.message)),n.createElement("div",{className:"col-2"}),n.createElement("div",{className:"col-4",style:{margin:"auto"}},n.createElement("label",{style:{display:"flex",justifyContent:"center"}},"Target Quantity / UOM"))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Lintel Rod Pack"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(u=null===l||void 0===l?void 0:l.body_rock)||void 0===u?void 0:u.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"1.0 X 1.6 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(y=null===l||void 0===l?void 0:l.b_value)||void 0===y?void 0:y.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Lintel PCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"col_ext",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(g=null===l||void 0===l?void 0:l.col_ext)||void 0===g?void 0:g.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"1:1:2",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(b=null===l||void 0===l?void 0:l.b_value)||void 0===b?void 0:b.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))))}}))},tl=function(e){var t=Jt(),l=(0,u.Z)(t,2),a=l[0],o=l[1].isLoading,c=(0,n.useState)(null),s=(0,u.Z)(c,2),d=s[0],m=s[1],v=(0,n.useState)(null),y=(0,u.Z)(v,2),b=y[0],h=y[1],N=(0,g.dx)({}).data,k=(0,g.cQ)({projectId:d},{skip:!d}),L=k.data,w=(k.isLoading,Gt({projectId:d,blockId:b},{skip:!d||!b})),S=w.data,_=w.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},Yt),n.createElement(R.rU,{to:{pathname:"/estimation/lintelbeam/new"},state:{projectKey:d,blockKey:b},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(f.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(p.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:d,filter:!0,filterBy:"name",onChange:function(e){m(e.value),h(null)},options:null===N||void 0===N?void 0:N.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:b,filter:!0,filterBy:"descr",onChange:function(e){h(e.value)},options:null===L||void 0===L?void 0:L.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(f.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),h(null)}}))),n.createElement(p.i,null),n.createElement(i.PS,{baseRoute:"/estimation/lintelbeam",description:Yt,isLoading:_||o,data:null===S||void 0===S?void 0:S.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return a(e).unwrap()}},n.createElement(i._P,{field:"name",header:"Component Name",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"}),n.createElement(i._P,{field:"uom",header:"Base UOM",filteringType:"text"})))},ll=n.createElement(a.AW,{path:"lintelbeam"},n.createElement(a.AW,{path:"new",element:n.createElement(el,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(el,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(tl,null)})),nl="/estimation/pile/",al=g.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listPile:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,g.DS)(nl,"?page=".concat(t||1,"&page_size=").concat(l||g.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:g.pJ.PILE,key:t}}))),[{type:g.pJ.PILE,id:"LIST"}]):[{type:g.pJ.PILE,id:"LIST"}]}}),addPile:e.mutation({query:function(e){return{url:nl,method:"POST",body:e}},invalidatesTags:[{type:g.pJ.PILE,id:"LIST"}]}),getPile:e.query({query:function(e){return"".concat(nl).concat(e)},providesTags:function(e,t,l){return[{type:g.pJ.PILE,id:l}]}}),updatePile:e.mutation({query:function(e){var t=e;return{url:"".concat(nl),method:"POST",body:t}},invalidatesTags:function(e){return[{type:g.pJ.PILE,id:null===e||void 0===e?void 0:e.key}]}}),deletePile:e.mutation({query:function(e){return{url:"".concat(nl).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:g.pJ.PILE,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),il=al.useAddPileMutation,rl=al.useDeletePileMutation,ol=al.useGetPileQuery,cl=al.useListPileQuery,sl=al.useUpdatePileMutation,dl=(al.useGetErrorProneQuery,"Pile"),ul=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},ml=function(e){var t=(0,i.pm)(),l=t.showSuccess,o=t.showError,c=(0,n.useState)(!1),s=(0,u.Z)(c,2),y=s[0],b=s[1],h=(0,n.useState)({}),N=(0,u.Z)(h,2),k=N[0],L=N[1],w=(0,a.s0)(),S=(0,a.UO)().id,_=parseInt(S||""),j=isNaN(_)||_<=0,O=(0,n.useRef)(),T=(0,a.TH)().state;!T&&j&&w("/estimation/pile");var A=(0,g.ft)(),x=ol(_,{skip:j,refetchOnMountOrArgChange:!0}),C=x.data,q=x.isLoading,P=(0,g.JB)(),I=P.data,K=P.isLoading,R=(0,g.cQ)({projectId:null===T||void 0===T?void 0:T.projectKey},{skip:!(null===T||void 0===T?void 0:T.projectKey)}),F=R.data,Q=(R.isLoading,(0,g.DY)({})),B=Q.data,M=(Q.isLoading,il()),W=(0,u.Z)(M,2),Z=W[0],D=W[1].isLoading,V=sl(),H=(0,u.Z)(V,2),U=H[0],J=H[1].isLoading;(0,n.useEffect)((function(){L(C||Object.assign(Object.assign({},A),{proj_key:null===T||void 0===T?void 0:T.projectKey,projblk_key:null===T||void 0===T?void 0:T.blockKey}))}),[C]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/pile",description:dl,id:_,data:k,isUpdating:D||J||y,ref:O,isLoading:q,onSubmit:function(e){return ul(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=Object.assign({},e),console.log(a),!j){t.next=9;break}return t.next=6,Z(Object.assign(Object.assign({},a),A)).unwrap();case 6:n=t.sent,t.next=12;break;case 9:return t.next=11,U(Object.assign(Object.assign(Object.assign({},a),A),{key:null===C||void 0===C?void 0:C.key})).unwrap();case 11:n=t.sent;case 12:l("Success",n.detail),b(!0),setTimeout((function(){w("/estimation/pile")}),g.P7),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),o("An error occurred","We couldn't save your post, try again!");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))},renderForm:function(e,t,l,a){var o,c,s,d,u,y,g,b,h;return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:K,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:I}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===F||void 0===F?void 0:F.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(f.z,{disabled:!0,label:"Clear"})),n.createElement(p.i,null),n.createElement(i.Wi,{label:"Component Name",required:!0,className:"col-12",name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,formItem:{component:v.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:l,leftSpan:2,rightSpan:6,formItem:{component:v.o,componentProps:{maxLength:100}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"base_qty",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(o=null===l||void 0===l?void 0:l.base_qty)||void 0===o?void 0:o.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(c=null===l||void 0===l?void 0:l.uom_key)||void 0===c?void 0:c.message)),n.createElement("div",{className:"col-6"})),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Dia x L / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(s=null===l||void 0===l?void 0:l.b_value)||void 0===s?void 0:s.message)),n.createElement("span",{className:"inputgroup-divider-normal"},"X"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"l_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(d=null===l||void 0===l?void 0:l.l_value)||void 0===d?void 0:d.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"bwl_uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(u=null===l||void 0===l?void 0:l.bwl_uom_key)||void 0===u?void 0:u.message)),n.createElement("div",{className:"col-1"}),n.createElement("div",{className:"col-4",style:{margin:"auto"}},n.createElement("label",{style:{display:"flex",justifyContent:"center"}},"Target Quantity / UOM"))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Pile RCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"col_ext",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(y=null===l||void 0===l?void 0:l.col_ext)||void 0===y?void 0:y.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"1:1:2",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(g=null===l||void 0===l?void 0:l.b_value)||void 0===g?void 0:g.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Pile Rod Pack"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(b=null===l||void 0===l?void 0:l.body_rock)||void 0===b?void 0:b.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"1.0 X 1.6 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(h=null===l||void 0===l?void 0:l.b_value)||void 0===h?void 0:h.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))))}}))},pl=function(e){var t=rl(),l=(0,u.Z)(t,2),a=l[0],o=l[1].isLoading,c=(0,n.useState)(null),s=(0,u.Z)(c,2),d=s[0],m=s[1],v=(0,n.useState)(null),y=(0,u.Z)(v,2),b=y[0],h=y[1],N=(0,g.dx)({}).data,k=(0,g.cQ)({projectId:d},{skip:!d}),L=k.data,w=(k.isLoading,cl({projectId:d,blockId:b},{skip:!d||!b})),S=w.data,_=w.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},dl),n.createElement(R.rU,{to:{pathname:"/estimation/pile/new"},state:{projectKey:d,blockKey:b},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(f.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(p.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:d,filter:!0,filterBy:"name",onChange:function(e){m(e.value),h(null)},options:null===N||void 0===N?void 0:N.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:b,filter:!0,filterBy:"descr",onChange:function(e){h(e.value)},options:null===L||void 0===L?void 0:L.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(f.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),h(null)}}))),n.createElement(p.i,null),n.createElement(i.PS,{baseRoute:"/estimation/pile",description:dl,isLoading:_||o,data:null===S||void 0===S?void 0:S.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return a(e).unwrap()}},n.createElement(i._P,{field:"name",header:"Component Name",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"}),n.createElement(i._P,{field:"uom",header:"Base UOM",filteringType:"text"})))},vl=n.createElement(a.AW,{path:"pile"},n.createElement(a.AW,{path:"new",element:n.createElement(ml,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(ml,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(pl,null)})),fl="/estimation/slab/",El=g.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listSlab:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,g.DS)(fl,"?page=".concat(t||1,"&page_size=").concat(l||g.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:g.pJ.SLAB,key:t}}))),[{type:g.pJ.SLAB,id:"LIST"}]):[{type:g.pJ.SLAB,id:"LIST"}]}}),addSlab:e.mutation({query:function(e){return{url:fl,method:"POST",body:e}},invalidatesTags:[{type:g.pJ.SLAB,id:"LIST"}]}),getSlab:e.query({query:function(e){return"".concat(fl).concat(e)},providesTags:function(e,t,l){return[{type:g.pJ.SLAB,id:l}]}}),updateSlab:e.mutation({query:function(e){var t=e;return{url:"".concat(fl),method:"POST",body:t}},invalidatesTags:function(e){return[{type:g.pJ.SLAB,id:null===e||void 0===e?void 0:e.key}]}}),deleteSlab:e.mutation({query:function(e){return{url:"".concat(fl).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:g.pJ.SLAB,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),yl=El.useAddSlabMutation,gl=El.useDeleteSlabMutation,bl=El.useGetSlabQuery,hl=El.useListSlabQuery,Nl=El.useUpdateSlabMutation,kl=(El.useGetErrorProneQuery,"Slab"),Ll=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},wl=function(e){var t=(0,i.pm)(),l=t.showSuccess,o=t.showError,c=(0,n.useState)(!1),s=(0,u.Z)(c,2),y=s[0],b=s[1],h=(0,n.useState)({}),N=(0,u.Z)(h,2),k=N[0],L=N[1],w=(0,a.s0)(),S=(0,a.UO)().id,_=parseInt(S||""),j=isNaN(_)||_<=0,O=(0,n.useRef)(),T=(0,a.TH)().state;!T&&j&&w("/estimation/slab");var A=(0,g.ft)(),x=bl(_,{skip:j,refetchOnMountOrArgChange:!0}),C=x.data,q=x.isLoading,P=(0,g.JB)(),I=P.data,K=P.isLoading,R=(0,g.cQ)({projectId:null===T||void 0===T?void 0:T.projectKey},{skip:!(null===T||void 0===T?void 0:T.projectKey)}),F=R.data,Q=(R.isLoading,(0,g.DY)({})),B=Q.data,M=(Q.isLoading,yl()),W=(0,u.Z)(M,2),Z=W[0],D=W[1].isLoading,V=Nl(),H=(0,u.Z)(V,2),U=H[0],J=H[1].isLoading;(0,n.useEffect)((function(){L(C||Object.assign(Object.assign({},A),{proj_key:null===T||void 0===T?void 0:T.projectKey,projblk_key:null===T||void 0===T?void 0:T.blockKey}))}),[C]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/slab",description:kl,id:_,data:k,isUpdating:D||J||y,ref:O,isLoading:q,onSubmit:function(e){return Ll(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=Object.assign({},e),console.log(a),!j){t.next=9;break}return t.next=6,Z(Object.assign(Object.assign({},a),A)).unwrap();case 6:n=t.sent,t.next=12;break;case 9:return t.next=11,U(Object.assign(Object.assign(Object.assign({},a),A),{key:null===C||void 0===C?void 0:C.key})).unwrap();case 11:n=t.sent;case 12:l("Success",n.detail),b(!0),setTimeout((function(){w("/estimation/slab")}),g.P7),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),o("An error occurred","We couldn't save your post, try again!");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))},renderForm:function(e,t,l,a){var o,c,s,d,u,y,g,b,h,N;return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:K,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:I}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===F||void 0===F?void 0:F.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(f.z,{disabled:!0,label:"Clear"})),n.createElement(p.i,null),n.createElement(i.Wi,{label:"Component Name",required:!0,className:"col-12",name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,formItem:{component:v.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:l,leftSpan:2,rightSpan:6,formItem:{component:v.o,componentProps:{maxLength:100}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"base_qty",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(o=null===l||void 0===l?void 0:l.base_qty)||void 0===o?void 0:o.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(c=null===l||void 0===l?void 0:l.uom_key)||void 0===c?void 0:c.message)),n.createElement("div",{className:"col-6"})),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"L X B X T / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(s=null===l||void 0===l?void 0:l.b_value)||void 0===s?void 0:s.message)),n.createElement("span",{className:"inputgroup-divider-normal"},"X"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(d=null===l||void 0===l?void 0:l.b_value)||void 0===d?void 0:d.message)),n.createElement("span",{className:"inputgroup-divider-normal"},"X"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"l_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(u=null===l||void 0===l?void 0:l.l_value)||void 0===u?void 0:u.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"bwl_uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(y=null===l||void 0===l?void 0:l.bwl_uom_key)||void 0===y?void 0:y.message)),n.createElement("div",{className:"col-4",style:{margin:"auto"}},n.createElement("label",{style:{display:"flex",justifyContent:"center"}},"Target Quantity / UOM"))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Slab RCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"col_ext",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(g=null===l||void 0===l?void 0:l.col_ext)||void 0===g?void 0:g.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"1:1:2",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(b=null===l||void 0===l?void 0:l.b_value)||void 0===b?void 0:b.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Slab Rod Pack"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(h=null===l||void 0===l?void 0:l.body_rock)||void 0===h?void 0:h.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"1.0 X 1.6 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(N=null===l||void 0===l?void 0:l.b_value)||void 0===N?void 0:N.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))))}}))},Sl=function(e){var t=gl(),l=(0,u.Z)(t,2),a=l[0],o=l[1].isLoading,c=(0,n.useState)(null),s=(0,u.Z)(c,2),d=s[0],m=s[1],v=(0,n.useState)(null),y=(0,u.Z)(v,2),b=y[0],h=y[1],N=(0,g.dx)({}).data,k=(0,g.cQ)({projectId:d},{skip:!d}),L=k.data,w=(k.isLoading,hl({projectId:d,blockId:b},{skip:!d||!b})),S=w.data,_=w.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},kl),n.createElement(R.rU,{to:{pathname:"/estimation/slab/new"},state:{projectKey:d,blockKey:b},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(f.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(p.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:d,filter:!0,filterBy:"name",onChange:function(e){m(e.value),h(null)},options:null===N||void 0===N?void 0:N.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:b,filter:!0,filterBy:"descr",onChange:function(e){h(e.value)},options:null===L||void 0===L?void 0:L.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(f.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),h(null)}}))),n.createElement(p.i,null),n.createElement(i.PS,{baseRoute:"/estimation/slab",description:kl,isLoading:_||o,data:null===S||void 0===S?void 0:S.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return a(e).unwrap()}},n.createElement(i._P,{field:"name",header:"Component Name",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"}),n.createElement(i._P,{field:"uom",header:"Base UOM",filteringType:"text"})))},_l=n.createElement(a.AW,{path:"slab"},n.createElement(a.AW,{path:"new",element:n.createElement(wl,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(wl,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(Sl,null)})),jl="/estimation/pilecap/",Ol=g.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listPileCap:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,g.DS)(jl,"?page=".concat(t||1,"&page_size=").concat(l||g.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:g.pJ.PILE_CAP,key:t}}))),[{type:g.pJ.PILE_CAP,id:"LIST"}]):[{type:g.pJ.PILE_CAP,id:"LIST"}]}}),addPileCap:e.mutation({query:function(e){return{url:jl,method:"POST",data:e}},invalidatesTags:[{type:g.pJ.PILE_CAP,id:"LIST"}]}),getPileCap:e.query({query:function(e){return"".concat(jl).concat(e)},providesTags:function(e,t,l){return[{type:g.pJ.PILE_CAP,id:l}]}}),updatePileCap:e.mutation({query:function(e){return{url:"".concat(jl),method:"POST",data:e}},invalidatesTags:function(e){return[{type:g.pJ.PILE_CAP,id:null===e||void 0===e?void 0:e.key}]}}),deletePileCap:e.mutation({query:function(e){return{url:"".concat(jl).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:g.pJ.PILE_CAP,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),Tl=Ol.useAddPileCapMutation,Al=Ol.useDeletePileCapMutation,xl=Ol.useGetPileCapQuery,Cl=Ol.useListPileCapQuery,ql=Ol.useUpdatePileCapMutation,Pl=(Ol.useGetErrorProneQuery,"Pile Cap"),Il=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},Kl=function(e){var t=(0,i.pm)(),l=t.showSuccess,o=t.showError,c=(0,n.useState)(!1),s=(0,u.Z)(c,2),y=s[0],b=s[1],h=(0,n.useState)({}),N=(0,u.Z)(h,2),k=N[0],L=N[1],w=(0,a.s0)(),S=(0,a.UO)().id,_=parseInt(S||""),j=isNaN(_)||_<=0,O=(0,n.useRef)(),T=(0,a.TH)().state;!T&&j&&w("/estimation/pilecap");var A=(0,g.ft)(),x=xl(_,{skip:j,refetchOnMountOrArgChange:!0}),C=x.data,q=x.isLoading,P=(0,g.JB)(),I=P.data,K=P.isLoading,R=(0,g.cQ)({projectId:null===T||void 0===T?void 0:T.projectKey},{skip:!(null===T||void 0===T?void 0:T.projectKey)}).data,F=(0,g.DY)({}),Q=F.data,B=(F.isLoading,Tl()),M=(0,u.Z)(B,2),W=M[0],Z=M[1].isLoading,D=ql(),V=(0,u.Z)(D,2),H=V[0],U=V[1].isLoading;(0,n.useEffect)((function(){L(C||Object.assign(Object.assign({},A),{proj_key:null===T||void 0===T?void 0:T.projectKey,projblk_key:null===T||void 0===T?void 0:T.blockKey}))}),[C]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/pilecap",description:Pl,id:_,data:k,isUpdating:Z||U||y,ref:O,isLoading:q,onSubmit:function(e){return Il(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=Object.assign({},e),console.log(a),!j){t.next=9;break}return t.next=6,W(Object.assign(Object.assign({},a),A)).unwrap();case 6:n=t.sent,t.next=12;break;case 9:return t.next=11,H(Object.assign(Object.assign(Object.assign({},a),A),{key:null===C||void 0===C?void 0:C.key})).unwrap();case 11:n=t.sent;case 12:l("Success",n.detail),b(!0),setTimeout((function(){w("/estimation/pilecap")}),g.P7),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),o("An error occurred","We couldn't save your post, try again!");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))},renderForm:function(e,t,l,a){var o,c,s,d,u,y,g,b,h,N;return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:K,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:I}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===R||void 0===R?void 0:R.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(f.z,{disabled:!0,label:"Clear"})),n.createElement(p.i,null),n.createElement(i.Wi,{label:"Component Name",className:"col-12",name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,formItem:{component:v.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:l,leftSpan:2,rightSpan:6,formItem:{component:v.o,componentProps:{maxLength:100}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"base_qty",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(o=null===l||void 0===l?void 0:l.base_qty)||void 0===o?void 0:o.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(c=null===l||void 0===l?void 0:l.uom_key)||void 0===c?void 0:c.message)),n.createElement("div",{className:"col-6"})),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"L x B x H / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(s=null===l||void 0===l?void 0:l.b_value)||void 0===s?void 0:s.message)),n.createElement("span",{className:"inputgroup-divider-normal"},"X"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"w_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(d=null===l||void 0===l?void 0:l.w_value)||void 0===d?void 0:d.message)),n.createElement("span",{className:"inputgroup-divider-normal"},"X"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"l_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(u=null===l||void 0===l?void 0:l.l_value)||void 0===u?void 0:u.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"bwl_uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(y=null===l||void 0===l?void 0:l.bwl_uom_key)||void 0===y?void 0:y.message)),n.createElement("div",{className:"col-4",style:{margin:"auto"}},n.createElement("label",{style:{display:"flex",justifyContent:"center"}},"Target Quantity / UOM"))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"PileCap PCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"col_ext",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(g=null===l||void 0===l?void 0:l.col_ext)||void 0===g?void 0:g.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"1:1:2",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(b=null===l||void 0===l?void 0:l.b_value)||void 0===b?void 0:b.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"PileCap RCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===Q||void 0===Q?void 0:Q.results}))}}),(0,i.Hb)(null===(h=null===l||void 0===l?void 0:l.body_rock)||void 0===h?void 0:h.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"8.0 X 6.0 X 1.0 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(N=null===l||void 0===l?void 0:l.b_value)||void 0===N?void 0:N.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))))}}))},Rl=function(e){var t=Al(),l=(0,u.Z)(t,2),a=l[0],o=l[1].isLoading,c=(0,n.useState)(null),s=(0,u.Z)(c,2),d=s[0],m=s[1],v=(0,n.useState)(null),y=(0,u.Z)(v,2),b=y[0],h=y[1],N=(0,g.dx)({}).data,k=(0,g.cQ)({projectId:d},{skip:!d}),L=k.data,w=(k.isLoading,Cl({projectId:d,blockId:b},{skip:!d||!b})),S=w.data,_=w.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},Pl),n.createElement(R.rU,{to:{pathname:"/estimation/pilecap/new"},state:{projectKey:d,blockKey:b},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(f.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(p.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:d,filter:!0,filterBy:"name",onChange:function(e){m(e.value),h(null)},options:null===N||void 0===N?void 0:N.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:b,filter:!0,filterBy:"descr",onChange:function(e){h(e.value)},options:null===L||void 0===L?void 0:L.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(f.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),h(null)}}))),n.createElement(p.i,null),n.createElement(i.PS,{baseRoute:"/estimation/pilecap",description:Pl,isLoading:_||o,data:null===S||void 0===S?void 0:S.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return a(e).unwrap()}},n.createElement(i._P,{field:"name",header:"Component Name",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"}),n.createElement(i._P,{field:"uom",header:"Base UOM",filteringType:"text"})))},Fl=n.createElement(a.AW,{path:"pilecap"},n.createElement(a.AW,{path:"new",element:n.createElement(Kl,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(Kl,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(Rl,null)})),Ql="/estimation/staircaseslab/",Bl=g.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listStaircaseSlab:e.query({query:function(e){var t=e.page,l=e.size,n=e.projectId,a=e.blockId;return{url:(0,g.DS)(Ql,"?page=".concat(t||1,"&page_size=").concat(l||g.IV,"&proj_key=").concat(n,"&projblk_key=").concat(a))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:g.pJ.STAIRCASE_SLAB,key:t}}))),[{type:g.pJ.STAIRCASE_SLAB,id:"LIST"}]):[{type:g.pJ.STAIRCASE_SLAB,id:"LIST"}]}}),addStaircaseSlab:e.mutation({query:function(e){return{url:Ql,method:"POST",data:e}},invalidatesTags:[{type:g.pJ.STAIRCASE_SLAB,id:"LIST"}]}),getStaircaseSlab:e.query({query:function(e){return"".concat(Ql).concat(e)},providesTags:function(e,t,l){return[{type:g.pJ.STAIRCASE_SLAB,id:l}]}}),updateStaircaseSlab:e.mutation({query:function(e){return{url:"".concat(Ql),method:"POST",data:e}},invalidatesTags:function(e){return[{type:g.pJ.STAIRCASE_SLAB,id:null===e||void 0===e?void 0:e.key}]}}),deleteStaircaseSlab:e.mutation({query:function(e){return{url:"".concat(Ql).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:g.pJ.STAIRCASE_SLAB,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),Ml=Bl.useAddStaircaseSlabMutation,Wl=Bl.useDeleteStaircaseSlabMutation,Zl=Bl.useGetStaircaseSlabQuery,Dl=Bl.useListStaircaseSlabQuery,Vl=Bl.useUpdateStaircaseSlabMutation,Hl=(Bl.useGetErrorProneQuery,"Staircase Slab"),Ul=function(e,t,l,n){return new(l||(l=Promise))((function(a,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function o(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(r,o)}c((n=n.apply(e,t||[])).next())}))},Jl=function(e){var t=(0,i.pm)(),l=t.showSuccess,o=t.showError,c=(0,n.useState)(!1),s=(0,u.Z)(c,2),y=s[0],b=s[1],h=(0,n.useState)({}),N=(0,u.Z)(h,2),k=N[0],L=N[1],w=(0,a.s0)(),S=(0,a.UO)().id,_=parseInt(S||""),j=isNaN(_)||_<=0,O=(0,n.useRef)(),T=(0,a.TH)().state;!T&&j&&w("/estimation/staircaseslab");var A=(0,g.ft)(),x=Zl(_,{skip:j,refetchOnMountOrArgChange:!0}),C=x.data,q=x.isLoading,P=(0,g.JB)(),I=P.data,K=P.isLoading,R=(0,g.cQ)({projectId:null===T||void 0===T?void 0:T.projectKey},{skip:!(null===T||void 0===T?void 0:T.projectKey)}),F=R.data,Q=(R.isLoading,(0,g.DY)({})),B=Q.data,M=(Q.isLoading,Ml()),W=(0,u.Z)(M,2),Z=W[0],D=W[1].isLoading,V=Vl(),H=(0,u.Z)(V,2),U=H[0],J=H[1].isLoading;(0,n.useEffect)((function(){L(C||Object.assign(Object.assign({},A),{proj_key:null===T||void 0===T?void 0:T.projectKey,projblk_key:null===T||void 0===T?void 0:T.blockKey}))}),[C]);return n.createElement(n.Fragment,null,n.createElement(i.Rm,{baseRoute:"/estimation/staircaseslab",description:Hl,id:_,data:k,isUpdating:D||J||y,ref:O,isLoading:q,onSubmit:function(e){return Ul(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n,a;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=Object.assign({},e),console.log(a),!j){t.next=9;break}return t.next=6,Z(Object.assign(Object.assign({},a),A)).unwrap();case 6:n=t.sent,t.next=12;break;case 9:return t.next=11,U(Object.assign(Object.assign(Object.assign({},a),A),{key:null===C||void 0===C?void 0:C.key})).unwrap();case 11:n=t.sent;case 12:l("Success",n.detail),b(!0),setTimeout((function(){w("/estimation/staircaseslab")}),g.P7),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),o("An error occurred","We couldn't save your post, try again!");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))},renderForm:function(e,t,l,a){var o,c,s,d,u,y,g,b;return n.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},n.createElement(i.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:l,isLoading:K,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:I}}}),n.createElement(i.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:l,leftSpan:4,rightSpan:6,formItem:{component:E.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===F||void 0===F?void 0:F.results}}}),n.createElement("div",{className:"col-10 md:col-1"},n.createElement(f.z,{disabled:!0,label:"Clear"})),n.createElement(p.i,null),n.createElement(i.Wi,{label:"Component Name",className:"col-12",name:"name",control:e,errors:l,leftSpan:2,rightSpan:4,formItem:{component:v.o,componentProps:{maxLength:100}}}),n.createElement(i.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:l,leftSpan:2,rightSpan:6,formItem:{component:v.o,componentProps:{maxLength:100}}}),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3",style:{paddingLeft:0}},"Base Quantity / UOM"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"base_qty",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(o=null===l||void 0===l?void 0:l.base_qty)||void 0===o?void 0:o.message)),n.createElement("span",{className:"inputgroup-divider"},"/"),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"uom_key",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(c=null===l||void 0===l?void 0:l.uom_key)||void 0===c?void 0:c.message)),n.createElement("div",{className:"col-6"})),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("div",{className:"col-8"}),n.createElement("div",{className:"col-4",style:{margin:"auto"}},n.createElement("label",{style:{display:"flex",justifyContent:"center"}},"Target Quantity / UOM"))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Brickwork"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(s=null===l||void 0===l?void 0:l.body_rock)||void 0===s?void 0:s.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"4 inch",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(d=null===l||void 0===l?void 0:l.b_value)||void 0===d?void 0:d.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Staircase Rod Pack"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(u=null===l||void 0===l?void 0:l.body_rock)||void 0===u?void 0:u.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"28.0 X 5.0 X 0.3 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(y=null===l||void 0===l?void 0:l.b_value)||void 0===y?void 0:y.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),n.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},n.createElement("label",{className:"col-3"},"Slab RCC"),n.createElement("div",{className:"input-field col-3"},n.createElement(m.Qr,{name:"body_rock",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(E.L,Object.assign({id:t.name},t,{style:{width:"100%"},className:(0,r.AK)({"p-invalid":l.invalid}),optionValue:"key",optionLabel:"descr",options:null===B||void 0===B?void 0:B.results}))}}),(0,i.Hb)(null===(g=null===l||void 0===l?void 0:l.body_rock)||void 0===g?void 0:g.message)),n.createElement("div",{className:"col-3",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",value:"8.0 X 6.0 X 0.3 FEET",disabled:!0})),n.createElement("div",{className:"input-field col-1"},n.createElement(m.Qr,{name:"b_value",control:e,rules:{required:"required."},render:function(e){var t=e.field,l=e.fieldState;return n.createElement(v.o,Object.assign({style:{width:"100%"},id:t.name},t,{className:(0,r.AK)({"p-invalid":l.invalid})}))}}),(0,i.Hb)(null===(b=null===l||void 0===l?void 0:l.b_value)||void 0===b?void 0:b.message)),n.createElement("div",{className:"col-1",style:{marginLeft:5}},n.createElement(v.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))))}}))},zl=function(e){var t=Wl(),l=(0,u.Z)(t,2),a=l[0],o=l[1].isLoading,c=(0,n.useState)(null),s=(0,u.Z)(c,2),d=s[0],m=s[1],v=(0,n.useState)(null),y=(0,u.Z)(v,2),b=y[0],h=y[1],N=(0,g.dx)({}).data,k=(0,g.cQ)({projectId:d},{skip:!d}),L=k.data,w=(k.isLoading,Dl({projectId:d,blockId:b},{skip:!d||!b})),S=w.data,_=w.isLoading;return n.createElement(n.Fragment,null,n.createElement("div",{className:"flex"},n.createElement("h3",{className:(0,r.AK)("m-0 my-auto")},Hl),n.createElement(R.rU,{to:{pathname:"/estimation/staircaseslab/new"},state:{projectKey:d,blockKey:b},style:{textDecoration:"none",marginRight:"auto"}},n.createElement(f.z,{disabled:!1,label:"Add",className:"ml-3"}))),n.createElement(p.i,null),n.createElement("div",{className:"pl-5 flex"},n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Project"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:d,filter:!0,filterBy:"name",onChange:function(e){m(e.value),h(null)},options:null===N||void 0===N?void 0:N.results})),n.createElement("div",{className:"field",style:{width:"40%"}},n.createElement("label",{className:(0,r.AK)("col-3")},"Block"),n.createElement(E.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:b,filter:!0,filterBy:"descr",onChange:function(e){h(e.value)},options:null===L||void 0===L?void 0:L.results})),n.createElement("div",{className:"field",style:{width:"20%"}},n.createElement(f.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),h(null)}}))),n.createElement(p.i,null),n.createElement(i.PS,{baseRoute:"/estimation/staircaseslab",description:Hl,isLoading:_||o,data:null===S||void 0===S?void 0:S.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return a(e).unwrap()}},n.createElement(i._P,{field:"name",header:"Component Name",filteringType:"text"}),n.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"}),n.createElement(i._P,{field:"uom",header:"Base UOM",filteringType:"text"})))},Gl=n.createElement(a.AW,{path:"staircaseslab"},n.createElement(a.AW,{path:"new",element:n.createElement(Jl,null)}),n.createElement(a.AW,{path:":id/edit",element:n.createElement(Jl,null)}),n.createElement(a.AW,{index:!0,element:n.createElement(zl,null)})),Xl=function(){return n.createElement(a.Z5,null,n.createElement(a.AW,{path:"/",element:n.createElement(i.SV,{panelMenu:!0,navItems:s})},n.createElement(a.AW,{index:!0,element:n.createElement(a.Fg,{to:j,replace:!0})}),B,ee,ve,_e,Fe,Ge,ct,ht,Ct,Dt,ll,vl,_l,Fl,Gl,n.createElement(a.AW,{path:":page/comming-soon",element:n.createElement(i.hg,null)}),n.createElement(a.AW,{path:"*",element:n.createElement(i.EN,{relative:!0})})))}},8356:function(e,t,l){l.d(t,{i:function(){return r}});var n=l(969),a=l(4756);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e},i.apply(this,arguments)}var r=n.forwardRef((function(e,t){var l="horizontal"===e.layout,o="vertical"===e.layout,c=a.gb.findDiffKeys(e,r.defaultProps),s=(0,a.AK)("p-divider p-component p-divider-".concat(e.layout," p-divider-").concat(e.type),{"p-divider-left":l&&(!e.align||"left"===e.align),"p-divider-right":l&&"right"===e.align,"p-divider-center":l&&"center"===e.align||o&&(!e.align||"center"===e.align),"p-divider-top":o&&"top"===e.align,"p-divider-bottom":o&&"bottom"===e.align},e.className);return n.createElement("div",i({className:s,style:e.style,role:"separator"},c),n.createElement("div",{className:"p-divider-content"},e.children))}));r.displayName="Divider",r.defaultProps={__TYPE:"Divider",align:null,layout:"horizontal",type:"solid",style:null,className:null}}}]);
//# sourceMappingURL=291.b5224a81.chunk.js.map