"use strict";(self.webpackChunkbuild_iq_app=self.webpackChunkbuild_iq_app||[]).push([[593],{3069:function(e,t,n){n.r(t),n.d(t,{default:function(){return _t}});var r=n(969),a=n(734),i=n(2035),o="inventory",c="Inventory",u=function(e,t){return(0,i.E7)("/".concat(o,"/").concat(e)+(t?"/comming-soon":""))},l=[{items:[{label:"Item",icon:"pi ml-3",template:u("items")},{label:"UOM",icon:"pi ml-3",template:u("uoms")},{label:"Item Type",icon:"pi ml-3",template:u("itemtypes")},{label:"Item Sub Type",icon:"pi ml-3",template:u("itemsubtypes")},{label:"Manufacturer",icon:"pi ml-3",template:u("manufacturers")}]}],s=n(2723),d=n(6234),p=n(7765),m=n(8224),f=n(6770),y=n(8103),v=n(8079),g=n(1495),E=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},h="/inventory/item/",T=g.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listItems:e.query({query:function(e){var t=e.page,n=e.size,r=e.type;return{url:(0,g.DS)(h,"?page=".concat(t||1,"&page_size=").concat(n||g.IV).concat(r?"&item_type=".concat(r):""))}},providesTags:function(e){var t;return e?[].concat((0,v.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:g.pJ.INVENTORY_ITEM,id:t}}))),[{type:g.pJ.INVENTORY_ITEM,id:"LIST"}]):[{type:g.pJ.INVENTORY_ITEM,id:"LIST"}]}}),addItems:e.mutation({query:function(e){return{url:h,method:"POST",body:e}},invalidatesTags:[{type:g.pJ.INVENTORY_ITEM,id:"LIST"}]}),getItems:e.query({query:function(e){return"".concat(h).concat(e)},providesTags:function(e,t,n){return[{type:g.pJ.INVENTORY_ITEM,id:n}]}}),updateItems:e.mutation({query:function(e){var t=e.key,n=E(e,["key"]);return{url:"".concat(h).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:g.pJ.INVENTORY_ITEM,id:null===e||void 0===e?void 0:e.id}]}}),deleteItems:e.mutation({query:function(e){return{url:"".concat(h).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:g.pJ.INVENTORY_ITEM,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),b=T.useAddItemsMutation,S=T.useDeleteItemsMutation,I=T.useGetItemsQuery,O=T.useListItemsQuery,P=T.useUpdateItemsMutation,w=(T.useGetErrorProneQuery,T.endpoints.getItems,"items"),N="Item",L=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},x="/inventory/item_subtype/",_=g.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listItemSubTypes:e.query({query:function(e){var t=e.page,n=e.size,r=e.type;return{url:(0,g.DS)(x,"?page=".concat(t||1,"&page_size=").concat(n||g.IV).concat(r?"&type=".concat(r):""))}},providesTags:function(e){var t;return e?[].concat((0,v.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:g.pJ.INVENTORY_ITEM_SUB_TYPE,id:t}}))),[{type:g.pJ.INVENTORY_ITEM_SUB_TYPE,id:"LIST"}]):[{type:g.pJ.INVENTORY_ITEM_SUB_TYPE,id:"LIST"}]}}),getAll:e.mutation({query:function(e){var t=e.page,n=e.size;return{url:(0,g.DS)(x,"?page=".concat(t||1,"&page_size=").concat(n||g.IV))}},invalidatesTags:function(e){var t;return e?[].concat((0,v.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:g.pJ.INVENTORY_ITEM_SUB_TYPE,id:t}}))),[{type:g.pJ.INVENTORY_ITEM_SUB_TYPE,id:"LIST"}]):[{type:g.pJ.INVENTORY_ITEM_SUB_TYPE,id:"LIST"}]}}),addItemSubTypes:e.mutation({query:function(e){return{url:x,method:"POST",body:e}},invalidatesTags:[{type:g.pJ.INVENTORY_ITEM_SUB_TYPE,id:"LIST"}]}),getItemSubTypes:e.query({query:function(e){return"".concat(x).concat(e)},providesTags:function(e,t,n){return[{type:g.pJ.INVENTORY_ITEM_SUB_TYPE,id:n}]}}),updateItemSubTypes:e.mutation({query:function(e){var t=e.key,n=L(e,["key"]);return{url:"".concat(x).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:g.pJ.INVENTORY_ITEM_SUB_TYPE,id:null===e||void 0===e?void 0:e.id}]}}),deleteItemSubTypes:e.mutation({query:function(e){return{url:"".concat(x).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:g.pJ.INVENTORY_ITEM_SUB_TYPE,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),M=_.useAddItemSubTypesMutation,k=_.useDeleteItemSubTypesMutation,Z=_.useGetItemSubTypesQuery,U=_.useListItemSubTypesQuery,R=_.useUpdateItemSubTypesMutation,A=(_.useGetErrorProneQuery,_.useGetAllMutation,_.endpoints.getItemSubTypes,n(4576)),q=(0,r.forwardRef)((function(e,t){var n=e.data,a=e.isLoading,o=e.disableTable,c=void 0!==o&&o,u=e.onChange,l=void 0===u?function(){}:u,s=(0,r.useState)([]),p=(0,d.Z)(s,2),m=p[0],y=p[1],v=(0,r.useRef)(m);(0,r.useImperativeHandle)(t,(function(){return{getItems:function(){return m}}})),(0,r.useEffect)((function(){y(n),v.current=n}),[n]);return r.createElement(i.PS,{baseRoute:"/purchase/".concat(w),description:N,isLoading:a,data:m,newTable:!0,tableLayoutClass:"h-full",allowFilters:!1,hideActionColumn:c,actionBodyTemplate:function(e){return r.createElement(f.z,{style:{height:"35px",width:"20px",marginLeft:20},type:"button",onClick:function(){(0,A.V)({message:"Are you sure you want to Delete Item?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){return function(e){var t=v.current.filter((function(t){return t!==e}));v.current=t,y(t)}(e)},reject:function(){}})},className:"p-button-rounded p-button-text",icon:"pi pi-trash"})},gridProps:{allowAdd:!0,disableAdd:!function(e){if(0===e.length)return!0;var t=e[e.length-1];return(null===t||void 0===t?void 0:t.name)&&(null===t||void 0===t?void 0:t.value)}(m),OnRowsChanged:function(e){var t=e;y(t),v.current=t,l(!0)}}},r.createElement(i._P,{field:"name",header:"Specification Parameter",editorType:"text"}),r.createElement(i._P,{field:"value",header:"Value",editorType:"text"}))})),V=n(9459),W=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function c(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}u((r=r.apply(e,t||[])).next())}))},j=function(e){var t=(0,i.pm)(),n=t.showSuccess,c=t.showError,u=(0,r.useState)(!1),l=(0,d.Z)(u,2),v=l[0],E=l[1],h=(0,r.useState)(!1),T=(0,d.Z)(h,2),S=T[0],O=T[1],L=(0,r.useState)(""),x=(0,d.Z)(L,2),_=x[0],M=x[1],k=(0,a.s0)(),U=(0,a.UO)().id,R=(0,a.TH)().state,A=parseInt(U||""),j=isNaN(A)||A<=0,Y=(0,r.useRef)(),C=(0,r.useState)(!1),J=(0,d.Z)(C,2),G=J[0],F=J[1],D=(0,g.ft)(),z=I(A,{skip:j}),B=z.data,Q=z.isLoading,H=(0,r.useState)(null===B||void 0===B?void 0:B.specification),$=(0,d.Z)(H,2),K=$[0],X=$[1],ee=b(),te=(0,d.Z)(ee,2),ne=te[0],re=te[1].isLoading,ae=P(),ie=(0,d.Z)(ae,2),oe=ie[0],ce=ie[1].isLoading,ue=(0,r.useState)(null),le=(0,d.Z)(ue,2),se=le[0],de=le[1],pe=(0,r.useState)(null),me=(0,d.Z)(pe,2),fe=me[0],ye=me[1],ve=(0,g.DU)(),ge=ve.data,Ee=ve.isFetching,he=(0,g.yt)(se,{skip:!se}),Te=he.data,be=he.isFetching,Se=(0,g.U$)(se,{skip:!se}).data,Ie=Z(fe,{skip:!fe}).data,Oe=(0,g._1)(se,{skip:!se}),Pe=Oe.data,we=Oe.isFetching,Ne=(0,r.useState)([]),Le=(0,d.Z)(Ne,2),xe=Le[0],_e=Le[1];(0,r.useEffect)((function(){R&&(de(null===R||void 0===R?void 0:R.itemtype),ye(null===R||void 0===R?void 0:R.itemsubtype))}),[]),(0,r.useEffect)((function(){B&&(B.specification&&X(B.specification),de(B.itemtyp_key),M(B.descr))}),[B]),(0,r.useEffect)((function(){var e;if(Se&&B){var t=null===(e=null===B||void 0===B?void 0:B.itemuoms)||void 0===e?void 0:e.split("|").map((function(e){return parseInt(e)})),n=null===Se||void 0===Se?void 0:Se.filter((function(e){return t.includes(e.key)}));_e(n)}}),[Se]),(0,r.useEffect)((function(){var e,t;if(Ie){var n=null===(e=null===Ie||void 0===Ie?void 0:Ie.spec_param)||void 0===e?void 0:e.split("|").map((function(e){return{name:e}}));X(n||[]);var r=null===(t=null===Ie||void 0===Ie?void 0:Ie.uom_keys)||void 0===t?void 0:t.split("|").map((function(e){return parseInt(e)})),a=null===Se||void 0===Se?void 0:Se.filter((function(e){return r.includes(e.key)}));_e(a)}}),[Ie]);return r.createElement(r.Fragment,null,r.createElement(i.Rm,{baseRoute:"/".concat(o,"/").concat(w),description:N,id:A,data:B,isUpdating:re||ce||v,isLoading:Q,onSubmit:function(e){return W(void 0,void 0,void 0,(0,s.Z)().mark((function t(){var r,a,i,u,l;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,u=null===(r=Y.current)||void 0===r?void 0:r.getItems(),l=Object.assign(Object.assign(Object.assign(Object.assign({},e),{specification:u}),D),{stocktype:"I",itemuoms:null===xe||void 0===xe?void 0:xe.map((function(e){return e.key})).join("|")}),!j){t.next=9;break}return t.next=6,ne(l).unwrap();case 6:i=t.sent,t.next=12;break;case 9:return t.next=11,oe(l).unwrap();case 11:i=t.sent;case 12:n("Success",i.detail),E(!0),setTimeout((function(){k("/".concat(o,"/").concat(w))}),g.P7),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),c("An error occurred",(null===(a=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===a?void 0:a.detail)||"We couldn't save your post, try again!");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))},renderForm:function(e,t,n,a,o){var u;return r.createElement("div",{className:"pl-8 pt-4 pb-3 grid p-fluid"},r.createElement(i.Wi,{label:"Item Type",name:"itemtyp_key",className:"col-12 md:col-6",control:e,errors:n,isLoading:Ee,required:!0,leftSpan:4,rightSpan:6,useExplicit:!0,onChange:function(e){_e([]),de(e.value),ye(""),o("subtype",""),o("gst","")},formItem:{component:m.L,componentProps:{optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",value:se,disabled:null===R||void 0===R?void 0:R.itemtype,options:ge}}}),r.createElement(i.Wi,{label:"Item Sub Type",name:"subtype",className:"col-12 md:col-6",control:e,errors:n,isLoading:be,required:!0,leftSpan:4,rightSpan:6,useExplicit:!0,onChange:function(e){ye(e.value);var t=null===Te||void 0===Te?void 0:Te.filter((function(t){return t.key===e.value}))[0];o("gst",(null===t||void 0===t?void 0:t.gst)||"")},formItem:{component:m.L,componentProps:{optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:Te,disabled:null===R||void 0===R?void 0:R.itemsubtype,value:fe}}}),r.createElement(i.Wi,{label:"GST (%)",name:"gst",className:"col-12",control:e,errors:n,required:!0,leftSpan:2,rightSpan:3,formItem:{component:p.o,componentProps:{type:"number",min:0,max:100}}}),r.createElement(i.Wi,{label:"Item Description",name:"descr",className:"col-6 default",control:e,errors:n,required:!0,leftSpan:4,rightSpan:8,formItem:{component:p.o,componentProps:{maxLength:100,id:"item-descr",onFocus:function(e){O(!0)},onBlur:function(e){var t;M(null===(t=null===e||void 0===e?void 0:e.target)||void 0===t?void 0:t.defaultValue),O(!1)},style:{marginLeft:"2.5px"}}}}),!!_&&!S&&r.createElement(V.u,{mouseTrack:!0,mouseTrackLeft:10,target:"#item-descr",position:"top",content:_,className:"my-tooltip"}),r.createElement(f.z,{style:{width:"35%",marginBottom:25,marginTop:8},className:"col-12 md:col-6",label:"Generate Item Description",onClick:function(e){var t,n;e.preventDefault();var r=null===(t=Y.current)||void 0===t?void 0:t.getItems(),i=null===r||void 0===r?void 0:r.map((function(e){return"[".concat(e.value||0," ").concat(e.name||"","]")}));i=null===i||void 0===i?void 0:i.join(" ");var u=a(),l=null===(n=null===u||void 0===u?void 0:u.descr)||void 0===n?void 0:n.split("[")[0].trim(),s="",d=(null===u||void 0===u?void 0:u.model_number)?"[".concat((null===u||void 0===u?void 0:u.model_number)||"","]"):"",p=null===Pe||void 0===Pe?void 0:Pe.filter((function(e){return e.key===u.mfr_key}));(null===p||void 0===p?void 0:p.length)&&(s="[".concat(p[0].name,"]"));var m="".concat(l||""," ").concat(i," ").concat(s," ").concat(d);(m=m.trim())?(o("descr",m),M(m)):c("Enter Some Data","Nothing to Generate")}}),r.createElement(i.Wi,{label:"Model Number",name:"model_number",className:"col-12",control:e,errors:n,leftSpan:2,rightSpan:3,formItem:{component:p.o,componentProps:{maxLength:100}}}),r.createElement(i.Wi,{label:"Manufacturer",name:"mfr_key",className:"col-12",control:e,errors:n,isLoading:we,leftSpan:2,rightSpan:3,formItem:{component:m.L,componentProps:{optionLabel:"name",optionValue:"key",filter:!0,filterBy:"name",options:Pe}}}),r.createElement("div",{className:"flex",style:{width:"100%"}},r.createElement("div",{style:{width:"40%",marginRight:50,height:200}},r.createElement(q,{data:K||(null===(u=Y.current)||void 0===u?void 0:u.getItems())||[],isLoading:Q,ref:Y,onChange:function(e){return!G&&F(e)}})),r.createElement("div",{style:{width:"50%"}},r.createElement("div",{className:"w-full md:w-20rem",style:{border:" 2px solid #827f7f",backgroundColor:"#827f7f",height:"35px",display:"flex",marginRight:"auto",alignItems:"center",justifyContent:"center",fontWeight:"bold",color:"#fff"}},"UOMs"),r.createElement(y.N,{value:xe,onChange:function(e){return e.stopPropagation()},options:Se,optionLabel:"descr",display:"chip",disabled:!0,placeholder:"Selected Subtype's UOMs",className:"w-full md:w-20rem"}))))}}))},Y=n(8356),C=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},J="/inventory/item_type/",G=g.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listItemTypes:e.query({query:function(e){var t=e.page,n=e.size;return{url:(0,g.DS)(J,"?page=".concat(t||1,"&page_size=").concat(n||g.IV))}},providesTags:function(e){var t;return e?[].concat((0,v.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:g.pJ.INVENTORY_ITEMTYPE,id:t}}))),[{type:g.pJ.INVENTORY_ITEMTYPE,id:"LIST"}]):[{type:g.pJ.INVENTORY_ITEMTYPE,id:"LIST"}]}}),addItemTypes:e.mutation({query:function(e){return{url:J,method:"POST",body:e}},invalidatesTags:[{type:g.pJ.INVENTORY_ITEMTYPE,id:"LIST"}]}),getItemTypes:e.query({query:function(e){return"".concat(J).concat(e)},providesTags:function(e,t,n){return[{type:g.pJ.INVENTORY_ITEMTYPE,id:n}]}}),updateItemTypes:e.mutation({query:function(e){var t=e.key,n=C(e,["key"]);return{url:"".concat(J).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:g.pJ.INVENTORY_ITEMTYPE,id:null===e||void 0===e?void 0:e.id}]}}),deleteItemTypes:e.mutation({query:function(e){return{url:"".concat(J).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:g.pJ.INVENTORY_ITEMTYPE,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),F=G.useAddItemTypesMutation,D=G.useDeleteItemTypesMutation,z=G.useGetItemTypesQuery,B=G.useListItemTypesQuery,Q=G.useUpdateItemTypesMutation,H=(G.useGetErrorProneQuery,G.endpoints.getItemTypes,function(e){var t=(0,r.useState)(1),n=(0,d.Z)(t,2),a=n[0],c=n[1],u=(0,r.useState)(g.IV),l=(0,d.Z)(u,2),s=l[0],p=l[1],f=(0,r.useState)({}),y=(0,d.Z)(f,2),E=(y[0],y[1]),h=(0,r.useState)(null),T=(0,d.Z)(h,2),b=T[0],I=T[1],P=(0,r.useState)(null),L=(0,d.Z)(P,2),x=L[0],_=L[1],M=(0,r.useState)([]),k=(0,d.Z)(M,2),Z=k[0],U=k[1],R=(0,r.useState)([]),A=(0,d.Z)(R,2),q=A[0],V=A[1],W=B({page:a,size:s}).data,j=(0,g.yt)(b,{skip:!b}),C=j.data,J=(j.isFetching,O({page:a,size:s,type:b})),G=J.data,F=J.isFetching,D=S(),z=(0,d.Z)(D,2),Q=z[0],H=z[1].isLoading;(0,r.useEffect)((function(){U([{key:null,descr:"All"}].concat((0,v.Z)((null===W||void 0===W?void 0:W.results)||[])))}),[W]),(0,r.useEffect)((function(){V([{key:null,descr:"All"}].concat((0,v.Z)(C||[])))}),[C]);return r.createElement(r.Fragment,null,r.createElement(Y.i,null),r.createElement("div",{className:"flex",style:{width:"100%"}},r.createElement("div",{className:"field col-5"},r.createElement("label",{className:"col-3"},"Item Type"),r.createElement(m.L,{style:{width:"30%"},value:b,onChange:function(e){I(e.value)},options:Z,placeholder:"All",optionLabel:"descr",optionValue:"key"})),r.createElement("div",{className:"field flex col-7"},r.createElement("label",{className:"col-3"},"Item Sub Type"),r.createElement("div",{className:"col-9",style:{display:"flex",flexDirection:"column",paddingTop:0}},r.createElement(m.L,{style:{width:"30%"},value:x,onChange:function(e){_(e.value)},disabled:!b,options:q,placeholder:"All",optionLabel:"descr",optionValue:"key"}),!b&&r.createElement("small",null,"Select an Item Type to Enable")))),r.createElement(i.PS,{pagination:{pageSize:s,loading:F,currentPage:a,total:null===G||void 0===G?void 0:G.count,onChange:function(e,t){c(e),p(t)}},filterOptions:{onChange:function(e){return E(e)}},addParams:{itemtype:b,itemsubtype:x},baseRoute:"/".concat(o,"/").concat(w),description:N,isLoading:F||H,data:null===G||void 0===G?void 0:G.results,deleteAction:function(e){return Q(e).unwrap()},newTable:!0,showHeader:!0},r.createElement(i._P,{field:"id",header:"Item Code",filteringType:"number"}),r.createElement(i._P,{field:"descr",header:"Item Description",filteringType:"text"}),r.createElement(i._P,{field:"uom",header:"UOM",filteringType:"text"}),r.createElement(i._P,{field:"spec_param",header:"Spec Param",displayValueGetter:function(e){var t;if(e)return null===(t=null===e||void 0===e?void 0:e.spec_param)||void 0===t?void 0:t.replace("|",",")},filteringType:"text"})))}),$=r.createElement(a.AW,{path:"items"},r.createElement(a.AW,{path:"new",element:r.createElement(j,null)}),r.createElement(a.AW,{path:":id/edit",element:r.createElement(j,null)}),r.createElement(a.AW,{index:!0,element:r.createElement(H,null)})),K=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},X="/inventory/warehouse/",ee=g.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listWarehouses:e.query({query:function(e){var t=e.page,n=e.size;return{url:(0,g.DS)(X,"?page=".concat(t||1,"&page_size=").concat(n||g.IV))}},providesTags:function(e){var t;return e?[].concat((0,v.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:g.pJ.WAREHOUSE,id:t}}))),[{type:g.pJ.WAREHOUSE,id:"LIST"}]):[{type:g.pJ.WAREHOUSE,id:"LIST"}]}}),addWarehouses:e.mutation({query:function(e){return{url:X,method:"POST",body:e}},invalidatesTags:[{type:g.pJ.WAREHOUSE,id:"LIST"}]}),getWarehouses:e.query({query:function(e){return"".concat(X).concat(e)},providesTags:function(e,t,n){return[{type:g.pJ.WAREHOUSE,id:n}]}}),updateWarehouses:e.mutation({query:function(e){var t=e.key,n=K(e,["key"]);return{url:"".concat(X).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:g.pJ.WAREHOUSE,id:null===e||void 0===e?void 0:e.id}]}}),deleteWarehouses:e.mutation({query:function(e){return{url:"".concat(X).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:g.pJ.WAREHOUSE,id:null===e||void 0===e?void 0:e.id}]}}),getStates:e.query({query:function(){return{url:"/geo/state/"}},providesTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[].concat((0,v.Z)(e.map((function(e){var t=e.state_key;return{type:g.pJ.STATES,id:t}}))),[{type:g.pJ.STATES,id:"LIST"}])}}),getCities:e.query({query:function(e){return{url:"/geo/city/?state=".concat(e)}},providesTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[].concat((0,v.Z)(e.map((function(e){var t=e.city_key;return{type:g.pJ.CITIES,id:t}}))),[{type:g.pJ.CITIES,id:"LIST"}])}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),te=ee.useAddWarehousesMutation,ne=ee.useDeleteWarehousesMutation,re=ee.useGetWarehousesQuery,ae=ee.useListWarehousesQuery,ie=ee.useUpdateWarehousesMutation,oe=(ee.useGetErrorProneQuery,ee.useGetCitiesQuery),ce=ee.useGetStatesQuery,ue=(ee.endpoints.getWarehouses,"warehouses"),le="Warehouse",se=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function c(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}u((r=r.apply(e,t||[])).next())}))},de=function(e){var t=(0,i.pm)(),n=t.showSuccess,c=t.showError,u=(0,r.useState)(!1),l=(0,d.Z)(u,2),y=l[0],v=l[1],E=(0,a.s0)(),h=(0,a.UO)().id,T=parseInt(h||""),b=isNaN(T)||T<=0,S=(0,r.useState)(""),I=(0,d.Z)(S,2),O=I[0],P=I[1],w=(0,g.ft)(),N=ce(),L=N.data,x=N.isFetching,_=oe(O),M=_.data,k=_.isFetching,Z=re(T,{skip:b}),U=Z.data,R=Z.isLoading,A=te(),q=(0,d.Z)(A,2),V=q[0],W=q[1].isLoading,j=ie(),Y=(0,d.Z)(j,2),C=Y[0],J=Y[1].isLoading;return r.createElement(r.Fragment,null,r.createElement(i.Rm,{baseRoute:"/".concat(o,"/").concat(ue),description:le,id:T,data:U,isUpdating:W||J||y,isLoading:R,onSubmit:function(e){return se(void 0,void 0,void 0,(0,s.Z)().mark((function t(){var r,a;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!b){t.next=7;break}return t.next=4,V(Object.assign(Object.assign({},e),w)).unwrap();case 4:a=t.sent,t.next=10;break;case 7:return t.next=9,C(Object.assign(Object.assign({},e),w)).unwrap();case 9:a=t.sent;case 10:n("Success",a.detail),v(!0),setTimeout((function(){E("/".concat(o,"/").concat(ue))}),g.P7),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),c("An error occurred",(null===(r=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===r?void 0:r.detail)||"We couldn't save your post, try again!");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))},renderForm:function(e,t,n){return r.createElement("div",{className:"flex"},r.createElement("div",{className:"pl-8 pt-4 pb-3 grid p-fluid"},r.createElement(i.Wi,{label:"Warehouse Name",name:"name",className:"col-12",control:e,errors:n,required:"Enter Name",leftSpan:3,rightSpan:5,formItem:{component:p.o,componentProps:{maxLength:100}}}),r.createElement(i.Wi,{label:"Address Line 1",name:"addr1",className:"col-12",control:e,errors:n,leftSpan:3,rightSpan:5,formItem:{component:p.o,componentProps:{maxLength:100}}}),r.createElement(i.Wi,{label:"Address Line 2",name:"addr2",className:"col-12",control:e,errors:n,leftSpan:3,rightSpan:5,formItem:{component:p.o,componentProps:{maxLength:100}}}),r.createElement(i.Wi,{label:"State",name:"state_key",className:"col-12",control:e,errors:n,isLoading:x,required:"Select a State",leftSpan:3,rightSpan:3,useExplicit:!0,onChange:function(e){P(e.value)},formItem:{component:m.L,componentProps:{showClear:!0,optionLabel:"name",optionValue:"key",filter:!0,filterBy:"name",options:L}}}),r.createElement(i.Wi,{label:"City",name:"city_key",className:"col-12",control:e,errors:n,isLoading:k,required:"Select a City",leftSpan:3,rightSpan:3,formItem:{component:m.L,componentProps:{showClear:!0,optionLabel:"name",optionValue:"key",filter:!0,filterBy:"name",options:M}}})),r.createElement("div",{className:"col-2",style:{marginTop:25}},r.createElement("div",null,r.createElement(f.z,{onClick:function(e){return e.preventDefault()},label:"Contact",className:"project-page-tags",style:{width:"100%"}}))))}}))},pe=function(e){var t=(0,r.useState)(1),n=(0,d.Z)(t,2),a=n[0],c=n[1],u=(0,r.useState)(g.IV),l=(0,d.Z)(u,2),s=l[0],p=l[1],m=ae({page:a,size:s}),f=m.data,y=m.isFetching,v=ne(),E=(0,d.Z)(v,2),h=E[0],T=E[1].isLoading;return r.createElement(i.PS,{pagination:{pageSize:s,loading:y,currentPage:a,total:null===f||void 0===f?void 0:f.count,onChange:function(e,t){c(e),p(t)}},baseRoute:"/".concat(o,"/").concat(ue),description:le,isLoading:y||T,data:null===f||void 0===f?void 0:f.results,deleteAction:function(e){return h(e).unwrap()},newTable:!0,showHeader:!0},r.createElement(i._P,{field:"id",header:"Warehouse Code",filteringType:"number"}),r.createElement(i._P,{field:"name",header:"Warehouse Name",filteringType:"text"}),r.createElement(i._P,{field:"addr1",header:"Address",filteringType:"text"}))},me=r.createElement(a.AW,{path:"warehouses"},r.createElement(a.AW,{path:"new",element:r.createElement(de,null)}),r.createElement(a.AW,{path:":id/edit",element:r.createElement(de,null)}),r.createElement(a.AW,{index:!0,element:r.createElement(pe,null)})),fe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},ye="/inventory/manufacturer/",ve=g.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listManufacturers:e.query({query:function(e){var t=e.page,n=e.size,r=e.type;return{url:(0,g.DS)(ye,"?page=".concat(t||1,"&page_size=").concat(n||g.IV).concat(r?"&type=".concat(r):""))}},providesTags:function(e){var t;return e?[].concat((0,v.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:g.pJ.INVENTORY_MFGR,id:t}}))),[{type:g.pJ.INVENTORY_MFGR,id:"LIST"}]):[{type:g.pJ.INVENTORY_MFGR,id:"LIST"}]}}),addManufacturers:e.mutation({query:function(e){return{url:ye,method:"POST",body:e}},invalidatesTags:[{type:g.pJ.INVENTORY_MFGR,id:"LIST"}]}),getManufacturers:e.query({query:function(e){return"".concat(ye).concat(e)},providesTags:function(e,t,n){return[{type:g.pJ.INVENTORY_MFGR,id:n}]}}),updateManufacturers:e.mutation({query:function(e){var t=e.key,n=fe(e,["key"]);return{url:"".concat(ye).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:g.pJ.INVENTORY_MFGR,id:null===e||void 0===e?void 0:e.id}]}}),deleteManufacturers:e.mutation({query:function(e){return{url:"".concat(ye).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:g.pJ.INVENTORY_MFGR,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),ge=ve.useAddManufacturersMutation,Ee=ve.useDeleteManufacturersMutation,he=ve.useGetManufacturersQuery,Te=ve.useListManufacturersQuery,be=ve.useUpdateManufacturersMutation,Se=(ve.useGetErrorProneQuery,ve.endpoints.getManufacturers,"manufacturers"),Ie="Manufacturer",Oe=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function c(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}u((r=r.apply(e,t||[])).next())}))},Pe=function(e){var t=(0,i.pm)(),n=t.showSuccess,c=t.showError,u=(0,r.useState)(!1),l=(0,d.Z)(u,2),f=l[0],y=l[1],v=(0,a.s0)(),E=(0,a.UO)().id,h=parseInt(E||""),T=isNaN(h)||h<=0,b=(0,g.ft)(),S=he(h,{skip:T}),I=S.data,O=S.isLoading,P=ge(),w=(0,d.Z)(P,2),N=w[0],L=w[1].isLoading,x=be(),_=(0,d.Z)(x,2),M=_[0],k=_[1].isLoading,Z=B({}),U=Z.data,R=Z.isFetching;return r.createElement(r.Fragment,null,r.createElement(i.Rm,{baseRoute:"/".concat(o,"/").concat(Se),description:Ie,id:h,data:I,isUpdating:L||k||f,isLoading:O,onSubmit:function(e){return Oe(void 0,void 0,void 0,(0,s.Z)().mark((function t(){var r,a;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!T){t.next=7;break}return t.next=4,N(Object.assign(Object.assign({},e),b)).unwrap();case 4:a=t.sent,t.next=10;break;case 7:return t.next=9,M(Object.assign(Object.assign({},e),b)).unwrap();case 9:a=t.sent;case 10:n("Success",a.detail),y(!0),setTimeout((function(){v("/".concat(o,"/").concat(Se))}),g.P7),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),c("An error occurred",(null===(r=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===r?void 0:r.detail)||"We couldn't save your post, try again!");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))},renderForm:function(e,t,n){return r.createElement("div",{className:"pl-8 pt-4 pb-3 grid p-fluid"},r.createElement(i.Wi,{label:"Manufacturer Name",name:"name",className:"col-12",control:e,errors:n,required:"Enter Name",leftSpan:2,rightSpan:5,formItem:{component:p.o,componentProps:{maxLength:100}}}),r.createElement(i.Wi,{label:"Item Type",name:"itemtyp_key",className:"col-12",control:e,errors:n,isLoading:R,required:"Select an Item",leftSpan:2,rightSpan:5,formItem:{component:m.L,componentProps:{showClear:!0,optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:null===U||void 0===U?void 0:U.results}}}))}}))},we=function(e){var t=(0,r.useState)(1),n=(0,d.Z)(t,2),a=n[0],c=n[1],u=(0,r.useState)(g.IV),l=(0,d.Z)(u,2),s=l[0],p=l[1],f=(0,r.useState)(null),y=(0,d.Z)(f,2),E=y[0],h=y[1],T=(0,r.useState)([]),b=(0,d.Z)(T,2),S=b[0],I=b[1],O=B({page:a,size:s}).data,P=Te({page:a,size:s,type:E}),w=P.data,N=P.isFetching,L=Ee(),x=(0,d.Z)(L,2),_=x[0],M=x[1].isLoading;return(0,r.useEffect)((function(){I([{key:null,descr:"All"}].concat((0,v.Z)((null===O||void 0===O?void 0:O.results)||[])))}),[O]),r.createElement(r.Fragment,null,r.createElement(Y.i,null),r.createElement("div",{className:"field"},r.createElement("label",{className:"col-2"},"Item Type"),r.createElement(m.L,{style:{width:"30%"},value:E,onChange:function(e){h(e.value)},options:S,placeholder:"All",optionLabel:"descr",optionValue:"key"})),r.createElement(i.PS,{pagination:{pageSize:s,loading:N,currentPage:a,total:null===w||void 0===w?void 0:w.count,onChange:function(e,t){c(e),p(t)}},baseRoute:"/".concat(o,"/").concat(Se),description:Ie,isLoading:N||M,data:null===w||void 0===w?void 0:w.results,deleteAction:function(e){return _(e).unwrap()},newTable:!0,showHeader:!0},r.createElement(i._P,{field:"id",header:"Manufacturer Code",filteringType:"number"}),r.createElement(i._P,{field:"name",header:"Manufacturer Name",filteringType:"text"}),r.createElement(i._P,{field:"itemtyp.descr",header:"Item Type",filteringType:"text"})))},Ne=r.createElement(a.AW,{path:"manufacturers"},r.createElement(a.AW,{path:"new",element:r.createElement(Pe,null)}),r.createElement(a.AW,{path:":id/edit",element:r.createElement(Pe,null)}),r.createElement(a.AW,{index:!0,element:r.createElement(we,null)})),Le=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},xe="/inventory/item_uom/",_e=g.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listUOMs:e.query({query:function(e){var t=e.page,n=e.size,r=e.type;return{url:(0,g.DS)(xe,"?page=".concat(t||1,"&page_size=").concat(n||g.IV).concat(r?"&type=".concat(r):""))}},providesTags:function(e){var t;return e?[].concat((0,v.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:g.pJ.UOM,id:t}}))),[{type:g.pJ.UOM,id:"LIST"}]):[{type:g.pJ.UOM,id:"LIST"}]}}),addUOMs:e.mutation({query:function(e){return{url:xe,method:"POST",body:e}},invalidatesTags:[{type:g.pJ.UOM,id:"LIST"}]}),getUOMs:e.query({query:function(e){return"".concat(xe).concat(e)},providesTags:function(e,t,n){return[{type:g.pJ.UOM,id:n}]}}),updateUOMs:e.mutation({query:function(e){var t=e.key,n=Le(e,["key"]);return{url:"".concat(xe).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:g.pJ.UOM,id:null===e||void 0===e?void 0:e.id}]}}),deleteUOMs:e.mutation({query:function(e){return{url:"".concat(xe).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:g.pJ.UOM,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),Me=_e.useAddUOMsMutation,ke=_e.useDeleteUOMsMutation,Ze=_e.useGetUOMsQuery,Ue=_e.useListUOMsQuery,Re=_e.useUpdateUOMsMutation,Ae=(_e.useGetErrorProneQuery,_e.endpoints.getUOMs,"uoms"),qe=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function c(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}u((r=r.apply(e,t||[])).next())}))},Ve=function(e){var t=(0,i.pm)(),n=t.showSuccess,c=t.showError,u=(0,r.useState)(!1),l=(0,d.Z)(u,2),f=l[0],y=l[1],v=(0,a.s0)(),E=(0,a.UO)().id,h=parseInt(E||""),T=isNaN(h)||h<=0,b=(0,g.ft)(),S=Ze(h,{skip:T}),I=S.data,O=S.isLoading,P=Ue({}),w=(P.data,P.isLoading,B({})),N=w.data,L=w.isFetching,x=Me(),_=(0,d.Z)(x,2),M=_[0],k=_[1].isLoading,Z=Re(),U=(0,d.Z)(Z,2),R=U[0],A=U[1].isLoading;return r.createElement(r.Fragment,null,r.createElement(i.Rm,{baseRoute:"/".concat(o,"/").concat(Ae),description:"UOM",id:h,data:I,isUpdating:k||A||f,isLoading:O,onSubmit:function(e){return qe(void 0,void 0,void 0,(0,s.Z)().mark((function t(){var r,a;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!T){t.next=7;break}return t.next=4,M(Object.assign(Object.assign({},e),b)).unwrap();case 4:a=t.sent,t.next=10;break;case 7:return t.next=9,R(Object.assign(Object.assign({},e),b)).unwrap();case 9:a=t.sent;case 10:n("Success",a.detail),y(!0),setTimeout((function(){v("/".concat(o,"/").concat(Ae))}),g.P7),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),c("An error occurred",(null===(r=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===r?void 0:r.detail)||"We couldn't save your post, try again!");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))},renderForm:function(e,t,n){return r.createElement("div",{className:"pl-8 pt-4 pb-3 grid p-fluid"},r.createElement(i.Wi,{label:"Item Type",name:"itemtyp_key",className:"col-12",control:e,errors:n,isLoading:L,required:!0,leftSpan:3,rightSpan:4,formItem:{component:m.L,componentProps:{showClear:!0,optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:null===N||void 0===N?void 0:N.results}}}),r.createElement(i.Wi,{label:"UOM Description",name:"descr",className:"col-12",control:e,errors:n,required:"Enter Item Description",leftSpan:3,rightSpan:4,formItem:{component:p.o,componentProps:{maxLength:100}}}))}}))},We=function(e){var t=(0,r.useState)(1),n=(0,d.Z)(t,2),a=n[0],c=n[1],u=(0,r.useState)(g.IV),l=(0,d.Z)(u,2),s=l[0],p=l[1],f=(0,r.useState)(null),y=(0,d.Z)(f,2),E=y[0],h=y[1],T=(0,r.useState)([]),b=(0,d.Z)(T,2),S=b[0],I=b[1],O=B({page:a,size:s}).data,P=Ue({page:a,size:s,type:E}),w=P.data,N=P.isFetching,L=ke(),x=(0,d.Z)(L,2),_=x[0],M=x[1].isLoading;return(0,r.useEffect)((function(){I([{key:null,descr:"All"}].concat((0,v.Z)((null===O||void 0===O?void 0:O.results)||[])))}),[O]),r.createElement(r.Fragment,null,r.createElement(Y.i,null),r.createElement("div",{className:"field"},r.createElement("label",{className:"col-2"},"Item Type"),r.createElement(m.L,{style:{width:"30%"},value:E,onChange:function(e){h(e.value)},options:S,placeholder:"All",optionLabel:"descr",optionValue:"key"})),r.createElement(i.PS,{pagination:{pageSize:s,loading:N,currentPage:a,total:null===w||void 0===w?void 0:w.count,onChange:function(e,t){c(e),p(t)}},baseRoute:"/".concat(o,"/").concat(Ae),description:"UOM",isLoading:N||M,data:null===w||void 0===w?void 0:w.results,deleteAction:function(e){return _(e).unwrap()},newTable:!0,showHeader:!0},r.createElement(i._P,{field:"id",header:"UOM Code",filteringType:"number"}),r.createElement(i._P,{field:"descr",header:"UOM Description",filteringType:"text"}),r.createElement(i._P,{field:"item_type.descr",header:"Item Type",filteringType:"text"})))},je=r.createElement(a.AW,{path:"uoms"},r.createElement(a.AW,{path:"new",element:r.createElement(Ve,null)}),r.createElement(a.AW,{path:":id/edit",element:r.createElement(Ve,null)}),r.createElement(a.AW,{index:!0,element:r.createElement(We,null)})),Ye="itemtypes",Ce="Item Type",Je=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function c(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}u((r=r.apply(e,t||[])).next())}))},Ge=function(e){var t=(0,i.pm)(),n=t.showSuccess,c=t.showError,u=(0,r.useState)(!1),l=(0,d.Z)(u,2),m=l[0],f=l[1],y=(0,a.s0)(),v=(0,a.UO)().id,E=parseInt(v||""),h=isNaN(E)||E<=0,T=(0,g.ft)(),b=z(E,{skip:h}),S=b.data,I=b.isLoading,O=F(),P=(0,d.Z)(O,2),w=P[0],N=P[1].isLoading,L=Q(),x=(0,d.Z)(L,2),_=x[0],M=x[1].isLoading;return r.createElement(r.Fragment,null,r.createElement(i.Rm,{baseRoute:"/".concat(o,"/").concat(Ye),description:Ce,id:E,data:S,isUpdating:N||M||m,isLoading:I,onSubmit:function(e){return Je(void 0,void 0,void 0,(0,s.Z)().mark((function t(){var r,a;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!h){t.next=7;break}return t.next=4,w(Object.assign(Object.assign({},e),T)).unwrap();case 4:a=t.sent,t.next=10;break;case 7:return t.next=9,_(Object.assign(Object.assign({},e),T)).unwrap();case 9:a=t.sent;case 10:n("Success",a.detail),f(!0),setTimeout((function(){y("/".concat(o,"/").concat(Ye))}),g.P7),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),c("An error occurred",(null===(r=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===r?void 0:r.detail)||"We couldn't save your post, try again!");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))},renderForm:function(e,t,n){return r.createElement("div",{className:"pl-8 pt-4 pb-3 grid p-fluid"},r.createElement(i.Wi,{label:"Type Description",name:"descr",className:"col-12",control:e,errors:n,required:"Enter Description",leftSpan:2,rightSpan:5,formItem:{component:p.o,componentProps:{maxLength:100}}}))}}))},Fe=function(e){var t=(0,r.useState)(1),n=(0,d.Z)(t,2),a=n[0],c=n[1],u=(0,r.useState)(g.IV),l=(0,d.Z)(u,2),s=l[0],p=l[1],m=B({page:a,size:s}),f=m.data,y=m.isFetching,v=D(),E=(0,d.Z)(v,2),h=E[0],T=E[1].isLoading;return r.createElement(i.PS,{pagination:{pageSize:s,loading:y,currentPage:a,total:null===f||void 0===f?void 0:f.count,onChange:function(e,t){c(e),p(t)}},baseRoute:"/".concat(o,"/").concat(Ye),description:Ce,isLoading:y||T,data:null===f||void 0===f?void 0:f.results,deleteAction:function(e){return h(e).unwrap()},newTable:!0,showHeader:!0},r.createElement(i._P,{field:"id",header:"ItemType Code",filteringType:"number"}),r.createElement(i._P,{field:"descr",header:"ItemType Description",filteringType:"text"}))},De=r.createElement(a.AW,{path:"itemtypes"},r.createElement(a.AW,{path:"new",element:r.createElement(Ge,null)}),r.createElement(a.AW,{path:":id/edit",element:r.createElement(Ge,null)}),r.createElement(a.AW,{index:!0,element:r.createElement(Fe,null)})),ze="itemsubtypes",Be="Item Sub Type",Qe=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function c(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}u((r=r.apply(e,t||[])).next())}))},He=function(e){var t=(0,i.pm)(),n=t.showSuccess,c=t.showError,u=(0,r.useState)(!1),l=(0,d.Z)(u,2),v=l[0],E=l[1],h=(0,r.useState)(!1),T=(0,d.Z)(h,2),b=T[0],S=T[1],I=(0,r.useState)(!1),O=(0,d.Z)(I,2),P=O[0],w=O[1],N=(0,r.useState)(!1),L=(0,d.Z)(N,2),x=L[0],_=L[1],k=(0,a.s0)(),U=(0,a.UO)().id,A=parseInt(U||""),q=isNaN(A)||A<=0,V=(0,r.useRef)([]),W=(0,g.ft)(),j=(0,r.useState)([]),Y=(0,d.Z)(j,2),C=Y[0],J=Y[1],G=Z(A,{skip:q}),F=G.data,D=G.isLoading,z=(0,r.useState)(null),Q=(0,d.Z)(z,2),H=Q[0],$=Q[1],K=(0,r.useState)([]),X=(0,d.Z)(K,2),ee=X[0],te=X[1],ne=M(),re=(0,d.Z)(ne,2),ae=re[0],ie=re[1].isLoading,oe=R(),ce=(0,d.Z)(oe,2),ue=ce[0],le=ce[1].isLoading,se=B({}),de=se.data,pe=se.isFetching,me=(0,g.U$)(H,{skip:!H}),fe=me.data,ye=(me.isLoading,function(e){if(0===e.length)return!0;var t=e[e.length-1];return null===t||void 0===t?void 0:t.item_descr}),ve=function(e){return r.createElement(f.z,{style:{height:"35px",width:"20px",marginLeft:20},type:"button",onClick:function(){var t=V.current.filter((function(t){return t.item_descr!==e.item_descr}));te(t),V.current=t},className:"p-button-rounded p-button-text",icon:"pi pi-trash"})};(0,r.useEffect)((function(){if(F&&($(F.itemtyp_key),null===F||void 0===F?void 0:F.spec_param)){w(!0);var e=F.spec_param.split("|").map((function(e){return{item_descr:e}}));V.current=e,te(e)}}),[F]),(0,r.useEffect)((function(){if((null===F||void 0===F?void 0:F.uom_keys)&&fe&&!b){S(!0),_(!0);var e=F.uom_keys.split("|").map((function(e){return parseInt(e)})),t=null===fe||void 0===fe?void 0:fe.filter((function(t){return e.includes(t.key)}));J(t)}}),[fe]);return r.createElement(r.Fragment,null,r.createElement(i.Rm,{baseRoute:"/".concat(o,"/").concat(ze),description:Be,id:A,data:F,isUpdating:ie||le||v,isLoading:D,onSubmit:function(e){return Qe(void 0,void 0,void 0,(0,s.Z)().mark((function t(){var r,a,i;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=Object.assign(Object.assign(Object.assign({},e),{spec_param:V.current.map((function(e){return e.item_descr})).join("|"),uom_keys:C.map((function(e){return e.key})).join("|")}),W),!q){t.next=8;break}return t.next=5,ae(i).unwrap();case 5:a=t.sent,t.next=11;break;case 8:return t.next=10,ue(i).unwrap();case 10:a=t.sent;case 11:n("Success",a.detail),E(!0),setTimeout((function(){k("/".concat(o,"/").concat(ze))}),g.P7),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),c("An error occurred",(null===(r=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===r?void 0:r.detail)||"We couldn't save your post, try again!");case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))},renderForm:function(e,t,n){return r.createElement("div",{className:"pl-8 pt-4 pb-3 grid p-fluid"},r.createElement(i.Wi,{label:"Item Type",name:"itemtyp_key",className:"col-12",control:e,errors:n,isLoading:pe,required:"Select an Item Type",leftSpan:2,rightSpan:5,useExplicit:!0,onChange:function(e){$(e.value),J([])},formItem:{component:m.L,componentProps:{showClear:!0,optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:null===de||void 0===de?void 0:de.results}}}),r.createElement(i.Wi,{label:"Item Sub Type",name:"descr",className:"col-12",control:e,errors:n,required:"Enter Description",leftSpan:2,rightSpan:5,formItem:{component:p.o,componentProps:{maxLength:100}}}),r.createElement(i.Wi,{label:"GST (%)",name:"gst",className:"col-12",control:e,errors:n,required:"Enter GST",leftSpan:2,rightSpan:5,formItem:{component:p.o,componentProps:{type:"number",min:0,max:100}}}),r.createElement("div",{className:"row flex",style:{width:"90%"}},r.createElement("div",{className:"col-6"},r.createElement(f.z,{style:{width:"60%",marginBottom:30},label:"Add Specification",disabled:P,onClick:function(e){e.preventDefault(),w(!0)}}),r.createElement("div",{style:{width:"80%",marginRight:50,visibility:P?"visible":"hidden"}},r.createElement(i.PS,{baseRoute:"/".concat(o,"/").concat(ze),description:Be,isLoading:D,data:ee,newTable:!0,tableLayoutClass:"h-full",allowFilters:!1,actionBodyTemplate:ve,gridProps:{allowAdd:!0,disableAdd:!ye(ee),OnRowsChanged:function(e){te(e),V.current=e}}},r.createElement(i._P,{field:"item_descr",header:"Specification Parameter",editorType:"text"})))),r.createElement("div",{className:"col-6"},r.createElement(f.z,{style:{width:"50%",marginBottom:30},label:"Add UOM",disabled:x,onClick:function(e){e.preventDefault(),_(!0)}}),r.createElement("div",{style:{width:"40%",alignItems:"right",visibility:x?"visible":"hidden"}},r.createElement(y.N,{value:C,onChange:function(e){return J(e.value)},options:fe,optionLabel:"descr",display:"chip",placeholder:"Select UOM",className:"w-full md:w-20rem"})))))}}))},$e=n(4213),Ke=function(e){var t=(0,r.useState)(1),n=(0,d.Z)(t,2),a=n[0],c=n[1],u=(0,r.useState)(g.IV),l=(0,d.Z)(u,2),s=l[0],p=l[1],f=(0,r.useState)(null),y=(0,d.Z)(f,2),E=y[0],h=y[1],T=(0,r.useState)([]),b=(0,d.Z)(T,2),S=b[0],I=b[1],O=Ue({page:1,size:1e3}),P=O.data,w=O.isLoading,N=B({page:a,size:s}).data,L=U({page:a,size:s,type:E}),x=L.data,_=L.isFetching,M=k(),Z=(0,d.Z)(M,2),R=Z[0],A=Z[1].isLoading;return(0,r.useEffect)((function(){I([{key:null,descr:"All"}].concat((0,v.Z)((null===N||void 0===N?void 0:N.results)||[])))}),[N]),r.createElement(r.Fragment,null,r.createElement(Y.i,null),r.createElement("div",{className:"field"},r.createElement("label",{className:"col-2"},"Item Type"),r.createElement(m.L,{style:{width:"30%"},value:E,onChange:function(e){h(e.value)},options:S,placeholder:"All",optionLabel:"descr",optionValue:"key"})),w?r.createElement($e.G,{className:"ig-grid-loader"}):r.createElement(i.PS,{pagination:{pageSize:s,loading:_,currentPage:a,total:null===x||void 0===x?void 0:x.count,onChange:function(e,t){c(e),p(t)}},baseRoute:"/".concat(o,"/").concat(ze),description:Be,isLoading:_||A||w,data:null===x||void 0===x?void 0:x.results,deleteAction:function(e){return R(e).unwrap()},newTable:!0,showHeader:!0},r.createElement(i._P,{field:"id",header:"SubType Code",filteringType:"number"}),r.createElement(i._P,{field:"descr",header:"SubType Description",filteringType:"text"}),r.createElement(i._P,{field:"itemtyp.descr",header:"Item Type",filteringType:"text"}),r.createElement(i._P,{field:"gst",header:"GST (%)",filteringType:"number",defaultValue:0}),r.createElement(i._P,{field:"spec_param",header:"Spec Param",displayValueGetter:function(e){var t;if(e)return null===(t=null===e||void 0===e?void 0:e.spec_param)||void 0===t?void 0:t.replace("|",",")},filteringType:"text"}),r.createElement(i._P,{field:"uom_keys",header:"UOM",displayValueGetter:function(e){var t;if(e){var n=null===(t=null===e||void 0===e?void 0:e.uom_keys)||void 0===t?void 0:t.split("|").map((function(e){return parseInt(e)}));return null===P||void 0===P?void 0:P.results.filter((function(e){return n.includes(e.key)})).map((function(e){return e.descr})).join(",")}},filteringType:"text"})))},Xe=r.createElement(a.AW,{path:"itemsubtypes"},r.createElement(a.AW,{path:"new",element:r.createElement(He,null)}),r.createElement(a.AW,{path:":id/edit",element:r.createElement(He,null)}),r.createElement(a.AW,{index:!0,element:r.createElement(Ke,null)})),et=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},tt="/inventory/uom/type/",nt=g.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listUOMTypes:e.query({query:function(e){var t=e.page,n=e.size;return{url:(0,g.DS)(tt,"?page=".concat(t||1,"&page_size=").concat(n||g.IV))}},providesTags:function(e){var t;return e?[].concat((0,v.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:g.pJ.INVENTORY_UOMTYPE,id:t}}))),[{type:g.pJ.INVENTORY_UOMTYPE,id:"LIST"}]):[{type:g.pJ.INVENTORY_UOMTYPE,id:"LIST"}]}}),addUOMTypes:e.mutation({query:function(e){return{url:tt,method:"POST",body:e}},invalidatesTags:[{type:g.pJ.INVENTORY_UOMTYPE,id:"LIST"}]}),getUOMTypes:e.query({query:function(e){return"".concat(tt).concat(e)},providesTags:function(e,t,n){return[{type:g.pJ.INVENTORY_UOMTYPE,id:n}]}}),updateUOMTypes:e.mutation({query:function(e){var t=e.key,n=et(e,["key"]);return{url:"".concat(tt).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:g.pJ.INVENTORY_UOMTYPE,id:null===e||void 0===e?void 0:e.id}]}}),deleteUOMTypes:e.mutation({query:function(e){return{url:"".concat(tt).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:g.pJ.INVENTORY_UOMTYPE,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),rt=nt.useAddUOMTypesMutation,at=nt.useDeleteUOMTypesMutation,it=nt.useGetUOMTypesQuery,ot=nt.useListUOMTypesQuery,ct=nt.useUpdateUOMTypesMutation,ut=(nt.useGetErrorProneQuery,nt.endpoints.getUOMTypes,"uomtype"),lt="UOM Type",st=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function c(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}u((r=r.apply(e,t||[])).next())}))},dt=function(e){var t=(0,i.pm)(),n=t.showSuccess,c=t.showError,u=(0,r.useState)(!1),l=(0,d.Z)(u,2),m=l[0],f=l[1],y=(0,a.s0)(),v=(0,a.UO)().id,E=parseInt(v||""),h=isNaN(E)||E<=0,T=(0,g.ft)(),b=it(E,{skip:h}),S=b.data,I=b.isLoading,O=rt(),P=(0,d.Z)(O,2),w=P[0],N=P[1].isLoading,L=ct(),x=(0,d.Z)(L,2),_=x[0],M=x[1].isLoading;return r.createElement(r.Fragment,null,r.createElement(i.Rm,{baseRoute:"/".concat(o,"/").concat(ut),description:lt,id:E,data:S,isUpdating:N||M||m,isLoading:I,onSubmit:function(e){return st(void 0,void 0,void 0,(0,s.Z)().mark((function t(){var r,a;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!h){t.next=7;break}return t.next=4,w(Object.assign(Object.assign({},e),T)).unwrap();case 4:a=t.sent,t.next=10;break;case 7:return t.next=9,_(Object.assign(Object.assign({},e),T)).unwrap();case 9:a=t.sent;case 10:n("Success",a.detail),f(!0),setTimeout((function(){y("/".concat(o,"/").concat(ut))}),g.P7),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),c("An error occurred",(null===(r=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===r?void 0:r.detail)||"We couldn't save your post, try again!");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))},renderForm:function(e,t,n){return r.createElement("div",{className:"pl-8 pt-4 pb-3 grid p-fluid"},r.createElement(i.Wi,{label:"UOM Type Description",name:"descr",className:"col-12",control:e,errors:n,required:"Enter Description",leftSpan:3,rightSpan:5,formItem:{component:p.o,componentProps:{maxLength:100}}}))}}))},pt=function(e){var t=(0,r.useState)(1),n=(0,d.Z)(t,2),a=n[0],c=n[1],u=(0,r.useState)(g.IV),l=(0,d.Z)(u,2),s=l[0],p=l[1],m=ot({page:a,size:s}),f=m.data,y=m.isFetching,v=at(),E=(0,d.Z)(v,2),h=E[0],T=E[1].isLoading;return r.createElement(i.PS,{pagination:{pageSize:s,loading:y,currentPage:a,total:null===f||void 0===f?void 0:f.count,onChange:function(e,t){c(e),p(t)}},baseRoute:"/".concat(o,"/").concat(ut),description:lt,isLoading:y||T,data:null===f||void 0===f?void 0:f.results,deleteAction:function(e){return h(e).unwrap()},newTable:!0,showHeader:!0},r.createElement(i._P,{field:"id",header:"Type Code",filteringType:"number"}),r.createElement(i._P,{field:"descr",header:"UOM Type Description",filteringType:"text"}))},mt=r.createElement(a.AW,{path:"uomtype"},r.createElement(a.AW,{path:"new",element:r.createElement(dt,null)}),r.createElement(a.AW,{path:":id/edit",element:r.createElement(dt,null)}),r.createElement(a.AW,{index:!0,element:r.createElement(pt,null)})),ft="/inventory/item/group/",yt=g.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listItemGroup:e.query({query:function(e){var t=e.page,n=e.size;return{url:(0,g.DS)(ft,"?page=".concat(t||1,"&page_size=").concat(n||g.IV))}},providesTags:function(e){var t;return e?[].concat((0,v.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:g.pJ.INVENTORY_ITEMTYPE,id:t}}))),[{type:g.pJ.INVENTORY_ITEMTYPE,id:"LIST"}]):[{type:g.pJ.INVENTORY_ITEMTYPE,id:"LIST"}]}}),addItemGroup:e.mutation({query:function(e){return{url:ft,method:"POST",body:e}},invalidatesTags:[{type:g.pJ.INVENTORY_ITEMTYPE,id:"LIST"}]}),getItemGroup:e.query({query:function(e){return"".concat(ft).concat(e)},providesTags:function(e,t,n){return[{type:g.pJ.INVENTORY_ITEMTYPE,id:n}]}}),updateItemGroup:e.mutation({query:function(e){var t=e;return{url:"".concat(ft),method:"POST",body:t}},invalidatesTags:function(e){return[{type:g.pJ.INVENTORY_ITEMTYPE,id:null===e||void 0===e?void 0:e.data.id}]}}),deleteItemGroup:e.mutation({query:function(e){return{url:"".concat(ft).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:g.pJ.INVENTORY_ITEMTYPE,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),vt=yt.useAddItemGroupMutation,gt=yt.useDeleteItemGroupMutation,Et=yt.useGetItemGroupQuery,ht=yt.useListItemGroupQuery,Tt=yt.useUpdateItemGroupMutation,bt=(yt.useGetErrorProneQuery,"itemgroup"),St="Item Group",It=n(6666),Ot=(0,r.forwardRef)((function(e,t){var n=e.data,a=e.isLoading,o=e.disableTable,c=void 0!==o&&o,u=e.onChange,l=void 0===u?function(){}:u,s=(0,r.useState)([]),p=(0,d.Z)(s,2),y=p[0],v=p[1],E=(0,r.useRef)(y),h=(0,r.useRef)([]),T=(0,g.gg)({}).data;(0,r.useImperativeHandle)(t,(function(){return{getItems:function(){return y}}})),(0,r.useEffect)((function(){v(n),E.current=n}),[n]),(0,r.useEffect)((function(){h.current=T||[]}),[T]);return r.createElement(i.PS,{baseRoute:"/purchase/".concat(bt),description:St,isLoading:a,data:y,newTable:!0,tableLayoutClass:"h-full",allowFilters:!1,hideActionColumn:c,actionBodyTemplate:function(e){return r.createElement(f.z,{style:{height:"35px",width:"20px",marginLeft:20},type:"button",onClick:function(){(0,A.V)({message:"Are you sure you want to Delete Item?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){return function(e){var t=E.current.filter((function(t){return t!==e}));E.current=t,v(t)}(e)},reject:function(){}})},className:"p-button-rounded p-button-text",icon:"pi pi-trash"})},gridProps:{allowAdd:!c,OnRowsChanged:function(e){var t=e.map((function(e){var t;return Object.assign(Object.assign({},e),{item_descr:null===(t=h.current.filter((function(t){return t.key===e.item_key}))[0])||void 0===t?void 0:t.descr})}));v(t),E.current=t,l(!0)}}},r.createElement(i._P,{field:"item_key",header:"Item*",displayValueGetter:function(e,t){var n,r;if(!Array.isArray(e)){var a=null===(n=h.current)||void 0===n?void 0:n.filter((function(n){return n.key===e[t]}));return a.length?a[0].descr:null===(r=null===e||void 0===e?void 0:e.items)||void 0===r?void 0:r.descr}},editorType:!c&&function(e){var t=e.row,n=e.column,a=e.onRowChange,i=e.onClose;return r.createElement(m.L,{autoFocus:!0,style:{width:"100%"},className:"p-inputtext-sm",value:t[n.key],optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:h.current,onChange:function(e){a(Object.assign(Object.assign({},t),(0,It.Z)({},n.key,e.value)),!0),i(!0)},tabIndex:-1})}}),r.createElement(i._P,{field:"item_descr",header:"Description",type:"text"}),r.createElement(i._P,{field:"mixratioval",header:"Mix Ratio",type:"number",editorType:!c&&"number"}))})),Pt=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function c(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}u((r=r.apply(e,t||[])).next())}))},wt=function(e){var t=(0,i.pm)(),n=t.showSuccess,c=t.showError,u=(0,r.useState)(!1),l=(0,d.Z)(u,2),f=l[0],y=l[1],v=(0,a.s0)(),E=(0,a.UO)().id,h=parseInt(E||""),T=isNaN(h)||h<=0,b=(0,r.useRef)(),S=(0,r.useState)(!1),I=(0,d.Z)(S,2),O=I[0],P=I[1],w=(0,g.ft)(),N=Et(h,{skip:T}),L=N.data,x=N.isLoading,_=N.refetch,M=Ue({}),k=M.data,Z=M.isFetching,U=vt(),R=(0,d.Z)(U,2),A=R[0],q=R[1].isLoading,V=Tt(),W=(0,d.Z)(V,2),j=W[0],Y=W[1].isLoading;return r.createElement(r.Fragment,null,r.createElement(i.Rm,{baseRoute:"/".concat(o,"/").concat(bt),description:St,id:h,data:L,isUpdating:q||Y||f,isItemsTableChanged:O,isLoading:x,onSubmit:function(e){return Pt(void 0,void 0,void 0,(0,s.Z)().mark((function t(){var r,a,i,u,l;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,u=null===(r=b.current)||void 0===r?void 0:r.getItems(),l=Object.assign(Object.assign(Object.assign({},e),{item_group_details:u}),w),!T){t.next=9;break}return t.next=6,A(l).unwrap();case 6:i=t.sent,t.next=12;break;case 9:return t.next=11,j(l).unwrap();case 11:i=t.sent;case 12:_(),n("Success",i.detail),y(!0),setTimeout((function(){v("/".concat(o,"/").concat(bt))}),g.P7),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),c("An error occurred",(null===(a=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===a?void 0:a.detail)||"We couldn't save your post, try again!");case 21:case"end":return t.stop()}}),t,null,[[0,18]])})))},renderForm:function(e,t,n){var a;return r.createElement("div",{className:"pl-8 pt-4 pb-3 grid p-fluid h-full"},r.createElement(i.Wi,{label:"Item Group Description",name:"descr",className:"col-12 full",control:e,errors:n,required:"Enter Item Group",leftSpan:3,rightSpan:5,formItem:{component:p.o,componentProps:{maxLength:100}}}),r.createElement(i.Wi,{label:"UOM",name:"itemuom_key",className:"col-12 full",control:e,errors:n,isLoading:Z,required:"Select a UOM",leftSpan:3,rightSpan:3,formItem:{component:m.L,componentProps:{showClear:!0,optionLabel:"descr",optionValue:"key",options:null===k||void 0===k?void 0:k.results}}}),r.createElement(i.Wi,{label:"Group Type",name:"grouptype",className:"col-12 full",control:e,errors:n,required:"Select a Group Type",leftSpan:3,rightSpan:3,formItem:{component:m.L,componentProps:{showClear:!0,optionLabel:"descr",optionValue:"key",options:[{key:"L",descr:"Linear"},{key:"S",descr:"Simple"}]}}}),r.createElement(i.Wi,{label:"Mix Ratio",name:"mixtype",className:"col-12 full",control:e,errors:n,required:"Select a Ratio",leftSpan:3,rightSpan:3,formItem:{component:m.L,componentProps:{showClear:!0,optionLabel:"descr",optionValue:"key",options:[{key:"F",descr:"Fixed"},{key:"V",descr:"Variable"}]}}}),r.createElement(i.Wi,{label:"Scope",name:"scope",className:"col-12 full",control:e,errors:n,required:"Select a Scope",leftSpan:3,rightSpan:3,formItem:{component:m.L,componentProps:{showClear:!0,optionLabel:"descr",optionValue:"key",options:[{key:"P",descr:"Project"},{key:"U",descr:"Universal"}]}}}),r.createElement("div",{className:"col-12 full ",style:{height:"calc(100% - 183px)",minHeight:200}},r.createElement(Ot,{data:(null===L||void 0===L?void 0:L.item_group_details)||(null===(a=b.current)||void 0===a?void 0:a.getItems())||[],isLoading:x,ref:b,onChange:function(e){return!O&&P(e)}})))}}))},Nt=function(e){var t=(0,r.useState)(1),n=(0,d.Z)(t,2),a=n[0],c=n[1],u=(0,r.useState)(g.IV),l=(0,d.Z)(u,2),s=l[0],p=l[1],m=ht({page:a,size:s}),f=m.data,y=m.isFetching,v=gt(),E=(0,d.Z)(v,2),h=E[0],T=E[1].isLoading;return r.createElement(i.PS,{pagination:{pageSize:s,loading:y,currentPage:a,total:null===f||void 0===f?void 0:f.count,onChange:function(e,t){c(e),p(t)}},baseRoute:"/".concat(o,"/").concat(bt),description:St,isLoading:y||T,data:null===f||void 0===f?void 0:f.results,deleteAction:function(e){return h(e).unwrap()},newTable:!0,showHeader:!0},r.createElement(i._P,{field:"id",header:"Item Group",filteringType:"text"}),r.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"}),r.createElement(i._P,{field:"item_uoms.descr",header:"UOM",filteringType:"text"}),r.createElement(i._P,{field:"grouptype",header:"Group Type",filteringType:"text",displayValueGetter:function(e){switch(e.grouptype){case"L":return"Linear";case"S":return"Simple";default:return"NA"}}}),r.createElement(i._P,{field:"mixtype",header:"Mix Type",filteringType:"text",displayValueGetter:function(e){switch(e.mixtype){case"F":return"Fixed";case"V":return"Variable";default:return"NA"}}}),r.createElement(i._P,{field:"scope",header:"Scope",filteringType:"text",displayValueGetter:function(e){switch(e.scope){case"P":return"Project";case"U":return"Universal";default:return"NA"}}}))},Lt=r.createElement(a.AW,{path:"itemgroup"},r.createElement(a.AW,{path:"new",element:r.createElement(wt,null)}),r.createElement(a.AW,{path:":id/edit",element:r.createElement(wt,null)}),r.createElement(a.AW,{index:!0,element:r.createElement(Nt,null)})),xt=n(402),_t=function(){var e,t,n,u=(null===(n=null===(t=null===(e=(0,g.aC)().user)||void 0===e?void 0:e.role[0])||void 0===t?void 0:t.access)||void 0===n?void 0:n.map((function(e){return e.name})))||[];return console.log(u.includes(c)),r.createElement(a.Z5,null,u.includes(c)?r.createElement(a.AW,{path:"/",element:r.createElement(i.SV,{navItems:l})},r.createElement(a.AW,{index:!0,element:r.createElement(a.Fg,{to:"items",replace:!0})}),$,me,Ne,je,De,Xe,mt,Lt,(0,xt.Z)(o),r.createElement(a.AW,{path:":page/comming-soon",element:r.createElement(i.hg,null)}),r.createElement(a.AW,{path:"*",element:r.createElement(i.EN,{relative:!0})})):r.createElement(a.AW,{path:"/",element:r.createElement(i.SV,{navItems:l})},r.createElement(a.AW,{path:"*",element:r.createElement(i.Sd,{relative:!0})})))}}}]);
//# sourceMappingURL=593.20a3931e.chunk.js.map