"use strict";(self.webpackChunkbuild_iq_app=self.webpackChunkbuild_iq_app||[]).push([[360],{3360:function(e,t,n){n.r(t),n.d(t,{default:function(){return W}});var a=n(969),o=n(734),l=n(2035),r=function(e,t){return(0,l.E7)("/".concat("invoice","/").concat(e)+(t?"/comming-soon":""))},i=[{items:[{label:"Vendor Invoice",icon:"pi ml-3",template:r("vendorinvoice")},{label:"Contractor Invoice",icon:"pi ml-3",template:r("contractorinvoice",!0)},{label:"GST Invoice",icon:"pi ml-3",template:r("gstinvoice",!0)},{label:"TDS Invoice",icon:"pi ml-3",template:r("tdsinvoice",!0)},{label:"Salary/Allowance Invoice",icon:"pi ml-3",template:r("allowanceinvoice",!0)}]}],c=n(2723),s=n(6234),d=n(7765),m=n(3127),u=n(8224),p=n(8079),f=n(1495),v="/transaction/vendor/invoice/",g=f.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listInvoice:e.query({query:function(e){var t=e.page,n=e.size,a=e.project,o=e.vendor;return{url:(0,f.DS)(v,"?page=".concat(t||1,"&page_size=").concat(n||f.IV).concat(a?"&project=".concat(a):"").concat(o?"&vendor=".concat(o):""))}},providesTags:function(e){var t;return e?[].concat((0,p.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:f.pJ.VENDOR_INVOICE,key:t}}))),[{type:f.pJ.VENDOR_INVOICE,id:"LIST"}]):[{type:f.pJ.VENDOR_INVOICE,id:"LIST"}]}}),addInvoice:e.mutation({query:function(e){return{url:v,method:"POST",body:e}},invalidatesTags:[{type:f.pJ.VENDOR_INVOICE,id:"LIST"}]}),getInvoice:e.query({query:function(e){return"".concat(v).concat(e)},providesTags:function(e,t,n){return[{type:f.pJ.VENDOR_INVOICE,id:n}]}}),updateInvoice:e.mutation({query:function(e){var t=e;return console.log(t),{url:"".concat(v),method:"POST",body:t}},invalidatesTags:function(e){return[{type:f.pJ.VENDOR_INVOICE,id:null===e||void 0===e?void 0:e.key}]}}),deleteInvoice:e.mutation({query:function(e){return{url:"".concat(v).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:f.pJ.VENDOR_INVOICE,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),h=g.useAddInvoiceMutation,y=g.useDeleteInvoiceMutation,E=g.useGetInvoiceQuery,b=g.useListInvoiceQuery,S=g.useUpdateInvoiceMutation,N=(g.useGetErrorProneQuery,g.endpoints.getInvoice,function(e,t,n,a){return new(n||(n=Promise))((function(o,l){function r(e){try{c(a.next(e))}catch(t){l(t)}}function i(e){try{c(a.throw(e))}catch(t){l(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}c((a=a.apply(e,t||[])).next())}))}),I=function(e){var t=(0,l.pm)(),n=t.showSuccess,r=t.showError,i=(0,a.useState)({}),p=(0,s.Z)(i,2),v=p[0],g=p[1],y=(0,a.useState)("S"),b=(0,s.Z)(y,2),I=b[0],P=(b[1],(0,a.useState)("SAVE")),w=(0,s.Z)(P,2),x=w[0],O=(w[1],(0,o.s0)()),V=(0,o.UO)().id,k=parseInt(V||""),C=isNaN(k)||k<=0,L=(0,a.useRef)(),_=(0,f.ft)(),Z=E(k,{skip:C,refetchOnMountOrArgChange:!0}),A=Z.data,T=Z.isLoading,D=(0,a.useState)(null),W=(0,s.Z)(D,2),R=(W[0],W[1],(0,a.useState)([])),j=(0,s.Z)(R,2),M=(j[0],j[1],(0,a.useState)(null)),F=(0,s.Z)(M,2),z=F[0],q=F[1],H=(0,a.useState)(null),B=(0,s.Z)(H,2),G=B[0],U=B[1],J=h(),K=(0,s.Z)(J,2),Y=(K[0],K[1].isLoading),Q=(0,f.Gt)("Invoice",{skip:!C,refetchOnMountOrArgChange:C}).data,X=((0,f.Gt)("VIN",{skip:C,refetchOnMountOrArgChange:!C}).data,(0,f.Gt)("VCI",{skip:C,refetchOnMountOrArgChange:!C}).data,(0,f.Wv)()),$=X.data,ee=X.isLoading,te=(0,f.lE)({}),ne=te.data,ae=te.isLoading,oe=(0,f.u2)(G,{skip:!G}),le=oe.data,re=oe.isFetching,ie=h(),ce=(0,s.Z)(ie,2),se=ce[0],de=ce[1].isLoading,me=S(),ue=(0,s.Z)(me,2),pe=ue[0],fe=ue[1].isLoading;(0,a.useEffect)((function(){g(A||Object.assign(Object.assign({},_),{date:(0,f.Hh)(new Date,!0),number:null===Q||void 0===Q?void 0:Q.next_doc_id,loctyp:"PR"})),A&&U(A.vend_key)}),[A,Q]),(0,a.useEffect)((function(){var e;le?(console.log(le),q(null===(e=le[0])||void 0===e?void 0:e.key)):q(null)}),[le]);return a.createElement(a.Fragment,null,a.createElement(l.Rm,{disableSaveBtn:["U","R","C"].includes(null===A||void 0===A?void 0:A.docstatus),baseRoute:"/invoice/vendorinvoice",description:"Invoice",id:k,data:v,isUpdating:de||fe||Y,ref:L,isLoading:T,onSubmit:function(e){return N(void 0,void 0,void 0,(0,c.Z)().mark((function t(){var a,o,l;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,l=Object.assign(Object.assign({},e),{date:(0,f.p6)(e.date,"yyyy-MM-dd"),loctyp:"PR",itemtyp_key:z,docstatus:I,action:x}),!C){t.next=8;break}return t.next=5,se(Object.assign(Object.assign({},l),_)).unwrap();case 5:o=t.sent,t.next=11;break;case 8:return t.next=10,pe(Object.assign(Object.assign(Object.assign({},l),_),{key:null===A||void 0===A?void 0:A.key})).unwrap();case 10:o=t.sent;case 11:n("Success",o.detail),n("Success",o.detail),setTimeout((function(){O("/invoice/vendorinvoice")}),f.P7),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),r("An error occurred",(null===(a=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===a?void 0:a.detail)||"We couldn't save your post, try again!");case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))},renderForm:function(e,t,n){return a.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},a.createElement(l.Wi,{label:"Invoice Number",name:"number",className:"col-12 md:col-6",control:e,errors:n,leftSpan:4,rightSpan:6,formItem:{component:d.o,componentProps:{useGrouping:!1,disabled:!0}}}),a.createElement(l.Wi,{label:"Invoice Date",name:"date",className:"col-12 md:col-6",useExplicit:!0,control:e,errors:n,leftSpan:4,rightSpan:6,convertValue:f.Hh,formItem:{component:m.f,componentProps:{showIcon:!0,dateFormat:"yy-mm-dd"}}}),a.createElement(l.Wi,{label:"Project",name:"proj_key",className:"col-12 md:col-6",control:e,errors:n,isLoading:ae,leftSpan:4,rightSpan:6,formItem:{component:u.L,componentProps:{showClear:!0,optionLabel:"name",optionValue:"key",filter:!0,filterBy:"name",options:ne}}}),a.createElement(l.Wi,{label:"Vendor",name:"vend_key",className:"col-12 md:col-6",control:e,errors:n,isLoading:ee,required:"Select a Vendor",leftSpan:4,rightSpan:6,useExplicit:!0,onChange:function(e){U(e.value)},formItem:{component:u.L,componentProps:{showClear:!0,optionLabel:"name",optionValue:"key",filter:!0,filterBy:"name",options:$}}}),a.createElement(l.Wi,{label:"Item Type",name:"itemtyp_key",control:e,errors:n,isLoading:re,className:"col-12 md:col-6",leftSpan:4,rightSpan:6,useExplicit:!0,onChange:function(e){q(e.value)},formItem:{component:u.L,componentProps:{showClear:!0,optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:le,value:z}}}),a.createElement(l.Wi,{label:"Invoice No",name:"invoice_no",className:"col-12 md:col-6",control:e,errors:n,leftSpan:4,rightSpan:6,formItem:{component:d.o,componentProps:{maxLength:50}}}),a.createElement(l.Wi,{label:"Description",name:"descr",className:"col-12 md:col-6",control:e,errors:n,leftSpan:4,rightSpan:6,formItem:{component:d.o,componentProps:{maxLength:50}}}),a.createElement("div",{className:"col-12 md:col-6"}))}}))},P=n(8356),w=n(6770),x=n(1002),O=n(9002),V=function(e,t,n,a){return new(n||(n=Promise))((function(o,l){function r(e){try{c(a.next(e))}catch(t){l(t)}}function i(e){try{c(a.throw(e))}catch(t){l(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}c((a=a.apply(e,t||[])).next())}))};function k(e){var t=this,n=e.displayModal,o=e.customDiscard,r=(0,l.pm)(),i=r.showSuccess,p=r.showError,v=(0,a.useState)(!1),g=(0,s.Z)(v,2),y=g[0],E=g[1],b=(0,a.useState)("S"),S=(0,s.Z)(b,2),N=S[0],I=(S[1],(0,a.useState)("")),P=(0,s.Z)(I,2),w=(P[0],P[1],(0,a.useState)("SAVE")),k=(0,s.Z)(w,2),C=k[0],L=(k[1],(0,a.useRef)()),_=(0,a.useState)({}),Z=(0,s.Z)(_,2),A=Z[0],T=(Z[1],(0,f.ft)()),D=(0,a.useState)(null),W=(0,s.Z)(D,2),R=(W[0],W[1],(0,a.useState)("Online")),j=(0,s.Z)(R,2),M=j[0],F=(j[1],(0,f.Gt)("PYV",{refetchOnMountOrArgChange:!0})),z=F.data,q=(F.error,F.isFetching,(0,f.Wv)()),H=(q.data,q.isLoading,(0,f.Ii)({})),B=(H.data,H.isLoading,(0,f.sq)()),G=B.data,U=B.isFetching,J=h(),K=(0,s.Z)(J,2),Y=K[0],Q=K[1].isLoading;return a.createElement(a.Fragment,null,a.createElement(O.V,{header:"Create New Vendor Invoice Without PO",visible:n,position:"center",modal:!0,style:{width:"70vw"},onHide:function(){return o()},draggable:!1,resizable:!1,closable:!0},a.createElement(l.Rm,{baseRoute:"/payment/vendorpayment",bottomControl:!0,data:A,hideHeader:!0,customDiscard:o,ref:L,isUpdating:Q||y,onSubmit:function(e){return V(t,void 0,void 0,(0,c.Z)().mark((function t(){var n,a,l;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=Object.assign(Object.assign({},e),{number:null===z||void 0===z?void 0:z.next_doc_id,date:(0,f.p6)(e.date,"yyyy-MM-dd"),docstatus:N,docid:"PYV",chqdate:e.chqdate&&(0,f.p6)(e.chqdate,"yyyy-MM-dd"),action:C,modeofpay:M}),console.log(a),t.next=5,Y(Object.assign(Object.assign({},a),T)).unwrap();case 5:l=t.sent,i("Success",l.detail),E(!0),setTimeout((function(){o()}),f.P7),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),p("An error occurred",(null===(n=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===n?void 0:n.detail)||"We couldn't save your post, try again!");case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))},renderForm:function(e,t,n,o,r){return a.createElement("div",null,a.createElement("div",{style:{border:"2px solid gray",padding:"5px 20px"}},a.createElement("div",{className:"flex"},a.createElement(l.Wi,{label:"Invoice No",name:"invoice_no",className:"col-12 md:col-6 pl-0",control:e,errors:n,leftSpan:4,rightSpan:6,formItem:{component:d.o,componentProps:{maxLength:25}}}),a.createElement(l.Wi,{label:"Creatin Method",name:"invoice_no",className:"col-12 md:col-6 pl-0",control:e,errors:n,leftSpan:4,rightSpan:6,formItem:{component:d.o,componentProps:{maxLength:25}}})),a.createElement("div",{className:"flex"},a.createElement(l.Wi,{label:"Company Name",name:"company_name",className:"col-12 md:col-6 pl-0",required:!0,control:e,errors:n,isLoading:U,leftSpan:4,rightSpan:6,formItem:{component:u.L,componentProps:{showClear:!0,optionLabel:"name",optionValue:"id",filter:!0,filterBy:"name",options:G}}}),a.createElement(l.Wi,{label:"Project Name",name:"invoice_no",className:"col-12 md:col-6 pl-0",control:e,errors:n,leftSpan:4,rightSpan:6,formItem:{component:d.o,componentProps:{maxLength:25}}}))),a.createElement("div",{style:{border:"2px solid gray",margin:"10px auto"}},a.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},a.createElement(l.Wi,{label:"Date",name:"date",useExplicit:!0,control:e,errors:n,leftSpan:4,rightSpan:6,required:!0,className:"col-12 md:col-6 pl-0",convertValue:f.Hh,formItem:{component:m.f,componentProps:{showIcon:!0,dateFormat:"dd-mm-yy"}}}),a.createElement(l.Wi,{label:"Item Type",name:"vend_key",leftSpan:4,rightSpan:6,className:"col-12 md:col-6 pl-0",control:e,errors:n,formItem:{component:d.o,componentProps:{maxLength:25}}}),a.createElement(l.Wi,{label:"Vendor Name",name:"vend_key",leftSpan:4,rightSpan:6,className:"col-12 md:col-6 pl-0",control:e,errors:n,formItem:{component:d.o,componentProps:{maxLength:25}}}),a.createElement(l.Wi,{label:"Voucher No",name:"refnumber",leftSpan:4,rightSpan:6,className:"col-12 md:col-6 pl-0",control:e,errors:n,formItem:{component:d.o,componentProps:{maxLength:25}}}),a.createElement("div",{className:"flex col-12",style:{paddingLeft:0}},a.createElement("div",{className:"col-6"},a.createElement("div",{style:{marginBottom:15}},"Invoice Description"),a.createElement(l.Wi,{label:"",name:"refnumber",leftSpan:1,rightSpan:10,control:e,errors:n,formItem:{component:x.g,componentProps:{maxLength:25,rows:6}}})),a.createElement("div",{className:"col-6"},a.createElement(l.Wi,{label:"Amount",name:"refnumber",leftSpan:4,rightSpan:6,control:e,errors:n,formItem:{component:d.o,componentProps:{maxLength:25}}}),a.createElement("br",null),a.createElement(l.Wi,{label:"TDS",name:"refnumber",leftSpan:4,rightSpan:6,control:e,errors:n,formItem:{component:d.o,componentProps:{maxLength:25}}}),a.createElement("br",null),a.createElement(l.Wi,{label:"GST",name:"refnumber",leftSpan:4,rightSpan:6,control:e,errors:n,formItem:{component:d.o,componentProps:{maxLength:25}}}))),a.createElement(l.Wi,{label:"Notes",name:"refnumber",leftSpan:2,rightSpan:8,className:"col-12 md:col-12 pl-0",control:e,errors:n,formItem:{component:d.o,componentProps:{maxLength:25}}}))))}})))}var C=function(e,t,n,a){return new(n||(n=Promise))((function(o,l){function r(e){try{c(a.next(e))}catch(t){l(t)}}function i(e){try{c(a.throw(e))}catch(t){l(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}c((a=a.apply(e,t||[])).next())}))};function L(e){var t=this,n=e.displayModal,o=e.customDiscard,r=(0,l.pm)(),i=r.showSuccess,m=r.showError,u=(0,a.useState)(!1),p=(0,s.Z)(u,2),v=p[0],g=p[1],y=(0,a.useState)("S"),E=(0,s.Z)(y,2),b=E[0],S=(E[1],(0,a.useState)("")),N=(0,s.Z)(S,2),I=(N[0],N[1],(0,a.useState)("SAVE")),P=(0,s.Z)(I,2),w=P[0],x=(P[1],(0,a.useRef)()),V=(0,a.useState)({}),k=(0,s.Z)(V,2),L=k[0],_=(k[1],(0,f.ft)()),Z=(0,f.Gt)("PYV",{refetchOnMountOrArgChange:!0}),A=Z.data,T=(Z.error,Z.isFetching,h()),D=(0,s.Z)(T,2),W=D[0],R=D[1].isLoading;return a.createElement(a.Fragment,null,a.createElement(O.V,{header:"Additional Invoice Detail",visible:n,position:"center",modal:!0,style:{width:"40vw"},onHide:function(){return o()},draggable:!1,resizable:!1,closable:!0},a.createElement(l.Rm,{baseRoute:"/payment/vendorpayment",bottomControl:!0,data:L,hideHeader:!0,customDiscard:o,ref:x,isUpdating:R||v,onSubmit:function(e){return C(t,void 0,void 0,(0,c.Z)().mark((function t(){var n,a,l;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=Object.assign(Object.assign({},e),{number:null===A||void 0===A?void 0:A.next_doc_id,date:(0,f.p6)(e.date,"yyyy-MM-dd"),docstatus:b,docid:"PYV",chqdate:e.chqdate&&(0,f.p6)(e.chqdate,"yyyy-MM-dd"),action:w}),console.log(a),t.next=5,W(Object.assign(Object.assign({},a),_)).unwrap();case 5:l=t.sent,i("Success",l.detail),g(!0),setTimeout((function(){o()}),f.P7),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),m("An error occurred",(null===(n=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===n?void 0:n.detail)||"We couldn't save your post, try again!");case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))},renderForm:function(e,t,n,o,r){return a.createElement(a.Fragment,null,a.createElement("div",{className:"pl-4 pt-4"},a.createElement(l.Wi,{label:"Voucher No",name:"refnumber",leftSpan:3,rightSpan:6,required:!0,control:e,errors:n,formItem:{component:d.o,componentProps:{maxLength:25}}}),a.createElement(l.Wi,{label:"Notes",name:"notes",leftSpan:3,rightSpan:6,control:e,errors:n,formItem:{component:d.o,componentProps:{maxLength:25}}})))},saveBtnLabel:"Ok",discardBtnLabel:"Skip"})))}function _(e){var t=e.displayModal,n=e.poId,o=e.customDiscard,r=E(n,{refetchOnMountOrArgChange:!0}),i=r.data,c=r.isFetching;return a.createElement(a.Fragment,null,a.createElement(O.V,{header:"View PO",visible:t,position:"center",modal:!0,style:{width:"70vw"},onHide:function(){return o()},closeOnEscape:!0,draggable:!1,resizable:!1,closable:!0},a.createElement(l.Rm,{baseRoute:"/payment/vendorpayment",viewMode:!0,id:n,bottomControl:!0,data:i,hideHeader:!0,customDiscard:o,isLoading:c,onSubmit:function(){},renderForm:function(e,t,n){var o,r,c;return a.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},a.createElement(l.Wi,{label:"PO Number",name:"number",className:"col-12 md:col-6",control:e,errors:n,leftSpan:4,rightSpan:6,formItem:{component:d.o,componentProps:{useGrouping:!1,value:null===i||void 0===i?void 0:i.number}}}),a.createElement(l.Wi,{label:"PO Date",name:"date",className:"col-12 md:col-6",useExplicit:!0,control:e,errors:n,leftSpan:4,rightSpan:6,formItem:{component:d.o,componentProps:{value:null===i||void 0===i?void 0:i.date}}}),a.createElement(l.Wi,{label:"Project",name:"proj_key",className:"col-12 md:col-6",control:e,errors:n,leftSpan:4,rightSpan:6,formItem:{component:d.o,componentProps:{value:null===(o=null===i||void 0===i?void 0:i.project)||void 0===o?void 0:o.name}}}),a.createElement(l.Wi,{label:"Vendor",name:"vend_key",className:"col-12 md:col-6",control:e,errors:n,required:"Select a Vendor",leftSpan:4,rightSpan:6,formItem:{component:d.o,componentProps:{value:null===(r=null===i||void 0===i?void 0:i.vendor)||void 0===r?void 0:r.name}}}),a.createElement(l.Wi,{label:"Item Type",name:"itemtyp_key",control:e,errors:n,className:"col-12 md:col-6",leftSpan:4,rightSpan:6,formItem:{component:d.o,componentProps:{value:null===(c=null===i||void 0===i?void 0:i.itemtype)||void 0===c?void 0:c.descr}}}),a.createElement(l.Wi,{label:"Description",name:"descr",className:"col-12 md:col-6",control:e,errors:n,leftSpan:4,rightSpan:6,formItem:{component:d.o,componentProps:{value:null===i||void 0===i?void 0:i.delivnotes}}}),a.createElement("div",{className:"col-12 md:col-6"}))}})))}function Z(e){var t=e.displayModal,n=e.customDiscard,o=(0,f.JB)().data,r=(0,a.useState)(!1),i=(0,s.Z)(r,2),c=i[0],d=i[1],m=(0,a.useState)(!1),v=(0,s.Z)(m,2),g=v[0],h=v[1],E=(0,a.useState)(null),S=(0,s.Z)(E,2),N=S[0],I=S[1],x=(0,a.useState)(null),V=(0,s.Z)(x,2),k=V[0],C=V[1],Z=(0,a.useState)(null),A=(0,s.Z)(Z,2),T=(A[0],A[1],(0,a.useState)([])),D=(0,s.Z)(T,2),W=D[0],R=D[1],j=b({page:1,size:100,project:N,status:k}),M=j.data,F=j.isFetching,z=y(),q=(0,s.Z)(z,2),H=q[0],B=q[1].isLoading;(0,a.useEffect)((function(){o&&R([{key:null,name:"All"}].concat((0,p.Z)(o)))}),[o]);var G=function(){d(!1),h(!1)};return a.createElement(a.Fragment,null,a.createElement(O.V,{header:"Generate Invoice From PO",visible:t,position:"center",modal:!0,style:{width:"80vw"},onHide:function(){return n()},draggable:!1,resizable:!1,closable:!0},a.createElement(a.Fragment,null,a.createElement(P.i,null),a.createElement("div",{style:{display:"flex"}},a.createElement("div",{className:"field col-6"},a.createElement("label",{className:"col-4"},"Project Name"),a.createElement(u.L,{style:{width:"30%"},optionLabel:"name",optionValue:"key",value:N,onChange:function(e){I(e.value)},options:W,placeholder:"All"})),a.createElement("div",{className:"field col-6"},a.createElement("label",{className:"col-4"},"Company Name"),a.createElement(u.L,{style:{width:"30%"},value:k,placeholder:"All",onChange:function(e){C(e.value)},optionLabel:"descr",optionValue:"key",options:[{key:null,descr:"All"},{key:"S",descr:"Saved"},{key:"U",descr:"Submitted"},{key:"C",descr:"Cancelled"}]}))),a.createElement("div",{className:"col-12 ",style:{height:"calc(100% - 183px)",minHeight:200}},a.createElement(l.PS,{hideActionColumn:!0,baseRoute:"/invoice/vendorinvoice",description:"PO's Under Project",hideAddButton:!0,allowFilters:!1,isLoading:F||B,data:null===M||void 0===M?void 0:M.results,newTable:!0,showHeader:!0,deleteAction:function(e){return H(e).unwrap()}},a.createElement(l._P,{width:"5%",field:"sno",header:"S.No",filteringType:"number"}),a.createElement(l._P,{field:"date",header:"PO Date",filteringType:"date"}),a.createElement(l._P,{field:"text",header:"PO No",filteringType:"text"}),a.createElement(l._P,{field:"text",header:"Item Type",filteringType:"text"}),a.createElement(l._P,{field:"vendor.name",header:"Vendor Name",filteringType:"text"}),a.createElement(l._P,{field:"amount",header:"Amount (Rs)",filteringType:"text"}),a.createElement(l._P,{width:"20%",field:"makepayment",header:"",type:"custom",displayValueGetter:function(e){return a.createElement("div",{style:{display:"flex"}},a.createElement(w.z,{label:"View",style:{fontSize:16,height:30},onClick:function(){d(!0)}}),a.createElement(w.z,{style:{marginLeft:10,fontSize:16,height:30},label:"Generate",onClick:function(){h(!0)}}))}}))),a.createElement("div",null,a.createElement(w.z,{label:"Close",className:"p-button-plain",onClick:function(){n(!0)}})))),a.createElement(_,{poId:1001,displayModal:c,customDiscard:G}),a.createElement(L,{displayModal:g,customDiscard:G}))}function A(e){var t=e.displayModal,n=e.poId,o=e.customDiscard,r=E(n,{refetchOnMountOrArgChange:!0});r.data,r.isFetching;return a.createElement(a.Fragment,null,a.createElement(O.V,{header:"View Invoice",visible:t,position:"center",modal:!0,style:{width:"70vw"},onHide:function(){return o()},closeOnEscape:!0,draggable:!1,resizable:!1,closable:!0},a.createElement("div",{className:"flex col-12"},a.createElement("div",{className:"col-6",style:{fontSize:20}},a.createElement("strong",null,"Ajantha Hardwares"),a.createElement("div",null,"717, New Street"),a.createElement("div",null,"T.Nagar, Chennai"),a.createElement("div",null,"Tamil Nadu - 600017")),a.createElement("div",{className:"col-6"})),a.createElement(l.PS,{baseRoute:"/purchase",description:"",data:[{}],newTable:!0,tableLayoutClass:"h-full",allowFilters:!1,hideActionColumn:!0,gridProps:{allowAdd:!1}},a.createElement(l._P,{field:"sno",header:"S.No",type:"number",width:"5%"}),a.createElement(l._P,{field:"brand_name",header:"Invoice date",type:"text"}),a.createElement(l._P,{field:"model_no",header:"Invoice No",type:"text"}),a.createElement(l._P,{field:"model_no",header:"Description of Material",type:"text"}),a.createElement(l._P,{field:"model_no",header:"Brand Name",type:"text"}),a.createElement(l._P,{field:"qty",header:"Quantity*",type:"number"}),a.createElement(l._P,{field:"netamt",header:"Amount",type:"currency",defaultValue:0})),a.createElement("div",{className:"col-12",style:{fontSize:20,marginTop:20}},a.createElement("strong",null,"Declaration"),a.createElement("div",null,"We declare that this invoice the actual price of the goods"),a.createElement("div",null,"described and that all particulars are true and correct")),a.createElement("div",{className:"flex col-12"},a.createElement("div",{className:"col-7",style:{fontSize:20}},a.createElement("strong",null,"TERMS AND CONDITIONS"),a.createElement("div",null,"1. Goods once sold cannot be returned"),a.createElement("div",null,"2. Interest of 24% will be charged if bill is not settled in 15 days")),a.createElement("div",{className:"col-5",style:{fontSize:20}},a.createElement("strong",null,"Company's Bank Details"),a.createElement("div",null,"Bank Details : Axis Bank"),a.createElement("div",null,"Acc No       : 047283649264"),a.createElement("div",null,"Branch       : T.Nagar, Chennai")))))}var T=function(e){var t=(0,a.useState)(1),n=(0,s.Z)(t,2),o=n[0],r=n[1],i=(0,a.useState)(f.IV),c=(0,s.Z)(i,2),d=c[0],m=c[1],v=(0,f.JB)().data,g=(0,a.useState)(!1),h=(0,s.Z)(g,2),E=h[0],S=h[1],N=(0,a.useState)(!1),I=(0,s.Z)(N,2),x=I[0],O=I[1],V=(0,a.useState)(!1),C=(0,s.Z)(V,2),L=C[0],_=C[1],T=(0,a.useState)(null),D=(0,s.Z)(T,2),W=D[0],R=D[1],j=(0,a.useState)(null),M=(0,s.Z)(j,2),F=M[0],z=M[1],q=(0,a.useState)(null),H=(0,s.Z)(q,2),B=H[0],G=H[1],U=(0,a.useState)([]),J=(0,s.Z)(U,2),K=J[0],Y=J[1],Q=b({page:o,size:d,project:W,status:F}),X=Q.data,$=Q.isFetching,ee=y(),te=(0,s.Z)(ee,2),ne=te[0],ae=te[1].isLoading;(0,a.useEffect)((function(){v&&Y([{key:null,name:"All"}].concat((0,p.Z)(v)))}),[v]);var oe=function(){S(!1),O(!1),_(!1)};return a.createElement(a.Fragment,null,a.createElement(P.i,null),a.createElement("div",{style:{display:"flex"}},a.createElement("div",{className:"field col-6"},a.createElement("label",{className:"col-3"},"Project Name"),a.createElement(u.L,{style:{width:"30%"},optionLabel:"name",optionValue:"key",value:W,onChange:function(e){R(e.value)},options:K,placeholder:"All"})),a.createElement("div",{className:"field col-6"},a.createElement("div",{className:"field"},a.createElement("label",{className:"col-3"},"Company Name"),a.createElement(u.L,{style:{width:"30%"},value:F,placeholder:"All",onChange:function(e){z(e.value)},optionLabel:"descr",optionValue:"key",options:[{key:null,descr:"All"},{key:"S",descr:"Saved"},{key:"U",descr:"Submitted"},{key:"C",descr:"Cancelled"}]})))),a.createElement("div",{className:"col-12 ",style:{height:"calc(100% - 183px)",minHeight:200}},a.createElement(l.PS,{enableView:!0,onViewClick:function(e){console.log(e),G(e),S(!0)},pagination:{pageSize:d,loading:$,currentPage:o,total:null===X||void 0===X?void 0:X.count,onChange:function(e,t){r(e),m(t)}},baseRoute:"/invoice/vendorinvoice",description:"Item Vendor Invoice",hideAddButton:!0,allowFilters:!1,isLoading:$||ae,data:null===X||void 0===X?void 0:X.results,newTable:!0,showHeader:!0,deleteAction:function(e){return ne(e).unwrap()}},a.createElement(l._P,{width:"5%",field:"sno",header:"S.No",filteringType:"number"}),a.createElement(l._P,{field:"number",header:"Invoice No",filteringType:"number"}),a.createElement(l._P,{field:"date",header:"Date",filteringType:"date"}),a.createElement(l._P,{field:"vendor.name",header:"Vendor Name",filteringType:"text"}),a.createElement(l._P,{field:"amount",header:"Amount (Rs)",filteringType:"text"}),a.createElement(l._P,{field:"status.descr",header:"Payment Status",filteringType:"text"}))),a.createElement("div",null,a.createElement(w.z,{label:"Generate Invoice",className:"p-button-plain",style:{margin:"0 20px"},onClick:function(){_(!0)}}),a.createElement(w.z,{label:"Create Direct Invoice",className:"p-button-plain",onClick:function(){O(!0)}})),a.createElement(A,{displayModal:E,poId:B,customDiscard:oe}),a.createElement(k,{displayModal:x,customDiscard:oe}),a.createElement(Z,{displayModal:L,customDiscard:oe}))},D=a.createElement(o.AW,{path:"vendorinvoice"},a.createElement(o.AW,{path:"new",element:a.createElement(I,null)}),a.createElement(o.AW,{path:":id/edit",element:a.createElement(I,null)}),a.createElement(o.AW,{index:!0,element:a.createElement(T,null)})),W=function(){var e,t,n;null===(n=null===(t=null===(e=(0,f.aC)().user)||void 0===e?void 0:e.role[0])||void 0===t?void 0:t.access)||void 0===n||n.map((function(e){return e.name}));return a.createElement(o.Z5,null,a.createElement(o.AW,{path:"/",element:a.createElement(l.SV,{navItems:i})},a.createElement(o.AW,{index:!0,element:a.createElement(o.Fg,{to:"vendorinvoice",replace:!0})}),D,a.createElement(o.AW,{path:":invoice/comming-soon",element:a.createElement(l.hg,null)}),a.createElement(o.AW,{path:"*",element:a.createElement(l.EN,{relative:!0})})))}},8356:function(e,t,n){n.d(t,{i:function(){return r}});var a=n(969),o=n(4756);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(this,arguments)}var r=a.forwardRef((function(e,t){var n="horizontal"===e.layout,i="vertical"===e.layout,c=o.gb.findDiffKeys(e,r.defaultProps),s=(0,o.AK)("p-divider p-component p-divider-".concat(e.layout," p-divider-").concat(e.type),{"p-divider-left":n&&(!e.align||"left"===e.align),"p-divider-right":n&&"right"===e.align,"p-divider-center":n&&"center"===e.align||i&&(!e.align||"center"===e.align),"p-divider-top":i&&"top"===e.align,"p-divider-bottom":i&&"bottom"===e.align},e.className);return a.createElement("div",l({className:s,style:e.style,role:"separator"},c),a.createElement("div",{className:"p-divider-content"},e.children))}));r.displayName="Divider",r.defaultProps={__TYPE:"Divider",align:null,layout:"horizontal",type:"solid",style:null,className:null}},1002:function(e,t,n){n.d(t,{g:function(){return i}});var a=n(969),o=n(9459),l=n(4756);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(this,arguments)}var i=a.memo(a.forwardRef((function(e,t){var n=a.useRef(t),c=a.useRef(0),s=function(e){var t=n.current;t&&l.p7.isVisible(t)&&(c.current||(c.current=t.scrollHeight,t.style.overflow="hidden"),(c.current!==t.scrollHeight||e)&&(t.style.height="",t.style.height=t.scrollHeight+"px",parseFloat(t.style.height)>=parseFloat(t.style.maxHeight)?(t.style.overflowY="scroll",t.style.height=t.style.maxHeight):t.style.overflow="hidden",c.current=t.scrollHeight))},d=a.useMemo((function(){return l.gb.isNotEmpty(e.value)||l.gb.isNotEmpty(e.defaultValue)||n.current&&l.gb.isNotEmpty(n.current.value)}),[e.value,e.defaultValue]);a.useEffect((function(){l.gb.combinedRefs(n,t)}),[n,t]),a.useEffect((function(){e.autoResize&&s(!0)}),[e.autoResize]);var m=l.gb.isNotEmpty(e.tooltip),u=l.gb.findDiffKeys(e,i.defaultProps),p=(0,l.AK)("p-inputtextarea p-inputtext p-component",{"p-disabled":e.disabled,"p-filled":d,"p-inputtextarea-resizable":e.autoResize},e.className);return a.createElement(a.Fragment,null,a.createElement("textarea",r({ref:n},u,{className:p,onFocus:function(t){e.autoResize&&s(),e.onFocus&&e.onFocus(t)},onBlur:function(t){e.autoResize&&s(),e.onBlur&&e.onBlur(t)},onKeyUp:function(t){e.autoResize&&s(),e.onKeyUp&&e.onKeyUp(t)},onInput:function(t){e.autoResize&&s(),e.onInput&&e.onInput(t);var n=t.target;l.gb.isNotEmpty(n.value)?l.p7.addClass(n,"p-filled"):l.p7.removeClass(n,"p-filled")}})),m&&a.createElement(o.u,r({target:n,content:e.tooltip},e.tooltipOptions)))})));i.displayName="InputTextarea",i.defaultProps={__TYPE:"InputTextarea",autoResize:!1,tooltip:null,tooltipOptions:null,onInput:null}}}]);
//# sourceMappingURL=360.0612494f.chunk.js.map