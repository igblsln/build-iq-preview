"use strict";(self.webpackChunkbuild_iq_app=self.webpackChunkbuild_iq_app||[]).push([[798],{9798:function(e,t,n){n.r(t),n.d(t,{default:function(){return mt}});var a=n(969),l=n(734),o=n(8645),r=n(553),i=function(e,t){return(0,o.E7)("/".concat(r.o,"/").concat(e)+(t?"/comming-soon":""))},c=[{label:"Structure",className:"biq-dropdown-panelmenu",items:[{label:"Accessories",icon:"pi ml-3",template:i("accesories",!0)},{label:"Basement",icon:"pi ml-3",template:i("basement",!0)},{label:"Brickwork",icon:"pi ml-3",template:i("brickwork",!0)},{label:"Column",icon:"pi ml-3",template:i("column",!0)},{label:"Plastering",icon:"pi ml-3",template:i("plastering",!0)},{label:"Roof",icon:"pi ml-3",template:i("roof",!0)},{label:"Staircase",icon:"pi ml-3",template:i("staricase",!0)},{label:"Tank Details",icon:"pi ml-3",template:i("tankdetails",!0)},{label:"Terrace",icon:"pi ml-3",template:i("terrace",!0)}]},{label:"Fractional Material Pack",icon:"pi ml-3",className:"biq-panelmenu",template:i("fractionalmaterial")},{label:"Fractional Rod Pack",icon:"pi ml-3",className:"biq-panelmenu",template:i("fractionalrod")},{label:"Whole Rod Pack",icon:"pi ml-3",className:"biq-panelmenu",template:i("wholerod")},{label:"Components",className:"biq-dropdown-panelmenu",items:[{label:"Beam",icon:"pi ml-3",template:i("beam")},{label:"Column Body",icon:"pi ml-3",template:i("columnbody")},{label:"Column Footing",icon:"pi ml-3",template:i("columnfooting")},{label:"Cupboard",icon:"pi ml-3",template:i("cupboard")},{label:"Generic Tank",icon:"pi ml-3",template:i("generictank")},{label:"Kitchen Stage",icon:"pi ml-3",template:i("kitchenstage",!0)},{label:"Lift Footing",icon:"pi ml-3",template:i("liftfooting",!0)},{label:"Lintel Beam",icon:"pi ml-3",template:i("lintelbeam",!0)},{label:"Pile",icon:"pi ml-3",template:i("pile",!0)},{label:"Pile Cap",icon:"pi ml-3",template:i("pilecab",!0)},{label:"Slab",icon:"pi ml-3",template:i("slab",!0)},{label:"Staircase Slab",icon:"pi ml-3",template:i("staircaseslab",!0)}]},{label:"Bill of Quantity",icon:"pi ml-3",className:"biq-panelmenu",template:i("billofquantity",!0)},{label:"Cost Estimation",icon:"pi ml-3",className:"biq-panelmenu",template:i("costestimation",!0)}],s=n(2723),d=n(6234),u=n(8356),m=n(7765),p=n(6770),f=n(8224),v=n(8079),y=n(690),g="/estimation/fractional/material/",E=y.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listFractionalMaterial:e.query({query:function(e){var t=e.page,n=e.size,a=e.projectId,l=e.blockId;return{url:(0,y.DS)(g,"?page=".concat(t||1,"&page_size=").concat(n||y.IV,"&proj_key=").concat(a,"&projblk_key=").concat(l))}},providesTags:function(e){var t;return e?[].concat((0,v.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:y.pJ.FRACTIONAL_MATERIAL_PACK,key:t}}))),[{type:y.pJ.FRACTIONAL_MATERIAL_PACK,id:"LIST"}]):[{type:y.pJ.FRACTIONAL_MATERIAL_PACK,id:"LIST"}]}}),addFractionalMaterial:e.mutation({query:function(e){return{url:g,method:"POST",body:e}},invalidatesTags:[{type:y.pJ.FRACTIONAL_MATERIAL_PACK,id:"LIST"}]}),getFractionalMaterial:e.query({query:function(e){return"".concat(g).concat(e)},providesTags:function(e,t,n){return[{type:y.pJ.FRACTIONAL_MATERIAL_PACK,id:n}]}}),updateFractionalMaterial:e.mutation({query:function(e){var t=e;return{url:"".concat(g),method:"POST",body:t}},invalidatesTags:function(e){return[{type:y.pJ.FRACTIONAL_MATERIAL_PACK,id:null===e||void 0===e?void 0:e.key}]}}),deleteFractionalMaterial:e.mutation({query:function(e){return{url:"".concat(g).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:y.pJ.FRACTIONAL_MATERIAL_PACK,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),h=E.useAddFractionalMaterialMutation,b=E.useDeleteFractionalMaterialMutation,L=E.useGetFractionalMaterialQuery,k=E.useListFractionalMaterialQuery,N=E.useUpdateFractionalMaterialMutation,w=(E.useGetErrorProneQuery,n(4576)),C="fractionalmaterial",T="Fractional Material Pack",O=(0,a.forwardRef)((function(e,t){var n=e.data,l=e.isLoading,r=e.disableTable,i=void 0!==r&&r,c=e.selectedItemType,s=e.onChange,u=void 0===s?function(){}:s,m=(0,a.useState)([]),v=(0,d.Z)(m,2),g=v[0],E=v[1],h=(0,a.useRef)(g),b=(0,a.useRef)([]),L=(0,a.useRef)([]),k=(0,y.qu)(c,{skip:!c}),N=k.data,O=(k.isLoading,(0,y.U$)(c,{skip:!c})),S=O.data;O.isLoading;(0,a.useImperativeHandle)(t,(function(){return{getItems:function(){return g}}})),(0,a.useEffect)((function(){E(n),h.current=n}),[n]),(0,a.useEffect)((function(){b.current=(null===N||void 0===N?void 0:N.results)||[],L.current=S||[]}),[N,S]);return a.createElement(o.PS,{baseRoute:"/estimation/".concat(C),description:T,isLoading:l,data:g,newTable:!0,tableLayoutClass:"h-full",allowFilters:!1,hideActionColumn:i,actionBodyTemplate:function(e){return a.createElement(p.z,{style:{height:"35px",width:"20px",marginLeft:20},type:"button",onClick:function(){(0,w.V)({message:"Are you sure you want to Delete Item?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){return function(e){var t=h.current.filter((function(t){return t!==e}));h.current=t,E(t)}(e)},reject:function(){}})},className:"p-button-rounded p-button-text",icon:"pi pi-trash"})},gridProps:{allowAdd:!0,disableAdd:i||!(0,y.pH)(g),OnRowsChanged:function(e){var t=e;E(t),h.current=t,u(!0)}}},a.createElement(o._P,{field:"item_key",width:"35%",header:"Item Description*",displayValueGetter:function(e,t){var n,a;if(!Array.isArray(e)){var l=null===(n=b.current)||void 0===n?void 0:n.filter((function(n){return n.key===e[t]}));return l.length?l[0].descr:null===(a=null===e||void 0===e?void 0:e.items)||void 0===a?void 0:a.descr}},editorType:!i&&function(e){var t=e.row,n=e.column,l=e.onRowChange;e.onClose;return a.createElement(f.L,{autoFocus:!0,style:{width:"100%"},className:"p-inputtext-sm",value:t[n.key],optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:b.current,onChange:function(e){var a,o=Object.assign({},t);o[n.key]=e.value;var r=null===(a=b.current.filter((function(t){return t.key===e.value}))[0])||void 0===a?void 0:a.itemuom_key;o.itemuom_key=r,l(o,!0)},tabIndex:-1})}}),a.createElement(o._P,{field:"itemuom_key",width:"20%",header:"UOM*",displayValueGetter:function(e,t){var n,a;if(!Array.isArray(e)){var l=null===(n=L.current)||void 0===n?void 0:n.filter((function(n){return n.key===e[t]}));return l.length?l[0].descr:null===(a=null===e||void 0===e?void 0:e.items_uoms)||void 0===a?void 0:a.descr}},editorType:!i&&function(e){var t=e.row,n=e.column,l=e.onRowChange;e.onClose;return a.createElement(f.L,{autoFocus:!0,style:{width:"100%"},className:"p-inputtext-sm",value:t[n.key],optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:L.current,onChange:function(e){var a=Object.assign({},t);a[n.key]=e.value,l(a,!0)},tabIndex:-1})}}),a.createElement(o._P,{field:"qty",header:"Quantity",type:"number",editorType:!i&&"number"}),a.createElement(o._P,{width:"30%",field:"purpose",header:"Purpose",type:"text",editorType:!i&&"text"}))})),S=function(e,t,n,a){return new(n||(n=Promise))((function(l,o){function r(e){try{c(a.next(e))}catch(t){o(t)}}function i(e){try{c(a.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}c((a=a.apply(e,t||[])).next())}))},x=function(e){var t=(0,o.pm)(),n=t.showSuccess,r=t.showError,i=(0,a.useState)(!1),c=(0,d.Z)(i,2),v=c[0],g=c[1],E=(0,a.useState)(!1),b=(0,d.Z)(E,2),k=b[0],w=b[1],C=(0,a.useState)(""),x=(0,d.Z)(C,2),j=x[0],P=(x[1],(0,a.useState)("")),_=(0,d.Z)(P,2),A=_[0],I=(_[1],(0,a.useState)({})),R=(0,d.Z)(I,2),F=R[0],B=R[1],Z=(0,l.s0)(),M=(0,l.UO)().id,W=parseInt(M||""),D=isNaN(W)||W<=0,q=(0,a.useRef)(),U=(0,a.useRef)(),K=(0,l.TH)().state;!K&&D&&Z("/estimation/fractionalmaterial");var V=(0,y.ft)(),J=L(W,{skip:D,refetchOnMountOrArgChange:!0}),Q=J.data,G=J.isLoading,z=(0,y.JB)(),H=z.data,X=z.isLoading,Y=(0,y.cQ)({projectId:null===K||void 0===K?void 0:K.projectKey},{skip:!(null===K||void 0===K?void 0:K.projectKey)}),$=Y.data,ee=(Y.isLoading,(0,a.useState)([])),te=(0,d.Z)(ee,2),ne=te[0],ae=te[1],le=(0,a.useState)(null),oe=(0,d.Z)(le,2),re=oe[0],ie=oe[1],ce=(0,y.DU)(),se=ce.data,de=ce.isFetching,ue=(0,y.U$)(re,{skip:!re}),me=ue.data,pe=(ue.isLoading,h()),fe=(0,d.Z)(pe,2),ve=fe[0],ye=fe[1].isLoading,ge=N(),Ee=(0,d.Z)(ge,2),he=Ee[0],be=Ee[1].isLoading;(0,a.useEffect)((function(){B(Q||Object.assign(Object.assign({},V),{proj_key:null===K||void 0===K?void 0:K.projectKey,projblk_key:null===K||void 0===K?void 0:K.blockKey})),Q&&(ae((null===Q||void 0===Q?void 0:Q.items)||[]),ie(Q.itemtyp_key))}),[Q]);return a.createElement(a.Fragment,null,a.createElement(o.Rm,{baseRoute:"/estimation/fractionalmaterial",description:T,id:W,data:F,isUpdating:ye||be||v,ref:U,isItemsTableChanged:k,isLoading:G,onSubmit:function(e){return S(void 0,void 0,void 0,(0,s.Z)().mark((function t(){var a,l,o,i;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o=null===(a=q.current)||void 0===a?void 0:a.getItems(),i=Object.assign(Object.assign({},e),{itemtyp_key:re,items:o,base_qty:j,uom_key:A}),console.log(i),!D){t.next=10;break}return t.next=7,ve(Object.assign(Object.assign({},i),V)).unwrap();case 7:l=t.sent,t.next=13;break;case 10:return t.next=12,he(Object.assign(Object.assign(Object.assign({},i),V),{key:null===Q||void 0===Q?void 0:Q.key})).unwrap();case 12:l=t.sent;case 13:n("Success",l.detail),g(!0),setTimeout((function(){Z("/estimation/fractionalmaterial")}),y.P7),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),r("An error occurred","We couldn't save your post, try again!");case 21:case"end":return t.stop()}}),t,null,[[0,18]])})))},renderForm:function(e,t,n,l){return a.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},a.createElement(o.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:n,isLoading:X,leftSpan:4,rightSpan:6,formItem:{component:f.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:H}}}),a.createElement(o.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:n,leftSpan:4,rightSpan:6,formItem:{component:f.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===$||void 0===$?void 0:$.results}}}),a.createElement("div",{className:"col-10 md:col-1"},a.createElement(p.z,{disabled:!0,label:"Clear"})),a.createElement(u.i,null),a.createElement(o.Wi,{label:"Fractional Pack Name",className:"col-12",name:"name",control:e,errors:n,leftSpan:2,rightSpan:4,formItem:{component:m.o,componentProps:{maxLength:100}}}),a.createElement(o.Wi,{label:"Item Type",name:"itemtyp_key",className:"col-12",control:e,errors:n,isLoading:de,leftSpan:2,rightSpan:4,required:!0,useExplicit:!0,onChange:function(e){ie(e.value)},formItem:{component:f.L,componentProps:{optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:null===se||void 0===se?void 0:se.results,value:re}}}),a.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-6"},a.createElement("label",{className:"col-4"},"Base Quantity / UOM"),a.createElement(m.o,{className:"col-1",style:{marginLeft:4},placeholder:""}),a.createElement("span",{className:"inputgroup-divider"},"/"),a.createElement(f.L,{className:"col-1",optionLabel:"descr",optionValue:"key",options:me})),a.createElement(o.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:n,leftSpan:2,rightSpan:6,formItem:{component:m.o,componentProps:{style:{marginTop:"1rem"},maxLength:100}}}),a.createElement("div",{className:"col-12 ",style:{height:"calc(100% - 183px)",minHeight:200}},a.createElement(O,{selectedItemType:re,data:ne,isLoading:G,ref:q,onChange:function(e){return!k&&w(e)}})))}}))},j=n(4756),P=n(6822),_=function(e){var t=b(),n=(0,d.Z)(t,2),l=n[0],r=n[1].isLoading,i=(0,a.useState)(null),c=(0,d.Z)(i,2),s=c[0],m=c[1],v=(0,a.useState)(null),g=(0,d.Z)(v,2),E=g[0],h=g[1],L=(0,y.dx)({}).data,N=(0,y.cQ)({projectId:s},{skip:!s}),w=N.data,C=(N.isLoading,k({projectId:s,blockId:E},{skip:!s||!E})),O=C.data,S=C.isLoading;return a.createElement(a.Fragment,null,a.createElement("div",{className:"flex"},a.createElement("h3",{className:(0,j.AK)("m-0 my-auto")},T),a.createElement(P.rU,{to:{pathname:"/estimation/fractionalmaterial/new"},state:{projectKey:s,blockKey:E},style:{textDecoration:"none",marginRight:"auto"}},a.createElement(p.z,{disabled:!1,label:"Add",className:"ml-3"}))),a.createElement(u.i,null),a.createElement("div",{className:"pl-5 flex"},a.createElement("div",{className:"field",style:{width:"40%"}},a.createElement("label",{className:(0,j.AK)("col-3")},"Project"),a.createElement(f.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:s,filter:!0,filterBy:"name",onChange:function(e){m(e.value),h(null)},options:null===L||void 0===L?void 0:L.results})),a.createElement("div",{className:"field",style:{width:"40%"}},a.createElement("label",{className:(0,j.AK)("col-3")},"Block"),a.createElement(f.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:E,filter:!0,filterBy:"descr",onChange:function(e){h(e.value)},options:null===w||void 0===w?void 0:w.results})),a.createElement("div",{className:"field",style:{width:"20%"}},a.createElement(p.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),h(null)}}))),a.createElement(u.i,null),a.createElement(o.PS,{baseRoute:"/estimation/fractionalmaterial",description:T,isLoading:S||r,data:null===O||void 0===O?void 0:O.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return l(e).unwrap()}},a.createElement(o._P,{field:"name",header:"Fractional Material Pack Name",filteringType:"text"}),a.createElement(o._P,{field:"vendor.name",header:"Description",filteringType:"text"}),a.createElement(o._P,{field:"project.name",header:"Item Type",filteringType:"text"}),a.createElement(o._P,{field:"status.descr",header:"UOM",filteringType:"text"})))},A=a.createElement(l.AW,{path:"fractionalmaterial"},a.createElement(l.AW,{path:"new",element:a.createElement(x,null)}),a.createElement(l.AW,{path:":id/edit",element:a.createElement(x,null)}),a.createElement(l.AW,{index:!0,element:a.createElement(_,null)})),I="/estimation/fractional/rod/",R=y.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listFractionalRod:e.query({query:function(e){var t=e.page,n=e.size,a=e.projectId,l=e.blockId;return{url:(0,y.DS)(I,"?page=".concat(t||1,"&page_size=").concat(n||y.IV,"&proj_key=").concat(a,"&projblk_key=").concat(l))}},providesTags:function(e){var t;return e?[].concat((0,v.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:y.pJ.FRACTIONAL_ROD_PACK,key:t}}))),[{type:y.pJ.FRACTIONAL_ROD_PACK,id:"LIST"}]):[{type:y.pJ.FRACTIONAL_ROD_PACK,id:"LIST"}]}}),addFractionalRod:e.mutation({query:function(e){return{url:I,method:"POST",body:e}},invalidatesTags:[{type:y.pJ.FRACTIONAL_ROD_PACK,id:"LIST"}]}),getFractionalRod:e.query({query:function(e){return"".concat(I).concat(e)},providesTags:function(e,t,n){return[{type:y.pJ.FRACTIONAL_ROD_PACK,id:n}]}}),updateFractionalRod:e.mutation({query:function(e){var t=e;return{url:"".concat(I),method:"POST",body:t}},invalidatesTags:function(e){return[{type:y.pJ.FRACTIONAL_ROD_PACK,id:null===e||void 0===e?void 0:e.key}]}}),deleteFractionalRod:e.mutation({query:function(e){return{url:"".concat(I).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:y.pJ.FRACTIONAL_ROD_PACK,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),F=R.useAddFractionalRodMutation,B=R.useDeleteFractionalRodMutation,Z=R.useGetFractionalRodQuery,M=R.useListFractionalRodQuery,W=R.useUpdateFractionalRodMutation,D=(R.useGetErrorProneQuery,"Fractional Rod Pack"),q=(0,a.forwardRef)((function(e,t){var n=e.data,l=e.isLoading,r=e.disableTable,i=void 0!==r&&r,c=e.selectedItemType,s=e.onChange,u=void 0===s?function(){}:s,m=(0,a.useState)([]),v=(0,d.Z)(m,2),g=v[0],E=v[1],h=(0,a.useRef)(g),b=(0,a.useRef)([]),L=(0,a.useRef)([]),k=(0,y.qu)(c,{skip:!c}),N=k.data,C=(k.isLoading,(0,y.U$)(c,{skip:!c})),T=C.data;C.isLoading;(0,a.useImperativeHandle)(t,(function(){return{getItems:function(){return g}}})),(0,a.useEffect)((function(){E(n),h.current=n}),[n]),(0,a.useEffect)((function(){b.current=(null===N||void 0===N?void 0:N.results)||[],L.current=T||[]}),[N,T]);return a.createElement(o.PS,{baseRoute:"/estimation/".concat("fractionalrod"),description:D,isLoading:l,data:g,newTable:!0,tableLayoutClass:"h-full",allowFilters:!1,hideActionColumn:i,actionBodyTemplate:function(e){return a.createElement(p.z,{style:{height:"35px",width:"20px",marginLeft:20},type:"button",onClick:function(){(0,w.V)({message:"Are you sure you want to Delete Item?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){return function(e){var t=h.current.filter((function(t){return t!==e}));h.current=t,E(t)}(e)},reject:function(){}})},className:"p-button-rounded p-button-text",icon:"pi pi-trash"})},gridProps:{allowAdd:!0,disableAdd:i||!(0,y.pH)(g),OnRowsChanged:function(e){var t=e;E(t),h.current=t,u(!0)}}},a.createElement(o._P,{field:"item_key",width:"25%",header:"Rod Size in MM*",displayValueGetter:function(e,t){var n,a;if(!Array.isArray(e)){var l=null===(n=b.current)||void 0===n?void 0:n.filter((function(n){return n.key===e[t]}));return l.length?l[0].descr:null===(a=null===e||void 0===e?void 0:e.items)||void 0===a?void 0:a.descr}},editorType:!i&&function(e){var t=e.row,n=e.column,l=e.onRowChange;e.onClose;return a.createElement(f.L,{autoFocus:!0,style:{width:"100%"},className:"p-inputtext-sm",value:t[n.key],optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:b.current,onChange:function(e){var a,o=Object.assign({},t);o[n.key]=e.value;var r=null===(a=b.current.filter((function(t){return t.key===e.value}))[0])||void 0===a?void 0:a.itemuom_key;o.itemuom_key=r,l(o,!0)},tabIndex:-1})}}),a.createElement(o._P,{field:"qty",header:"Rod Length",type:"number",editorType:!i&&"number"}),a.createElement(o._P,{field:"itemuom_key",header:"UOM*",displayValueGetter:function(e,t){var n,a;if(!Array.isArray(e)){var l=null===(n=L.current)||void 0===n?void 0:n.filter((function(n){return n.key===e[t]}));return l.length?l[0].descr:null===(a=null===e||void 0===e?void 0:e.items_uoms)||void 0===a?void 0:a.descr}},editorType:!i&&function(e){var t=e.row,n=e.column,l=e.onRowChange;e.onClose;return a.createElement(f.L,{autoFocus:!0,style:{width:"100%"},className:"p-inputtext-sm",value:t[n.key],optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:L.current,onChange:function(e){var a=Object.assign({},t);a[n.key]=e.value,l(a,!0)},tabIndex:-1})}}),a.createElement(o._P,{field:"qty",header:"Quantity",type:"number",editorType:!i&&"number"}),a.createElement(o._P,{width:"30%",field:"purpose",header:"Purpose",type:"text",editorType:!i&&"text"}))})),U=function(e,t,n,a){return new(n||(n=Promise))((function(l,o){function r(e){try{c(a.next(e))}catch(t){o(t)}}function i(e){try{c(a.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}c((a=a.apply(e,t||[])).next())}))},K=function(e){var t=(0,o.pm)(),n=t.showSuccess,r=t.showError,i=(0,a.useState)(!1),c=(0,d.Z)(i,2),v=c[0],g=c[1],E=(0,a.useState)(!1),h=(0,d.Z)(E,2),b=h[0],L=h[1],k=(0,a.useState)(""),N=(0,d.Z)(k,2),w=N[0],C=(N[1],(0,a.useState)("")),T=(0,d.Z)(C,2),O=T[0],S=(T[1],(0,a.useState)({})),x=(0,d.Z)(S,2),j=x[0],P=x[1],_=(0,l.s0)(),A=(0,l.UO)().id,I=parseInt(A||""),R=isNaN(I)||I<=0,B=(0,a.useRef)(),M=(0,a.useRef)(),K=(0,l.TH)().state;!K&&R&&_("/estimation/fractionalrod");var V=(0,y.ft)(),J=Z(I,{skip:R,refetchOnMountOrArgChange:!0}),Q=J.data,G=J.isLoading,z=(0,y.JB)(),H=z.data,X=z.isLoading,Y=(0,y.cQ)({projectId:null===K||void 0===K?void 0:K.projectKey},{skip:!(null===K||void 0===K?void 0:K.projectKey)}),$=Y.data,ee=(Y.isLoading,(0,a.useState)([])),te=(0,d.Z)(ee,2),ne=te[0],ae=te[1],le=(0,a.useState)(null),oe=(0,d.Z)(le,2),re=oe[0],ie=oe[1],ce=(0,y.DU)(),se=ce.data,de=ce.isFetching,ue=(0,y.U$)(re,{skip:!re}),me=ue.data,pe=(ue.isLoading,F()),fe=(0,d.Z)(pe,2),ve=fe[0],ye=fe[1].isLoading,ge=W(),Ee=(0,d.Z)(ge,2),he=Ee[0],be=Ee[1].isLoading;(0,a.useEffect)((function(){P(Q||Object.assign(Object.assign({},V),{proj_key:null===K||void 0===K?void 0:K.projectKey,projblk_key:null===K||void 0===K?void 0:K.blockKey})),Q&&(ae((null===Q||void 0===Q?void 0:Q.items)||[]),ie(Q.itemtyp_key))}),[Q]);return a.createElement(a.Fragment,null,a.createElement(o.Rm,{baseRoute:"/estimation/fractionalrod",description:D,id:I,data:j,isUpdating:ye||be||v,ref:M,isItemsTableChanged:b,isLoading:G,onSubmit:function(e){return U(void 0,void 0,void 0,(0,s.Z)().mark((function t(){var a,l,o,i;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o=null===(a=B.current)||void 0===a?void 0:a.getItems(),i=Object.assign(Object.assign({},e),{itemtyp_key:re,items:o,base_qty:w,uom_key:O}),console.log(i),!R){t.next=10;break}return t.next=7,ve(Object.assign(Object.assign({},i),V)).unwrap();case 7:l=t.sent,t.next=13;break;case 10:return t.next=12,he(Object.assign(Object.assign(Object.assign({},i),V),{key:null===Q||void 0===Q?void 0:Q.key})).unwrap();case 12:l=t.sent;case 13:n("Success",l.detail),g(!0),setTimeout((function(){_("/estimation/fractionalrod")}),y.P7),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),r("An error occurred","We couldn't save your post, try again!");case 21:case"end":return t.stop()}}),t,null,[[0,18]])})))},renderForm:function(e,t,n,l){return a.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},a.createElement(o.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:n,isLoading:X,leftSpan:4,rightSpan:6,formItem:{component:f.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:H}}}),a.createElement(o.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:n,leftSpan:4,rightSpan:6,formItem:{component:f.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===$||void 0===$?void 0:$.results}}}),a.createElement("div",{className:"col-10 md:col-1"},a.createElement(p.z,{disabled:!0,label:"Clear"})),a.createElement(u.i,null),a.createElement(o.Wi,{label:"Fractional Pack Name",className:"col-12",name:"name",control:e,errors:n,leftSpan:2,rightSpan:4,formItem:{component:m.o,componentProps:{maxLength:100}}}),a.createElement(o.Wi,{label:"Item Type",name:"itemtyp_key",className:"col-12",control:e,errors:n,isLoading:de,leftSpan:2,rightSpan:4,required:!0,useExplicit:!0,onChange:function(e){ie(e.value)},formItem:{component:f.L,componentProps:{optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:null===se||void 0===se?void 0:se.results,value:re}}}),a.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-6"},a.createElement("label",{className:"col-4"},"Base Quantity / UOM"),a.createElement(m.o,{className:"col-1",style:{marginLeft:4},placeholder:""}),a.createElement("span",{className:"inputgroup-divider"},"/"),a.createElement(f.L,{className:"col-1",optionLabel:"descr",optionValue:"key",options:me})),a.createElement(o.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:n,leftSpan:2,rightSpan:6,formItem:{component:m.o,componentProps:{style:{marginTop:"1rem"},maxLength:100}}}),a.createElement("div",{className:"col-12 ",style:{height:"calc(100% - 183px)",minHeight:200}},a.createElement(q,{selectedItemType:re,data:ne,isLoading:G,ref:B,onChange:function(e){return!b&&L(e)}})))}}))},V=function(e){var t=B(),n=(0,d.Z)(t,2),l=n[0],r=n[1].isLoading,i=(0,a.useState)(null),c=(0,d.Z)(i,2),s=c[0],m=c[1],v=(0,a.useState)(null),g=(0,d.Z)(v,2),E=g[0],h=g[1],b=(0,y.dx)({}).data,L=(0,y.cQ)({projectId:s},{skip:!s}),k=L.data,N=(L.isLoading,M({projectId:s,blockId:E},{skip:!s||!E})),w=N.data,C=N.isLoading;return a.createElement(a.Fragment,null,a.createElement("div",{className:"flex"},a.createElement("h3",{className:(0,j.AK)("m-0 my-auto")},D),a.createElement(P.rU,{to:{pathname:"/estimation/fractionalrod/new"},state:{projectKey:s,blockKey:E},style:{textDecoration:"none",marginRight:"auto"}},a.createElement(p.z,{disabled:!1,label:"Add",className:"ml-3"}))),a.createElement(u.i,null),a.createElement("div",{className:"pl-5 flex"},a.createElement("div",{className:"field",style:{width:"40%"}},a.createElement("label",{className:(0,j.AK)("col-3")},"Project"),a.createElement(f.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:s,filter:!0,filterBy:"name",onChange:function(e){m(e.value),h(null)},options:null===b||void 0===b?void 0:b.results})),a.createElement("div",{className:"field",style:{width:"40%"}},a.createElement("label",{className:(0,j.AK)("col-3")},"Block"),a.createElement(f.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:E,filter:!0,filterBy:"descr",onChange:function(e){h(e.value)},options:null===k||void 0===k?void 0:k.results})),a.createElement("div",{className:"field",style:{width:"20%"}},a.createElement(p.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),h(null)}}))),a.createElement(u.i,null),a.createElement(o.PS,{baseRoute:"/estimation/fractionalrod",description:D,isLoading:C||r,data:null===w||void 0===w?void 0:w.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return l(e).unwrap()}},a.createElement(o._P,{field:"name",header:"Fractional Rod Pack Name",filteringType:"text"}),a.createElement(o._P,{field:"vendor.name",header:"Description",filteringType:"text"}),a.createElement(o._P,{field:"project.name",header:"Item Type",filteringType:"text"}),a.createElement(o._P,{field:"status.descr",header:"Base UOM",filteringType:"text"})))},J=a.createElement(l.AW,{path:"fractionalrod"},a.createElement(l.AW,{path:"new",element:a.createElement(K,null)}),a.createElement(l.AW,{path:":id/edit",element:a.createElement(K,null)}),a.createElement(l.AW,{index:!0,element:a.createElement(V,null)})),Q="/estimation/whole/rod/",G=y.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listWholeRod:e.query({query:function(e){var t=e.page,n=e.size,a=e.projectId,l=e.blockId;return{url:(0,y.DS)(Q,"?page=".concat(t||1,"&page_size=").concat(n||y.IV,"&proj_key=").concat(a,"&projblk_key=").concat(l))}},providesTags:function(e){var t;return e?[].concat((0,v.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:y.pJ.WHOLE_ROD_PACK,key:t}}))),[{type:y.pJ.WHOLE_ROD_PACK,id:"LIST"}]):[{type:y.pJ.WHOLE_ROD_PACK,id:"LIST"}]}}),addWholeRod:e.mutation({query:function(e){return{url:Q,method:"POST",body:e}},invalidatesTags:[{type:y.pJ.WHOLE_ROD_PACK,id:"LIST"}]}),getWholeRod:e.query({query:function(e){return"".concat(Q).concat(e)},providesTags:function(e,t,n){return[{type:y.pJ.WHOLE_ROD_PACK,id:n}]}}),updateWholeRod:e.mutation({query:function(e){var t=e;return{url:"".concat(Q),method:"POST",body:t}},invalidatesTags:function(e){return[{type:y.pJ.WHOLE_ROD_PACK,id:null===e||void 0===e?void 0:e.key}]}}),deleteWholeRod:e.mutation({query:function(e){return{url:"".concat(Q).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:y.pJ.WHOLE_ROD_PACK,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),z=G.useAddWholeRodMutation,H=G.useDeleteWholeRodMutation,X=G.useGetWholeRodQuery,Y=G.useListWholeRodQuery,$=G.useUpdateWholeRodMutation,ee=(G.useGetErrorProneQuery,"Whole Rod Pack"),te=(0,a.forwardRef)((function(e,t){var n=e.data,l=e.isLoading,r=e.disableTable,i=void 0!==r&&r,c=e.selectedItemType,s=e.onChange,u=void 0===s?function(){}:s,m=(0,a.useState)([]),v=(0,d.Z)(m,2),g=v[0],E=v[1],h=(0,a.useRef)(g),b=(0,a.useRef)([]),L=(0,a.useRef)([]),k=(0,y.qu)(c,{skip:!c}),N=k.data,C=(k.isLoading,(0,y.U$)(c,{skip:!c})),T=C.data;C.isLoading;(0,a.useImperativeHandle)(t,(function(){return{getItems:function(){return g}}})),(0,a.useEffect)((function(){E(n),h.current=n}),[n]),(0,a.useEffect)((function(){b.current=(null===N||void 0===N?void 0:N.results)||[],L.current=T||[]}),[N,T]);return a.createElement(o.PS,{baseRoute:"/estimation/".concat("wholerod"),description:ee,isLoading:l,data:g,newTable:!0,tableLayoutClass:"h-full",allowFilters:!1,hideActionColumn:i,actionBodyTemplate:function(e){return a.createElement(p.z,{style:{height:"35px",width:"20px",marginLeft:20},type:"button",onClick:function(){(0,w.V)({message:"Are you sure you want to Delete Item?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){return function(e){var t=h.current.filter((function(t){return t!==e}));h.current=t,E(t)}(e)},reject:function(){}})},className:"p-button-rounded p-button-text",icon:"pi pi-trash"})},gridProps:{allowAdd:!0,disableAdd:i||!(0,y.pH)(g),OnRowsChanged:function(e){var t=e;E(t),h.current=t,u(!0)}}},a.createElement(o._P,{field:"item_key",width:"25%",header:"Rod Size in MM*",displayValueGetter:function(e,t){var n,a;if(!Array.isArray(e)){var l=null===(n=b.current)||void 0===n?void 0:n.filter((function(n){return n.key===e[t]}));return l.length?l[0].descr:null===(a=null===e||void 0===e?void 0:e.items)||void 0===a?void 0:a.descr}},editorType:!i&&function(e){var t=e.row,n=e.column,l=e.onRowChange;e.onClose;return a.createElement(f.L,{autoFocus:!0,style:{width:"100%"},className:"p-inputtext-sm",value:t[n.key],optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:b.current,onChange:function(e){var a,o=Object.assign({},t);o[n.key]=e.value;var r=null===(a=b.current.filter((function(t){return t.key===e.value}))[0])||void 0===a?void 0:a.itemuom_key;o.itemuom_key=r,l(o,!0)},tabIndex:-1})}}),a.createElement(o._P,{field:"qty",header:"Rod Length",type:"number",editorType:!i&&"number"}),a.createElement(o._P,{field:"itemuom_key",header:"UOM*",displayValueGetter:function(e,t){var n,a;if(!Array.isArray(e)){var l=null===(n=L.current)||void 0===n?void 0:n.filter((function(n){return n.key===e[t]}));return l.length?l[0].descr:null===(a=null===e||void 0===e?void 0:e.items_uoms)||void 0===a?void 0:a.descr}},editorType:!i&&function(e){var t=e.row,n=e.column,l=e.onRowChange;e.onClose;return a.createElement(f.L,{autoFocus:!0,style:{width:"100%"},className:"p-inputtext-sm",value:t[n.key],optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:L.current,onChange:function(e){var a=Object.assign({},t);a[n.key]=e.value,l(a,!0)},tabIndex:-1})}}),a.createElement(o._P,{field:"qty",header:"Quantity",type:"number",editorType:!i&&"number"}),a.createElement(o._P,{width:"30%",field:"purpose",header:"Purpose",type:"text",editorType:!i&&"text"}))})),ne=function(e,t,n,a){return new(n||(n=Promise))((function(l,o){function r(e){try{c(a.next(e))}catch(t){o(t)}}function i(e){try{c(a.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}c((a=a.apply(e,t||[])).next())}))},ae=function(e){var t=(0,o.pm)(),n=t.showSuccess,r=t.showError,i=(0,a.useState)(!1),c=(0,d.Z)(i,2),v=c[0],g=c[1],E=(0,a.useState)(!1),h=(0,d.Z)(E,2),b=h[0],L=h[1],k=(0,a.useState)(""),N=(0,d.Z)(k,2),w=N[0],C=(N[1],(0,a.useState)("")),T=(0,d.Z)(C,2),O=T[0],S=(T[1],(0,a.useState)({})),x=(0,d.Z)(S,2),j=x[0],P=x[1],_=(0,l.s0)(),A=(0,l.UO)().id,I=parseInt(A||""),R=isNaN(I)||I<=0,F=(0,a.useRef)(),B=(0,a.useRef)(),Z=(0,l.TH)().state;!Z&&R&&_("/estimation/wholerod");var M=(0,y.ft)(),W=X(I,{skip:R,refetchOnMountOrArgChange:!0}),D=W.data,q=W.isLoading,U=(0,y.JB)(),K=U.data,V=U.isLoading,J=(0,y.cQ)({projectId:null===Z||void 0===Z?void 0:Z.projectKey},{skip:!(null===Z||void 0===Z?void 0:Z.projectKey)}),Q=J.data,G=(J.isLoading,(0,a.useState)([])),H=(0,d.Z)(G,2),Y=H[0],ae=H[1],le=(0,a.useState)(null),oe=(0,d.Z)(le,2),re=oe[0],ie=oe[1],ce=(0,y.DU)(),se=ce.data,de=ce.isFetching,ue=(0,y.U$)(re,{skip:!re}),me=ue.data,pe=(ue.isLoading,z()),fe=(0,d.Z)(pe,2),ve=fe[0],ye=fe[1].isLoading,ge=$(),Ee=(0,d.Z)(ge,2),he=Ee[0],be=Ee[1].isLoading;(0,a.useEffect)((function(){P(D||Object.assign(Object.assign({},M),{proj_key:null===Z||void 0===Z?void 0:Z.projectKey,projblk_key:null===Z||void 0===Z?void 0:Z.blockKey})),D&&(ae((null===D||void 0===D?void 0:D.items)||[]),ie(D.itemtyp_key))}),[D]);return a.createElement(a.Fragment,null,a.createElement(o.Rm,{baseRoute:"/estimation/wholerod",description:ee,id:I,data:j,isUpdating:ye||be||v,ref:B,isItemsTableChanged:b,isLoading:q,onSubmit:function(e){return ne(void 0,void 0,void 0,(0,s.Z)().mark((function t(){var a,l,o,i;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o=null===(a=F.current)||void 0===a?void 0:a.getItems(),i=Object.assign(Object.assign({},e),{itemtyp_key:re,items:o,base_qty:w,uom_key:O}),console.log(i),!R){t.next=10;break}return t.next=7,ve(Object.assign(Object.assign({},i),M)).unwrap();case 7:l=t.sent,t.next=13;break;case 10:return t.next=12,he(Object.assign(Object.assign(Object.assign({},i),M),{key:null===D||void 0===D?void 0:D.key})).unwrap();case 12:l=t.sent;case 13:n("Success",l.detail),g(!0),setTimeout((function(){_("/estimation/wholerod")}),y.P7),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),r("An error occurred","We couldn't save your post, try again!");case 21:case"end":return t.stop()}}),t,null,[[0,18]])})))},renderForm:function(e,t,n,l){return a.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},a.createElement(o.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:n,isLoading:V,leftSpan:4,rightSpan:6,formItem:{component:f.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:K}}}),a.createElement(o.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:n,leftSpan:4,rightSpan:6,formItem:{component:f.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===Q||void 0===Q?void 0:Q.results}}}),a.createElement("div",{className:"col-10 md:col-1"},a.createElement(p.z,{disabled:!0,label:"Clear"})),a.createElement(u.i,null),a.createElement(o.Wi,{label:"Whole Pack Name",className:"col-12",name:"name",control:e,errors:n,leftSpan:2,rightSpan:4,formItem:{component:m.o,componentProps:{maxLength:100}}}),a.createElement(o.Wi,{label:"Item Type",name:"itemtyp_key",className:"col-12",control:e,errors:n,isLoading:de,leftSpan:2,rightSpan:4,required:!0,useExplicit:!0,onChange:function(e){ie(e.value)},formItem:{component:f.L,componentProps:{optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:null===se||void 0===se?void 0:se.results,value:re}}}),a.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-6"},a.createElement("label",{className:"col-4"},"Base Quantity / UOM"),a.createElement(m.o,{className:"col-1",style:{marginLeft:4},placeholder:""}),a.createElement("span",{className:"inputgroup-divider"},"/"),a.createElement(f.L,{className:"col-1",optionLabel:"descr",optionValue:"key",options:me})),a.createElement(o.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:n,leftSpan:2,rightSpan:6,formItem:{component:m.o,componentProps:{style:{marginTop:"1rem"},maxLength:100}}}),a.createElement("div",{className:"col-12 ",style:{height:"calc(100% - 183px)",minHeight:200}},a.createElement(te,{selectedItemType:re,data:Y,isLoading:q,ref:F,onChange:function(e){return!b&&L(e)}})))}}))},le=function(e){var t=H(),n=(0,d.Z)(t,2),l=n[0],r=n[1].isLoading,i=(0,a.useState)(null),c=(0,d.Z)(i,2),s=c[0],m=c[1],v=(0,a.useState)(null),g=(0,d.Z)(v,2),E=g[0],h=g[1],b=(0,y.dx)({}).data,L=(0,y.cQ)({projectId:s},{skip:!s}),k=L.data,N=(L.isLoading,Y({projectId:s,blockId:E},{skip:!s||!E})),w=N.data,C=N.isLoading;return a.createElement(a.Fragment,null,a.createElement("div",{className:"flex"},a.createElement("h3",{className:(0,j.AK)("m-0 my-auto")},ee),a.createElement(P.rU,{to:{pathname:"/estimation/wholerod/new"},state:{projectKey:s,blockKey:E},style:{textDecoration:"none",marginRight:"auto"}},a.createElement(p.z,{disabled:!1,label:"Add",className:"ml-3"}))),a.createElement(u.i,null),a.createElement("div",{className:"pl-5 flex"},a.createElement("div",{className:"field",style:{width:"40%"}},a.createElement("label",{className:(0,j.AK)("col-3")},"Project"),a.createElement(f.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:s,filter:!0,filterBy:"name",onChange:function(e){m(e.value),h(null)},options:null===b||void 0===b?void 0:b.results})),a.createElement("div",{className:"field",style:{width:"40%"}},a.createElement("label",{className:(0,j.AK)("col-3")},"Block"),a.createElement(f.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:E,filter:!0,filterBy:"descr",onChange:function(e){h(e.value)},options:null===k||void 0===k?void 0:k.results})),a.createElement("div",{className:"field",style:{width:"20%"}},a.createElement(p.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),h(null)}}))),a.createElement(u.i,null),a.createElement(o.PS,{baseRoute:"/estimation/wholerod",description:ee,isLoading:C||r,data:null===w||void 0===w?void 0:w.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return l(e).unwrap()}},a.createElement(o._P,{field:"name",header:"Whole Rod Pack Name",filteringType:"text"}),a.createElement(o._P,{field:"vendor.name",header:"Description",filteringType:"text"}),a.createElement(o._P,{field:"project.name",header:"Item Type",filteringType:"text"}),a.createElement(o._P,{field:"status.descr",header:"Base UOM",filteringType:"text"})))},oe=a.createElement(l.AW,{path:"wholerod"},a.createElement(l.AW,{path:"new",element:a.createElement(ae,null)}),a.createElement(l.AW,{path:":id/edit",element:a.createElement(ae,null)}),a.createElement(l.AW,{index:!0,element:a.createElement(le,null)})),re="/estimation/beam/",ie=y.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listBeam:e.query({query:function(e){var t=e.page,n=e.size,a=e.projectId,l=e.blockId;return{url:(0,y.DS)(re,"?page=".concat(t||1,"&page_size=").concat(n||y.IV,"&proj_key=").concat(a,"&projblk_key=").concat(l))}},providesTags:function(e){var t;return e?[].concat((0,v.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:y.pJ.BEAM,key:t}}))),[{type:y.pJ.BEAM,id:"LIST"}]):[{type:y.pJ.BEAM,id:"LIST"}]}}),addBeam:e.mutation({query:function(e){return{url:re,method:"POST",body:e}},invalidatesTags:[{type:y.pJ.BEAM,id:"LIST"}]}),getBeam:e.query({query:function(e){return"".concat(re).concat(e)},providesTags:function(e,t,n){return[{type:y.pJ.BEAM,id:n}]}}),updateBeam:e.mutation({query:function(e){var t=e;return{url:"".concat(re),method:"POST",body:t}},invalidatesTags:function(e){return[{type:y.pJ.BEAM,id:null===e||void 0===e?void 0:e.key}]}}),deleteBeam:e.mutation({query:function(e){return{url:"".concat(re).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:y.pJ.BEAM,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),ce=ie.useAddBeamMutation,se=ie.useDeleteBeamMutation,de=ie.useGetBeamQuery,ue=ie.useListBeamQuery,me=ie.useUpdateBeamMutation,pe=(ie.useGetErrorProneQuery,"Beam"),fe=function(e,t,n,a){return new(n||(n=Promise))((function(l,o){function r(e){try{c(a.next(e))}catch(t){o(t)}}function i(e){try{c(a.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}c((a=a.apply(e,t||[])).next())}))},ve=function(e){var t=(0,o.pm)(),n=t.showSuccess,r=t.showError,i=(0,a.useState)(!1),c=(0,d.Z)(i,2),v=c[0],g=c[1],E=(0,a.useState)(!1),h=(0,d.Z)(E,2),b=h[0],L=(h[1],(0,a.useState)("")),k=(0,d.Z)(L,2),N=k[0],w=k[1],C=(0,a.useState)(""),T=(0,d.Z)(C,2),O=T[0],S=(T[1],(0,a.useState)({})),x=(0,d.Z)(S,2),j=x[0],P=x[1],_=(0,l.s0)(),A=(0,l.UO)().id,I=parseInt(A||""),R=isNaN(I)||I<=0,F=(0,a.useRef)(),B=(0,l.TH)().state;!B&&R&&_("/estimation/beam");var Z=(0,y.ft)(),M=de(I,{skip:R,refetchOnMountOrArgChange:!0}),W=M.data,D=M.isLoading,q=(0,y.JB)(),U=q.data,K=q.isLoading,V=(0,y.cQ)({projectId:null===B||void 0===B?void 0:B.projectKey},{skip:!(null===B||void 0===B?void 0:B.projectKey)}),J=V.data,Q=(V.isLoading,(0,y.DY)({})),G=Q.data,z=(Q.isLoading,ce()),H=(0,d.Z)(z,2),X=H[0],Y=H[1].isLoading,$=me(),ee=(0,d.Z)($,2),te=ee[0],ne=ee[1].isLoading;(0,a.useEffect)((function(){P(W||Object.assign(Object.assign({},Z),{proj_key:null===B||void 0===B?void 0:B.projectKey,projblk_key:null===B||void 0===B?void 0:B.blockKey}))}),[W]);return a.createElement(a.Fragment,null,a.createElement(o.Rm,{baseRoute:"/estimation/beam",description:pe,id:I,data:j,isUpdating:Y||ne||v,ref:F,isItemsTableChanged:b,isLoading:D,onSubmit:function(e){return fe(void 0,void 0,void 0,(0,s.Z)().mark((function t(){var a,l;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,l=Object.assign(Object.assign({},e),{base_qty:N,uom_key:O}),console.log(l),!R){t.next=9;break}return t.next=6,X(Object.assign(Object.assign({},l),Z)).unwrap();case 6:a=t.sent,t.next=12;break;case 9:return t.next=11,te(Object.assign(Object.assign(Object.assign({},l),Z),{key:null===W||void 0===W?void 0:W.key})).unwrap();case 11:a=t.sent;case 12:n("Success",a.detail),g(!0),setTimeout((function(){_("/estimation/beam")}),y.P7),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),r("An error occurred","We couldn't save your post, try again!");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))},renderForm:function(e,t,n,l){return a.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},a.createElement(o.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:n,isLoading:K,leftSpan:4,rightSpan:6,formItem:{component:f.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:U}}}),a.createElement(o.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:n,leftSpan:4,rightSpan:6,formItem:{component:f.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===J||void 0===J?void 0:J.results}}}),a.createElement("div",{className:"col-10 md:col-1"},a.createElement(p.z,{disabled:!0,label:"Clear"})),a.createElement(u.i,null),a.createElement(o.Wi,{label:"Component Name",className:"col-12",name:"name",control:e,errors:n,leftSpan:2,rightSpan:4,formItem:{component:m.o,componentProps:{maxLength:100}}}),a.createElement(o.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:n,leftSpan:2,rightSpan:6,formItem:{component:m.o,componentProps:{maxLength:100}}}),a.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},a.createElement("label",{className:"col-3",style:{paddingLeft:0}},"Base Quantity / UOM"),a.createElement(m.o,{className:"col-1",placeholder:""}),a.createElement("span",{className:"inputgroup-divider"},"/"),a.createElement(f.L,{className:"col-1",optionLabel:"descr",optionValue:"key",options:null===G||void 0===G?void 0:G.results}),a.createElement("div",{className:"col-6"})),a.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},a.createElement("label",{className:"col-3"},"B x W x L / UOM"),a.createElement(m.o,{className:"col-1",style:{marginLeft:4},placeholder:""}),a.createElement("span",{className:"inputgroup-divider-normal"},"X"),a.createElement(m.o,{className:"col-1",style:{marginLeft:4},placeholder:""}),a.createElement("span",{className:"inputgroup-divider-normal"},"X"),a.createElement(m.o,{className:"col-1",style:{marginLeft:4},placeholder:""}),a.createElement("span",{className:"inputgroup-divider"},"/"),a.createElement(f.L,{className:"col-2",optionLabel:"descr",optionValue:"key",options:null===G||void 0===G?void 0:G.results}),a.createElement("div",{className:"col-4",style:{margin:"auto"}},a.createElement("label",{style:{display:"flex",justifyContent:"center"}},"Target Quantity / UOM"))),a.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},a.createElement("label",{className:"col-3"},"Column Extension RCC"),a.createElement("div",{className:"col-3"},a.createElement(f.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===G||void 0===G?void 0:G.results})),a.createElement("div",{className:"col-3",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:"1:1:2",disabled:!0})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:N,onChange:function(e){return w(e.target.value)}})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))),a.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex pb-5"},a.createElement("label",{className:"col-3"},"Column Body Rod Pack"),a.createElement("div",{className:"col-3"},a.createElement(f.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===G||void 0===G?void 0:G.results})),a.createElement("div",{className:"col-3",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:"1.0 X 1.6 FEET",disabled:!0})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:N,onChange:function(e){return w(e.target.value)}})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))))}}))},ye=function(e){var t=se(),n=(0,d.Z)(t,2),l=n[0],r=n[1].isLoading,i=(0,a.useState)(null),c=(0,d.Z)(i,2),s=c[0],m=c[1],v=(0,a.useState)(null),g=(0,d.Z)(v,2),E=g[0],h=g[1],b=(0,y.dx)({}).data,L=(0,y.cQ)({projectId:s},{skip:!s}),k=L.data,N=(L.isLoading,ue({projectId:s,blockId:E},{skip:!s||!E})),w=N.data,C=N.isLoading;return a.createElement(a.Fragment,null,a.createElement("div",{className:"flex"},a.createElement("h3",{className:(0,j.AK)("m-0 my-auto")},pe),a.createElement(P.rU,{to:{pathname:"/estimation/beam/new"},state:{projectKey:s,blockKey:E},style:{textDecoration:"none",marginRight:"auto"}},a.createElement(p.z,{disabled:!1,label:"Add",className:"ml-3"}))),a.createElement(u.i,null),a.createElement("div",{className:"pl-5 flex"},a.createElement("div",{className:"field",style:{width:"40%"}},a.createElement("label",{className:(0,j.AK)("col-3")},"Project"),a.createElement(f.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:s,filter:!0,filterBy:"name",onChange:function(e){m(e.value),h(null)},options:null===b||void 0===b?void 0:b.results})),a.createElement("div",{className:"field",style:{width:"40%"}},a.createElement("label",{className:(0,j.AK)("col-3")},"Block"),a.createElement(f.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:E,filter:!0,filterBy:"descr",onChange:function(e){h(e.value)},options:null===k||void 0===k?void 0:k.results})),a.createElement("div",{className:"field",style:{width:"20%"}},a.createElement(p.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),h(null)}}))),a.createElement(u.i,null),a.createElement(o.PS,{baseRoute:"/estimation/beam",description:pe,isLoading:C||r,data:null===w||void 0===w?void 0:w.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return l(e).unwrap()}},a.createElement(o._P,{field:"name",header:"Component Name",filteringType:"text"}),a.createElement(o._P,{field:"descr",header:"Description",filteringType:"text"}),a.createElement(o._P,{field:"uom",header:"Base UOM",filteringType:"text"})))},ge=a.createElement(l.AW,{path:"beam"},a.createElement(l.AW,{path:"new",element:a.createElement(ve,null)}),a.createElement(l.AW,{path:":id/edit",element:a.createElement(ve,null)}),a.createElement(l.AW,{index:!0,element:a.createElement(ye,null)})),Ee="/estimation/columnbody/",he=y.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listColumnBody:e.query({query:function(e){var t=e.page,n=e.size,a=e.projectId,l=e.blockId;return{url:(0,y.DS)(Ee,"?page=".concat(t||1,"&page_size=").concat(n||y.IV,"&proj_key=").concat(a,"&projblk_key=").concat(l))}},providesTags:function(e){var t;return e?[].concat((0,v.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:y.pJ.COLUMN_BODY,key:t}}))),[{type:y.pJ.COLUMN_BODY,id:"LIST"}]):[{type:y.pJ.COLUMN_BODY,id:"LIST"}]}}),addColumnBody:e.mutation({query:function(e){return{url:Ee,method:"POST",body:e}},invalidatesTags:[{type:y.pJ.COLUMN_BODY,id:"LIST"}]}),getColumnBody:e.query({query:function(e){return"".concat(Ee).concat(e)},providesTags:function(e,t,n){return[{type:y.pJ.COLUMN_BODY,id:n}]}}),updateColumnBody:e.mutation({query:function(e){var t=e;return{url:"".concat(Ee),method:"POST",body:t}},invalidatesTags:function(e){return[{type:y.pJ.COLUMN_BODY,id:null===e||void 0===e?void 0:e.key}]}}),deleteColumnBody:e.mutation({query:function(e){return{url:"".concat(Ee).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:y.pJ.COLUMN_BODY,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),be=he.useAddColumnBodyMutation,Le=he.useDeleteColumnBodyMutation,ke=he.useGetColumnBodyQuery,Ne=he.useListColumnBodyQuery,we=he.useUpdateColumnBodyMutation,Ce=(he.useGetErrorProneQuery,"Column Body"),Te=function(e,t,n,a){return new(n||(n=Promise))((function(l,o){function r(e){try{c(a.next(e))}catch(t){o(t)}}function i(e){try{c(a.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}c((a=a.apply(e,t||[])).next())}))},Oe=function(e){var t=(0,o.pm)(),n=t.showSuccess,r=t.showError,i=(0,a.useState)(!1),c=(0,d.Z)(i,2),v=c[0],g=c[1],E=(0,a.useState)(!1),h=(0,d.Z)(E,2),b=h[0],L=(h[1],(0,a.useState)("")),k=(0,d.Z)(L,2),N=k[0],w=k[1],C=(0,a.useState)(""),T=(0,d.Z)(C,2),O=T[0],S=(T[1],(0,a.useState)({})),x=(0,d.Z)(S,2),j=x[0],P=x[1],_=(0,l.s0)(),A=(0,l.UO)().id,I=parseInt(A||""),R=isNaN(I)||I<=0,F=(0,a.useRef)(),B=(0,l.TH)().state;!B&&R&&_("/estimation/columnbody");var Z=(0,y.ft)(),M=ke(I,{skip:R,refetchOnMountOrArgChange:!0}),W=M.data,D=M.isLoading,q=(0,y.JB)(),U=q.data,K=q.isLoading,V=(0,y.cQ)({projectId:null===B||void 0===B?void 0:B.projectKey},{skip:!(null===B||void 0===B?void 0:B.projectKey)}),J=V.data,Q=(V.isLoading,(0,y.DY)({})),G=Q.data,z=(Q.isLoading,be()),H=(0,d.Z)(z,2),X=H[0],Y=H[1].isLoading,$=we(),ee=(0,d.Z)($,2),te=ee[0],ne=ee[1].isLoading;(0,a.useEffect)((function(){P(W||Object.assign(Object.assign({},Z),{proj_key:null===B||void 0===B?void 0:B.projectKey,projblk_key:null===B||void 0===B?void 0:B.blockKey}))}),[W]);return a.createElement(a.Fragment,null,a.createElement(o.Rm,{baseRoute:"/estimation/columnbody",description:Ce,id:I,data:j,isUpdating:Y||ne||v,ref:F,isItemsTableChanged:b,isLoading:D,onSubmit:function(e){return Te(void 0,void 0,void 0,(0,s.Z)().mark((function t(){var a,l;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,l=Object.assign(Object.assign({},e),{base_qty:N,uom_key:O}),console.log(l),!R){t.next=9;break}return t.next=6,X(Object.assign(Object.assign({},l),Z)).unwrap();case 6:a=t.sent,t.next=12;break;case 9:return t.next=11,te(Object.assign(Object.assign(Object.assign({},l),Z),{key:null===W||void 0===W?void 0:W.key})).unwrap();case 11:a=t.sent;case 12:n("Success",a.detail),g(!0),setTimeout((function(){_("/estimation/columnbody")}),y.P7),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),r("An error occurred","We couldn't save your post, try again!");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))},renderForm:function(e,t,n,l){return a.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},a.createElement(o.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:n,isLoading:K,leftSpan:4,rightSpan:6,formItem:{component:f.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:U}}}),a.createElement(o.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:n,leftSpan:4,rightSpan:6,formItem:{component:f.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===J||void 0===J?void 0:J.results}}}),a.createElement("div",{className:"col-10 md:col-1"},a.createElement(p.z,{disabled:!0,label:"Clear"})),a.createElement(u.i,null),a.createElement(o.Wi,{label:"Component Name",className:"col-12",name:"name",control:e,errors:n,leftSpan:2,rightSpan:4,formItem:{component:m.o,componentProps:{maxLength:100}}}),a.createElement(o.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:n,leftSpan:2,rightSpan:6,formItem:{component:m.o,componentProps:{maxLength:100}}}),a.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},a.createElement("label",{className:"col-3",style:{paddingLeft:0}},"Base Quantity / UOM"),a.createElement(m.o,{className:"col-1",placeholder:""}),a.createElement("span",{className:"inputgroup-divider"},"/"),a.createElement(f.L,{className:"col-1",optionLabel:"descr",optionValue:"key",options:null===G||void 0===G?void 0:G.results}),a.createElement("div",{className:"col-6"})),a.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},a.createElement("label",{className:"col-3"},"W x B / UOM"),a.createElement(m.o,{className:"col-1",style:{marginLeft:4},placeholder:""}),a.createElement("span",{className:"inputgroup-divider-normal"},"X"),a.createElement(m.o,{className:"col-1",style:{marginLeft:4},placeholder:""}),a.createElement("span",{className:"inputgroup-divider"},"/"),a.createElement(f.L,{className:"col-2",optionLabel:"descr",optionValue:"key",options:null===G||void 0===G?void 0:G.results}),a.createElement("div",{className:"col-4",style:{margin:"auto"}},a.createElement("label",{style:{display:"flex",justifyContent:"center"}},"Target Quantity / UOM"))),a.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},a.createElement("label",{className:"col-3"},"Column Extension RCC"),a.createElement("div",{className:"col-3"},a.createElement(f.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===G||void 0===G?void 0:G.results})),a.createElement("div",{className:"col-3",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:"1:1:2",disabled:!0})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:N,onChange:function(e){return w(e.target.value)}})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))),a.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex pb-5"},a.createElement("label",{className:"col-3"},"Column Body Rod Pack"),a.createElement("div",{className:"col-3"},a.createElement(f.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===G||void 0===G?void 0:G.results})),a.createElement("div",{className:"col-3",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:"1.0 X 1.6 FEET",disabled:!0})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:N,onChange:function(e){return w(e.target.value)}})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))))}}))},Se=function(e){var t=Le(),n=(0,d.Z)(t,2),l=n[0],r=n[1].isLoading,i=(0,a.useState)(null),c=(0,d.Z)(i,2),s=c[0],m=c[1],v=(0,a.useState)(null),g=(0,d.Z)(v,2),E=g[0],h=g[1],b=(0,y.dx)({}).data,L=(0,y.cQ)({projectId:s},{skip:!s}),k=L.data,N=(L.isLoading,Ne({projectId:s,blockId:E},{skip:!s||!E})),w=N.data,C=N.isLoading;return a.createElement(a.Fragment,null,a.createElement("div",{className:"flex"},a.createElement("h3",{className:(0,j.AK)("m-0 my-auto")},Ce),a.createElement(P.rU,{to:{pathname:"/estimation/columnbody/new"},state:{projectKey:s,blockKey:E},style:{textDecoration:"none",marginRight:"auto"}},a.createElement(p.z,{disabled:!1,label:"Add",className:"ml-3"}))),a.createElement(u.i,null),a.createElement("div",{className:"pl-5 flex"},a.createElement("div",{className:"field",style:{width:"40%"}},a.createElement("label",{className:(0,j.AK)("col-3")},"Project"),a.createElement(f.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:s,filter:!0,filterBy:"name",onChange:function(e){m(e.value),h(null)},options:null===b||void 0===b?void 0:b.results})),a.createElement("div",{className:"field",style:{width:"40%"}},a.createElement("label",{className:(0,j.AK)("col-3")},"Block"),a.createElement(f.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:E,filter:!0,filterBy:"descr",onChange:function(e){h(e.value)},options:null===k||void 0===k?void 0:k.results})),a.createElement("div",{className:"field",style:{width:"20%"}},a.createElement(p.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),h(null)}}))),a.createElement(u.i,null),a.createElement(o.PS,{baseRoute:"/estimation/columnbody",description:Ce,isLoading:C||r,data:null===w||void 0===w?void 0:w.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return l(e).unwrap()}},a.createElement(o._P,{field:"name",header:"Component Name",filteringType:"text"}),a.createElement(o._P,{field:"descr",header:"Description",filteringType:"text"}),a.createElement(o._P,{field:"uom",header:"Base UOM",filteringType:"text"})))},xe=a.createElement(l.AW,{path:"columnbody"},a.createElement(l.AW,{path:"new",element:a.createElement(Oe,null)}),a.createElement(l.AW,{path:":id/edit",element:a.createElement(Oe,null)}),a.createElement(l.AW,{index:!0,element:a.createElement(Se,null)})),je="/estimation/columnfooting/",Pe=y.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listColumnFooting:e.query({query:function(e){var t=e.page,n=e.size,a=e.projectId,l=e.blockId;return{url:(0,y.DS)(je,"?page=".concat(t||1,"&page_size=").concat(n||y.IV,"&proj_key=").concat(a,"&projblk_key=").concat(l))}},providesTags:function(e){var t;return e?[].concat((0,v.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:y.pJ.COLUMN_FOOTING,key:t}}))),[{type:y.pJ.COLUMN_FOOTING,id:"LIST"}]):[{type:y.pJ.COLUMN_FOOTING,id:"LIST"}]}}),addColumnFooting:e.mutation({query:function(e){return{url:je,method:"POST",footing:e}},invalidatesTags:[{type:y.pJ.COLUMN_FOOTING,id:"LIST"}]}),getColumnFooting:e.query({query:function(e){return"".concat(je).concat(e)},providesTags:function(e,t,n){return[{type:y.pJ.COLUMN_FOOTING,id:n}]}}),updateColumnFooting:e.mutation({query:function(e){var t=e;return{url:"".concat(je),method:"POST",footing:t}},invalidatesTags:function(e){return[{type:y.pJ.COLUMN_FOOTING,id:null===e||void 0===e?void 0:e.key}]}}),deleteColumnFooting:e.mutation({query:function(e){return{url:"".concat(je).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:y.pJ.COLUMN_FOOTING,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),_e=Pe.useAddColumnFootingMutation,Ae=Pe.useDeleteColumnFootingMutation,Ie=Pe.useGetColumnFootingQuery,Re=Pe.useListColumnFootingQuery,Fe=Pe.useUpdateColumnFootingMutation,Be=(Pe.useGetErrorProneQuery,"Column Footing"),Ze=function(e,t,n,a){return new(n||(n=Promise))((function(l,o){function r(e){try{c(a.next(e))}catch(t){o(t)}}function i(e){try{c(a.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}c((a=a.apply(e,t||[])).next())}))},Me=function(e){var t=(0,o.pm)(),n=t.showSuccess,r=t.showError,i=(0,a.useState)(!1),c=(0,d.Z)(i,2),v=c[0],g=c[1],E=(0,a.useState)(!1),h=(0,d.Z)(E,2),b=h[0],L=(h[1],(0,a.useState)("")),k=(0,d.Z)(L,2),N=k[0],w=k[1],C=(0,a.useState)(""),T=(0,d.Z)(C,2),O=T[0],S=(T[1],(0,a.useState)({})),x=(0,d.Z)(S,2),j=x[0],P=x[1],_=(0,l.s0)(),A=(0,l.UO)().id,I=parseInt(A||""),R=isNaN(I)||I<=0,F=(0,a.useRef)(),B=(0,l.TH)().state;!B&&R&&_("/estimation/columnfooting");var Z=(0,y.ft)(),M=Ie(I,{skip:R,refetchOnMountOrArgChange:!0}),W=M.data,D=M.isLoading,q=(0,y.JB)(),U=q.data,K=q.isLoading,V=(0,y.cQ)({projectId:null===B||void 0===B?void 0:B.projectKey},{skip:!(null===B||void 0===B?void 0:B.projectKey)}),J=V.data,Q=(V.isLoading,(0,y.DY)({})),G=Q.data,z=(Q.isLoading,_e()),H=(0,d.Z)(z,2),X=H[0],Y=H[1].isLoading,$=Fe(),ee=(0,d.Z)($,2),te=ee[0],ne=ee[1].isLoading;(0,a.useEffect)((function(){P(W||Object.assign(Object.assign({},Z),{proj_key:null===B||void 0===B?void 0:B.projectKey,projblk_key:null===B||void 0===B?void 0:B.blockKey}))}),[W]);return a.createElement(a.Fragment,null,a.createElement(o.Rm,{baseRoute:"/estimation/columnfooting",description:Be,id:I,data:j,isUpdating:Y||ne||v,ref:F,isItemsTableChanged:b,isLoading:D,onSubmit:function(e){return Ze(void 0,void 0,void 0,(0,s.Z)().mark((function t(){var a,l;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,l=Object.assign(Object.assign({},e),{base_qty:N,uom_key:O}),console.log(l),!R){t.next=9;break}return t.next=6,X(Object.assign(Object.assign({},l),Z)).unwrap();case 6:a=t.sent,t.next=12;break;case 9:return t.next=11,te(Object.assign(Object.assign(Object.assign({},l),Z),{key:null===W||void 0===W?void 0:W.key})).unwrap();case 11:a=t.sent;case 12:n("Success",a.detail),g(!0),setTimeout((function(){_("/estimation/columnfooting")}),y.P7),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),r("An error occurred","We couldn't save your post, try again!");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))},renderForm:function(e,t,n,l){return a.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},a.createElement(o.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:n,isLoading:K,leftSpan:4,rightSpan:6,formItem:{component:f.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:U}}}),a.createElement(o.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:n,leftSpan:4,rightSpan:6,formItem:{component:f.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===J||void 0===J?void 0:J.results}}}),a.createElement("div",{className:"col-10 md:col-1"},a.createElement(p.z,{disabled:!0,label:"Clear"})),a.createElement(u.i,null),a.createElement(o.Wi,{label:"Component Name",className:"col-12",name:"name",control:e,errors:n,leftSpan:2,rightSpan:4,formItem:{component:m.o,componentProps:{maxLength:100}}}),a.createElement(o.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:n,leftSpan:2,rightSpan:6,formItem:{component:m.o,componentProps:{maxLength:100}}}),a.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},a.createElement("label",{className:"col-3",style:{paddingLeft:0}},"Base Quantity / UOM"),a.createElement(m.o,{className:"col-1",placeholder:""}),a.createElement("span",{className:"inputgroup-divider"},"/"),a.createElement(f.L,{className:"col-1",optionLabel:"descr",optionValue:"key",options:null===G||void 0===G?void 0:G.results}),a.createElement("div",{className:"col-6"})),a.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},a.createElement("label",{className:"col-3"},"L x B / UOM"),a.createElement(m.o,{className:"col-1",style:{marginLeft:4},placeholder:""}),a.createElement("span",{className:"inputgroup-divider-normal"},"X"),a.createElement(m.o,{className:"col-1",style:{marginLeft:4},placeholder:""}),a.createElement("span",{className:"inputgroup-divider"},"/"),a.createElement(f.L,{className:"col-2",optionLabel:"descr",optionValue:"key",options:null===G||void 0===G?void 0:G.results}),a.createElement("div",{className:"col-4",style:{margin:"auto"}},a.createElement("label",{style:{display:"flex",justifyContent:"center"}},"Target Quantity / UOM"))),a.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},a.createElement("label",{className:"col-3"},"Footing PCC"),a.createElement("div",{className:"col-3"},a.createElement(f.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===G||void 0===G?void 0:G.results})),a.createElement("div",{className:"col-3",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:"1:1:2",disabled:!0})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:N,onChange:function(e){return w(e.target.value)}})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))),a.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},a.createElement("label",{className:"col-3"},"Footing RCC"),a.createElement("div",{className:"col-3"},a.createElement(f.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===G||void 0===G?void 0:G.results})),a.createElement("div",{className:"col-3",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:"1:1:2",disabled:!0})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:N,onChange:function(e){return w(e.target.value)}})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))),a.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex pb-5"},a.createElement("label",{className:"col-3"},"Pedal Rod Pack"),a.createElement("div",{className:"col-3"},a.createElement(f.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===G||void 0===G?void 0:G.results})),a.createElement("div",{className:"col-3",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:"7.0 X 8.0 X 1.5 FT SLOPED",disabled:!0})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:N,onChange:function(e){return w(e.target.value)}})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))))}}))},We=function(e){var t=Ae(),n=(0,d.Z)(t,2),l=n[0],r=n[1].isLoading,i=(0,a.useState)(null),c=(0,d.Z)(i,2),s=c[0],m=c[1],v=(0,a.useState)(null),g=(0,d.Z)(v,2),E=g[0],h=g[1],b=(0,y.dx)({}).data,L=(0,y.cQ)({projectId:s},{skip:!s}),k=L.data,N=(L.isLoading,Re({projectId:s,blockId:E},{skip:!s||!E})),w=N.data,C=N.isLoading;return a.createElement(a.Fragment,null,a.createElement("div",{className:"flex"},a.createElement("h3",{className:(0,j.AK)("m-0 my-auto")},Be),a.createElement(P.rU,{to:{pathname:"/estimation/columnfooting/new"},state:{projectKey:s,blockKey:E},style:{textDecoration:"none",marginRight:"auto"}},a.createElement(p.z,{disabled:!1,label:"Add",className:"ml-3"}))),a.createElement(u.i,null),a.createElement("div",{className:"pl-5 flex"},a.createElement("div",{className:"field",style:{width:"40%"}},a.createElement("label",{className:(0,j.AK)("col-3")},"Project"),a.createElement(f.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:s,filter:!0,filterBy:"name",onChange:function(e){m(e.value),h(null)},options:null===b||void 0===b?void 0:b.results})),a.createElement("div",{className:"field",style:{width:"40%"}},a.createElement("label",{className:(0,j.AK)("col-3")},"Block"),a.createElement(f.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:E,filter:!0,filterBy:"descr",onChange:function(e){h(e.value)},options:null===k||void 0===k?void 0:k.results})),a.createElement("div",{className:"field",style:{width:"20%"}},a.createElement(p.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),h(null)}}))),a.createElement(u.i,null),a.createElement(o.PS,{baseRoute:"/estimation/columnfooting",description:Be,isLoading:C||r,data:null===w||void 0===w?void 0:w.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return l(e).unwrap()}},a.createElement(o._P,{field:"name",header:"Component Name",filteringType:"text"}),a.createElement(o._P,{field:"descr",header:"Description",filteringType:"text"}),a.createElement(o._P,{field:"uom",header:"Base UOM",filteringType:"text"})))},De=a.createElement(l.AW,{path:"columnfooting"},a.createElement(l.AW,{path:"new",element:a.createElement(Me,null)}),a.createElement(l.AW,{path:":id/edit",element:a.createElement(Me,null)}),a.createElement(l.AW,{index:!0,element:a.createElement(We,null)})),qe="/estimation/cupboard/",Ue=y.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listCupboard:e.query({query:function(e){var t=e.page,n=e.size,a=e.projectId,l=e.blockId;return{url:(0,y.DS)(qe,"?page=".concat(t||1,"&page_size=").concat(n||y.IV,"&proj_key=").concat(a,"&projblk_key=").concat(l))}},providesTags:function(e){var t;return e?[].concat((0,v.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:y.pJ.CUPBOARD,key:t}}))),[{type:y.pJ.CUPBOARD,id:"LIST"}]):[{type:y.pJ.CUPBOARD,id:"LIST"}]}}),addCupboard:e.mutation({query:function(e){return{url:qe,method:"POST",body:e}},invalidatesTags:[{type:y.pJ.CUPBOARD,id:"LIST"}]}),getCupboard:e.query({query:function(e){return"".concat(qe).concat(e)},providesTags:function(e,t,n){return[{type:y.pJ.CUPBOARD,id:n}]}}),updateCupboard:e.mutation({query:function(e){var t=e;return{url:"".concat(qe),method:"POST",body:t}},invalidatesTags:function(e){return[{type:y.pJ.CUPBOARD,id:null===e||void 0===e?void 0:e.key}]}}),deleteCupboard:e.mutation({query:function(e){return{url:"".concat(qe).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:y.pJ.CUPBOARD,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),Ke=Ue.useAddCupboardMutation,Ve=Ue.useDeleteCupboardMutation,Je=Ue.useGetCupboardQuery,Qe=Ue.useListCupboardQuery,Ge=Ue.useUpdateCupboardMutation,ze=(Ue.useGetErrorProneQuery,"Cupboard"),He=function(e,t,n,a){return new(n||(n=Promise))((function(l,o){function r(e){try{c(a.next(e))}catch(t){o(t)}}function i(e){try{c(a.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}c((a=a.apply(e,t||[])).next())}))},Xe=function(e){var t=(0,o.pm)(),n=t.showSuccess,r=t.showError,i=(0,a.useState)(!1),c=(0,d.Z)(i,2),v=c[0],g=c[1],E=(0,a.useState)(!1),h=(0,d.Z)(E,2),b=h[0],L=(h[1],(0,a.useState)("")),k=(0,d.Z)(L,2),N=k[0],w=k[1],C=(0,a.useState)(""),T=(0,d.Z)(C,2),O=T[0],S=(T[1],(0,a.useState)({})),x=(0,d.Z)(S,2),j=x[0],P=x[1],_=(0,l.s0)(),A=(0,l.UO)().id,I=parseInt(A||""),R=isNaN(I)||I<=0,F=(0,a.useRef)(),B=(0,l.TH)().state;!B&&R&&_("/estimation/cupboard");var Z=(0,y.ft)(),M=Je(I,{skip:R,refetchOnMountOrArgChange:!0}),W=M.data,D=M.isLoading,q=(0,y.JB)(),U=q.data,K=q.isLoading,V=(0,y.cQ)({projectId:null===B||void 0===B?void 0:B.projectKey},{skip:!(null===B||void 0===B?void 0:B.projectKey)}),J=V.data,Q=(V.isLoading,(0,y.DY)({})),G=Q.data,z=(Q.isLoading,Ke()),H=(0,d.Z)(z,2),X=H[0],Y=H[1].isLoading,$=Ge(),ee=(0,d.Z)($,2),te=ee[0],ne=ee[1].isLoading;(0,a.useEffect)((function(){P(W||Object.assign(Object.assign({},Z),{proj_key:null===B||void 0===B?void 0:B.projectKey,projblk_key:null===B||void 0===B?void 0:B.blockKey}))}),[W]);return a.createElement(a.Fragment,null,a.createElement(o.Rm,{baseRoute:"/estimation/cupboard",description:ze,id:I,data:j,isUpdating:Y||ne||v,ref:F,isItemsTableChanged:b,isLoading:D,onSubmit:function(e){return He(void 0,void 0,void 0,(0,s.Z)().mark((function t(){var a,l;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,l=Object.assign(Object.assign({},e),{base_qty:N,uom_key:O}),console.log(l),!R){t.next=9;break}return t.next=6,X(Object.assign(Object.assign({},l),Z)).unwrap();case 6:a=t.sent,t.next=12;break;case 9:return t.next=11,te(Object.assign(Object.assign(Object.assign({},l),Z),{key:null===W||void 0===W?void 0:W.key})).unwrap();case 11:a=t.sent;case 12:n("Success",a.detail),g(!0),setTimeout((function(){_("/estimation/cupboard")}),y.P7),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),r("An error occurred","We couldn't save your post, try again!");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))},renderForm:function(e,t,n,l){return a.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},a.createElement(o.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:n,isLoading:K,leftSpan:4,rightSpan:6,formItem:{component:f.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:U}}}),a.createElement(o.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:n,leftSpan:4,rightSpan:6,formItem:{component:f.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===J||void 0===J?void 0:J.results}}}),a.createElement("div",{className:"col-10 md:col-1"},a.createElement(p.z,{disabled:!0,label:"Clear"})),a.createElement(u.i,null),a.createElement(o.Wi,{label:"Component Name",className:"col-12",name:"name",control:e,errors:n,leftSpan:2,rightSpan:4,formItem:{component:m.o,componentProps:{maxLength:100}}}),a.createElement(o.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:n,leftSpan:2,rightSpan:6,formItem:{component:m.o,componentProps:{maxLength:100}}}),a.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},a.createElement("label",{className:"col-3",style:{paddingLeft:0}},"Base Quantity / UOM"),a.createElement(m.o,{className:"col-1",placeholder:""}),a.createElement("span",{className:"inputgroup-divider"},"/"),a.createElement(f.L,{className:"col-1",optionLabel:"descr",optionValue:"key",options:null===G||void 0===G?void 0:G.results}),a.createElement("div",{className:"col-6"})),a.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},a.createElement("div",{className:"col-8"}),a.createElement("div",{className:"col-4",style:{margin:"auto"}},a.createElement("label",{style:{display:"flex",justifyContent:"center"}},"Target Quantity / UOM"))),a.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},a.createElement("label",{className:"col-3"},"Brickwork"),a.createElement("div",{className:"col-3"},a.createElement(f.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===G||void 0===G?void 0:G.results})),a.createElement("div",{className:"col-3",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:"4 inch",disabled:!0})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:N,onChange:function(e){return w(e.target.value)}})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))),a.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},a.createElement("label",{className:"col-3"},"Partition Slab"),a.createElement("div",{className:"col-3"},a.createElement(f.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===G||void 0===G?void 0:G.results})),a.createElement("div",{className:"col-3",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:"12.0 X 1.5 FEET",disabled:!0})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:N,onChange:function(e){return w(e.target.value)}})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),a.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex pb-5"},a.createElement("label",{className:"col-3"},"Plaster"),a.createElement("div",{className:"col-3"},a.createElement(f.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===G||void 0===G?void 0:G.results})),a.createElement("div",{className:"col-3",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:"Cement plaster",disabled:!0})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:N,onChange:function(e){return w(e.target.value)}})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))))}}))},Ye=function(e){var t=Ve(),n=(0,d.Z)(t,2),l=n[0],r=n[1].isLoading,i=(0,a.useState)(null),c=(0,d.Z)(i,2),s=c[0],m=c[1],v=(0,a.useState)(null),g=(0,d.Z)(v,2),E=g[0],h=g[1],b=(0,y.dx)({}).data,L=(0,y.cQ)({projectId:s},{skip:!s}),k=L.data,N=(L.isLoading,Qe({projectId:s,blockId:E},{skip:!s||!E})),w=N.data,C=N.isLoading;return a.createElement(a.Fragment,null,a.createElement("div",{className:"flex"},a.createElement("h3",{className:(0,j.AK)("m-0 my-auto")},ze),a.createElement(P.rU,{to:{pathname:"/estimation/cupboard/new"},state:{projectKey:s,blockKey:E},style:{textDecoration:"none",marginRight:"auto"}},a.createElement(p.z,{disabled:!1,label:"Add",className:"ml-3"}))),a.createElement(u.i,null),a.createElement("div",{className:"pl-5 flex"},a.createElement("div",{className:"field",style:{width:"40%"}},a.createElement("label",{className:(0,j.AK)("col-3")},"Project"),a.createElement(f.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:s,filter:!0,filterBy:"name",onChange:function(e){m(e.value),h(null)},options:null===b||void 0===b?void 0:b.results})),a.createElement("div",{className:"field",style:{width:"40%"}},a.createElement("label",{className:(0,j.AK)("col-3")},"Block"),a.createElement(f.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:E,filter:!0,filterBy:"descr",onChange:function(e){h(e.value)},options:null===k||void 0===k?void 0:k.results})),a.createElement("div",{className:"field",style:{width:"20%"}},a.createElement(p.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),h(null)}}))),a.createElement(u.i,null),a.createElement(o.PS,{baseRoute:"/estimation/cupboard",description:ze,isLoading:C||r,data:null===w||void 0===w?void 0:w.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return l(e).unwrap()}},a.createElement(o._P,{field:"name",header:"Component Name",filteringType:"text"}),a.createElement(o._P,{field:"descr",header:"Description",filteringType:"text"}),a.createElement(o._P,{field:"uom",header:"Base UOM",filteringType:"text"})))},$e=a.createElement(l.AW,{path:"cupboard"},a.createElement(l.AW,{path:"new",element:a.createElement(Xe,null)}),a.createElement(l.AW,{path:":id/edit",element:a.createElement(Xe,null)}),a.createElement(l.AW,{index:!0,element:a.createElement(Ye,null)})),et="/estimation/generictank/",tt=y.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listGenericTank:e.query({query:function(e){var t=e.page,n=e.size,a=e.projectId,l=e.blockId;return{url:(0,y.DS)(et,"?page=".concat(t||1,"&page_size=").concat(n||y.IV,"&proj_key=").concat(a,"&projblk_key=").concat(l))}},providesTags:function(e){var t;return e?[].concat((0,v.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.key;return{type:y.pJ.COLUMN_FOOTING,key:t}}))),[{type:y.pJ.COLUMN_FOOTING,id:"LIST"}]):[{type:y.pJ.COLUMN_FOOTING,id:"LIST"}]}}),addGenericTank:e.mutation({query:function(e){return{url:et,method:"POST",data:e}},invalidatesTags:[{type:y.pJ.COLUMN_FOOTING,id:"LIST"}]}),getGenericTank:e.query({query:function(e){return"".concat(et).concat(e)},providesTags:function(e,t,n){return[{type:y.pJ.COLUMN_FOOTING,id:n}]}}),updateGenericTank:e.mutation({query:function(e){return{url:"".concat(et),method:"POST",data:e}},invalidatesTags:function(e){return[{type:y.pJ.COLUMN_FOOTING,id:null===e||void 0===e?void 0:e.key}]}}),deleteGenericTank:e.mutation({query:function(e){return{url:"".concat(et).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:y.pJ.COLUMN_FOOTING,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),nt=tt.useAddGenericTankMutation,at=tt.useDeleteGenericTankMutation,lt=tt.useGetGenericTankQuery,ot=tt.useListGenericTankQuery,rt=tt.useUpdateGenericTankMutation,it=(tt.useGetErrorProneQuery,"Generic Tank"),ct=function(e,t,n,a){return new(n||(n=Promise))((function(l,o){function r(e){try{c(a.next(e))}catch(t){o(t)}}function i(e){try{c(a.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}c((a=a.apply(e,t||[])).next())}))},st=function(e){var t=(0,o.pm)(),n=t.showSuccess,r=t.showError,i=(0,a.useState)(!1),c=(0,d.Z)(i,2),v=c[0],g=c[1],E=(0,a.useState)(!1),h=(0,d.Z)(E,2),b=h[0],L=(h[1],(0,a.useState)("")),k=(0,d.Z)(L,2),N=k[0],w=k[1],C=(0,a.useState)(""),T=(0,d.Z)(C,2),O=T[0],S=(T[1],(0,a.useState)({})),x=(0,d.Z)(S,2),j=x[0],P=x[1],_=(0,l.s0)(),A=(0,l.UO)().id,I=parseInt(A||""),R=isNaN(I)||I<=0,F=(0,a.useRef)(),B=(0,l.TH)().state;!B&&R&&_("/estimation/generictank");var Z=(0,y.ft)(),M=lt(I,{skip:R,refetchOnMountOrArgChange:!0}),W=M.data,D=M.isLoading,q=(0,y.JB)(),U=q.data,K=q.isLoading,V=(0,y.cQ)({projectId:null===B||void 0===B?void 0:B.projectKey},{skip:!(null===B||void 0===B?void 0:B.projectKey)}),J=V.data,Q=(V.isLoading,(0,y.DY)({})),G=Q.data,z=(Q.isLoading,nt()),H=(0,d.Z)(z,2),X=H[0],Y=H[1].isLoading,$=rt(),ee=(0,d.Z)($,2),te=ee[0],ne=ee[1].isLoading;(0,a.useEffect)((function(){P(W||Object.assign(Object.assign({},Z),{proj_key:null===B||void 0===B?void 0:B.projectKey,projblk_key:null===B||void 0===B?void 0:B.blockKey}))}),[W]);return a.createElement(a.Fragment,null,a.createElement(o.Rm,{baseRoute:"/estimation/generictank",description:it,id:I,data:j,isUpdating:Y||ne||v,ref:F,isItemsTableChanged:b,isLoading:D,onSubmit:function(e){return ct(void 0,void 0,void 0,(0,s.Z)().mark((function t(){var a,l;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,l=Object.assign(Object.assign({},e),{base_qty:N,uom_key:O}),console.log(l),!R){t.next=9;break}return t.next=6,X(Object.assign(Object.assign({},l),Z)).unwrap();case 6:a=t.sent,t.next=12;break;case 9:return t.next=11,te(Object.assign(Object.assign(Object.assign({},l),Z),{key:null===W||void 0===W?void 0:W.key})).unwrap();case 11:a=t.sent;case 12:n("Success",a.detail),g(!0),setTimeout((function(){_("/estimation/generictank")}),y.P7),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),r("An error occurred","We couldn't save your post, try again!");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))},renderForm:function(e,t,n,l){return a.createElement("div",{className:"pl-4 pt-4 grid p-fluid h-full"},a.createElement(o.Wi,{label:"Project",name:"proj_key",className:"col-10 md:col-6",control:e,errors:n,isLoading:K,leftSpan:4,rightSpan:6,formItem:{component:f.L,componentProps:{disabled:!0,optionLabel:"name",optionValue:"key",options:U}}}),a.createElement(o.Wi,{className:"col-10 md:col-5",label:"Block",name:"projblk_key",control:e,errors:n,leftSpan:4,rightSpan:6,formItem:{component:f.L,componentProps:{disabled:!0,optionLabel:"descr",optionValue:"key",options:null===J||void 0===J?void 0:J.results}}}),a.createElement("div",{className:"col-10 md:col-1"},a.createElement(p.z,{disabled:!0,label:"Clear"})),a.createElement(u.i,null),a.createElement(o.Wi,{label:"Component Name",className:"col-12",name:"name",control:e,errors:n,leftSpan:2,rightSpan:4,formItem:{component:m.o,componentProps:{maxLength:100}}}),a.createElement(o.Wi,{label:"Tank Type",name:"tanktype_key",className:"col-10 md:col-6",control:e,errors:n,isLoading:K,leftSpan:4,rightSpan:6,formItem:{component:f.L,componentProps:{optionLabel:"name",optionValue:"key",options:U}}}),a.createElement(o.Wi,{label:"Description",className:"col-12",name:"descr",control:e,errors:n,leftSpan:2,rightSpan:6,formItem:{component:m.o,componentProps:{maxLength:100}}}),a.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},a.createElement("label",{className:"col-3",style:{paddingLeft:0}},"Base Quantity / UOM"),a.createElement(m.o,{className:"col-1",placeholder:""}),a.createElement("span",{className:"inputgroup-divider"},"/"),a.createElement(f.L,{className:"col-1",optionLabel:"descr",optionValue:"key",options:null===G||void 0===G?void 0:G.results}),a.createElement("div",{className:"col-6"})),a.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},a.createElement("label",{className:"col-3"},"L x B x H / UOM"),a.createElement(m.o,{className:"col-1",style:{marginLeft:4},placeholder:""}),a.createElement("span",{className:"inputgroup-divider-normal"},"X"),a.createElement(m.o,{className:"col-1",style:{marginLeft:4},placeholder:""}),a.createElement("span",{className:"inputgroup-divider-normal"},"X"),a.createElement(m.o,{className:"col-1",style:{marginLeft:4},placeholder:""}),a.createElement("span",{className:"inputgroup-divider"},"/"),a.createElement(f.L,{className:"col-2",optionLabel:"descr",optionValue:"key",options:null===G||void 0===G?void 0:G.results}),a.createElement("div",{className:"col-4",style:{margin:"auto"}},a.createElement("label",{style:{display:"flex",justifyContent:"center"}},"Target Quantity / UOM"))),a.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},a.createElement("label",{className:"col-3"},"Tank Floor PCC"),a.createElement("div",{className:"col-3"},a.createElement(f.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===G||void 0===G?void 0:G.results})),a.createElement("div",{className:"col-3",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:"1:1:2",disabled:!0})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:N,onChange:function(e){return w(e.target.value)}})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))),a.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},a.createElement("label",{className:"col-3"},"Tank Floor RCC"),a.createElement("div",{className:"col-3"},a.createElement(f.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===G||void 0===G?void 0:G.results})),a.createElement("div",{className:"col-3",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:"1:1:2",disabled:!0})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:N,onChange:function(e){return w(e.target.value)}})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))),a.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},a.createElement("label",{className:"col-3"},"Tank Rod Pack"),a.createElement("div",{className:"col-3"},a.createElement(f.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===G||void 0===G?void 0:G.results})),a.createElement("div",{className:"col-3",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:"1:1:2",disabled:!0})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:N,onChange:function(e){return w(e.target.value)}})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))),a.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex"},a.createElement("label",{className:"col-3"},"Brickwork"),a.createElement("div",{className:"col-3"},a.createElement(f.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===G||void 0===G?void 0:G.results})),a.createElement("div",{className:"col-3",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:"1:1:2",disabled:!0})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:N,onChange:function(e){return w(e.target.value)}})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"CFT"}))),a.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex pb-5"},a.createElement("label",{className:"col-3"},"Wall RCC"),a.createElement("div",{className:"col-3"},a.createElement(f.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===G||void 0===G?void 0:G.results})),a.createElement("div",{className:"col-3",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:"7.0 X 8.0 X 1.5 FT SLOPED",disabled:!0})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:N,onChange:function(e){return w(e.target.value)}})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))),a.createElement("div",{className:"p-inputgroup field grid grid-nogutter p-fluid col-12 flex pb-5"},a.createElement("label",{className:"col-3"},"Roof RCC"),a.createElement("div",{className:"col-3"},a.createElement(f.L,{optionLabel:"descr",style:{width:"100%"},optionValue:"key",options:null===G||void 0===G?void 0:G.results})),a.createElement("div",{className:"col-3",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:"7.0 X 8.0 X 1.5 FT SLOPED",disabled:!0})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",value:N,onChange:function(e){return w(e.target.value)}})),a.createElement("div",{className:"col-1",style:{marginLeft:5}},a.createElement(m.o,{style:{width:"100%"},placeholder:"",disabled:!0,value:"FEET"}))))}}))},dt=function(e){var t=at(),n=(0,d.Z)(t,2),l=n[0],r=n[1].isLoading,i=(0,a.useState)(null),c=(0,d.Z)(i,2),s=c[0],m=c[1],v=(0,a.useState)(null),g=(0,d.Z)(v,2),E=g[0],h=g[1],b=(0,y.dx)({}).data,L=(0,y.cQ)({projectId:s},{skip:!s}),k=L.data,N=(L.isLoading,ot({projectId:s,blockId:E},{skip:!s||!E})),w=N.data,C=N.isLoading;return a.createElement(a.Fragment,null,a.createElement("div",{className:"flex"},a.createElement("h3",{className:(0,j.AK)("m-0 my-auto")},it),a.createElement(P.rU,{to:{pathname:"/estimation/generictank/new"},state:{projectKey:s,blockKey:E},style:{textDecoration:"none",marginRight:"auto"}},a.createElement(p.z,{disabled:!1,label:"Add",className:"ml-3"}))),a.createElement(u.i,null),a.createElement("div",{className:"pl-5 flex"},a.createElement("div",{className:"field",style:{width:"40%"}},a.createElement("label",{className:(0,j.AK)("col-3")},"Project"),a.createElement(f.L,{showClear:!0,style:{width:"60%"},optionLabel:"name",optionValue:"key",value:s,filter:!0,filterBy:"name",onChange:function(e){m(e.value),h(null)},options:null===b||void 0===b?void 0:b.results})),a.createElement("div",{className:"field",style:{width:"40%"}},a.createElement("label",{className:(0,j.AK)("col-3")},"Block"),a.createElement(f.L,{showClear:!0,style:{width:"60%"},optionLabel:"descr",optionValue:"key",value:E,filter:!0,filterBy:"descr",onChange:function(e){h(e.value)},options:null===k||void 0===k?void 0:k.results})),a.createElement("div",{className:"field",style:{width:"20%"}},a.createElement(p.z,{label:"Clear",onClick:function(e){e.preventDefault(),m(null),h(null)}}))),a.createElement(u.i,null),a.createElement(o.PS,{baseRoute:"/estimation/generictank",description:it,isLoading:C||r,data:null===w||void 0===w?void 0:w.results,newTable:!0,allowFilters:!1,deleteAction:function(e){return l(e).unwrap()}},a.createElement(o._P,{field:"name",header:"Component Name",filteringType:"text"}),a.createElement(o._P,{field:"descr",header:"Description",filteringType:"text"}),a.createElement(o._P,{field:"uom",header:"Base UOM",filteringType:"text"})))},ut=a.createElement(l.AW,{path:"generictank"},a.createElement(l.AW,{path:"new",element:a.createElement(st,null)}),a.createElement(l.AW,{path:":id/edit",element:a.createElement(st,null)}),a.createElement(l.AW,{index:!0,element:a.createElement(dt,null)})),mt=function(){return a.createElement(l.Z5,null,a.createElement(l.AW,{path:"/",element:a.createElement(o.SV,{panelMenu:!0,navItems:c})},a.createElement(l.AW,{index:!0,element:a.createElement(l.Fg,{to:C,replace:!0})}),A,J,oe,ge,xe,De,$e,ut,a.createElement(l.AW,{path:":page/comming-soon",element:a.createElement(o.hg,null)}),a.createElement(l.AW,{path:"*",element:a.createElement(o.EN,{relative:!0})})))}},8356:function(e,t,n){n.d(t,{i:function(){return r}});var a=n(969),l=n(4756);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(this,arguments)}var r=a.forwardRef((function(e,t){var n="horizontal"===e.layout,i="vertical"===e.layout,c=l.gb.findDiffKeys(e,r.defaultProps),s=(0,l.AK)("p-divider p-component p-divider-".concat(e.layout," p-divider-").concat(e.type),{"p-divider-left":n&&(!e.align||"left"===e.align),"p-divider-right":n&&"right"===e.align,"p-divider-center":n&&"center"===e.align||i&&(!e.align||"center"===e.align),"p-divider-top":i&&"top"===e.align,"p-divider-bottom":i&&"bottom"===e.align},e.className);return a.createElement("div",o({className:s,style:e.style,role:"separator"},c),a.createElement("div",{className:"p-divider-content"},e.children))}));r.displayName="Divider",r.defaultProps={__TYPE:"Divider",align:null,layout:"horizontal",type:"solid",style:null,className:null}}}]);
//# sourceMappingURL=798.ed090e62.chunk.js.map