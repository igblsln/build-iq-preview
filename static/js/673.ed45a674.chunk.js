"use strict";(self.webpackChunkbuild_iq_app=self.webpackChunkbuild_iq_app||[]).push([[673],{3673:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var r=n(969),i=n(3026),a=n(4245),o=n(8121),l="customers",c="Customers",u=function(e,t){return(0,a.E7)("/".concat(o.o,"/").concat(e)+(t?"/comming-soon":""))},s=[{label:"Transctions",items:[{label:"Sales Booking",icon:"pi ml-3",template:u("salesbooking",!0)},{label:"Cancel Booking",icon:"pi ml-3",template:u("cancelbooking",!0)},{label:"Invoice",icon:"pi ml-3",template:u("invoice",!0)},{label:"Receipt",icon:"pi ml-3",template:u("receipt",!0)},{label:"Receipt Allocation",icon:"pi ml-3",template:u("receiptalloc",!0)}]},{label:"Configuration",items:[{label:"Customers",icon:"pi ml-3",template:u(l)}]}],d=n(3668),m=n(2867),p=n(4225),v=n(7765),f=n(4756),E=n(8252),y=n(8777),g=n(6076),b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},h="/vendor/group/",O=g.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listCustomer:e.query({query:function(e){var t=e.page,n=e.size;return{url:(0,g.DS)(h,"?page=".concat(t||1,"&page_size=").concat(n||g.IV))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:g.pJ.VENDOR_GROUP,id:t}}))),[{type:g.pJ.VENDOR_GROUP,id:"LIST"}]):[{type:g.pJ.VENDOR_GROUP,id:"LIST"}]}}),addCustomer:e.mutation({query:function(e){return{url:h,method:"POST",body:e}},invalidatesTags:[{type:g.pJ.VENDOR_GROUP,id:"LIST"}]}),getCustomer:e.query({query:function(e){return"".concat(h).concat(e)},providesTags:function(e,t,n){return[{type:g.pJ.VENDOR_GROUP,id:n}]}}),updateCustomer:e.mutation({query:function(e){var t=e.key,n=b(e,["key"]);return{url:"".concat(h).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:g.pJ.VENDOR_GROUP,id:null===e||void 0===e?void 0:e.id}]}}),deleteCustomer:e.mutation({query:function(e){return{url:"".concat(h).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:g.pJ.VENDOR_GROUP,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),R=O.useAddCustomerMutation,C=O.useDeleteCustomerMutation,N=O.useGetCustomerQuery,S=O.useListCustomerQuery,w=O.useUpdateCustomerMutation,A=(O.useGetErrorProneQuery,O.endpoints.getCustomer,function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(t){a(t)}}function l(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}c((r=r.apply(e,t||[])).next())}))}),P={client_id:"1001",company:"TEST"},T=function(e){var t=(0,r.useRef)(null),n=(0,r.useState)(!1),u=(0,m.Z)(n,2),s=u[0],y=u[1],g=(0,i.s0)(),b=(0,i.UO)().id,h=parseInt(b||""),O=isNaN(h)||h<=0,C=N(h,{skip:O}),S=C.data,T=C.isLoading,k=R(),q=(0,m.Z)(k,2),D=q[0],x=q[1].isLoading,I=w(),_=(0,m.Z)(I,2),L=_[0],j=_[1].isLoading,G=function(e,n){var r;null===(r=null===t||void 0===t?void 0:t.current)||void 0===r||r.show({severity:"success",summary:e,detail:n,life:3e3})},U=function(e,n){var r;null===(r=null===t||void 0===t?void 0:t.current)||void 0===r||r.show({severity:"error",summary:e,detail:n,life:3e3})};return r.createElement(r.Fragment,null,r.createElement(E.F,{ref:t}),r.createElement(a.Rm,{baseRoute:"/".concat(o.o,"/").concat(l),description:c,id:h,data:S,isUpdating:x||j||s,isLoading:T,onSubmit:function(e){return A(void 0,void 0,void 0,(0,d.Z)().mark((function t(){var n;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!O){t.next=7;break}return t.next=4,D(Object.assign(Object.assign({},e),P)).unwrap();case 4:n=t.sent,t.next=10;break;case 7:return t.next=9,L(Object.assign(Object.assign({},e),P)).unwrap();case 9:n=t.sent;case 10:G("Success",n.detail),y(!0),setTimeout((function(){g("/".concat(o.o,"/").concat(l))}),3e3),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),U("An error occurred","We couldn't save your post, try again!");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))},renderForm:function(e,t,n){var i,o;return r.createElement("div",{className:"pl-8"},r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"id",className:(0,f.AK)("col-2",{"p-error":n.id})},"Group ID*"),r.createElement(p.Qr,{name:"id",control:e,rules:{required:"Item ID is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(v.o,Object.assign({id:t.name},t,{className:(0,f.AK)({"p-invalid":n.invalid})}))}}),(0,a.Hb)(null===(i=null===n||void 0===n?void 0:n.id)||void 0===i?void 0:i.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"descr",className:(0,f.AK)("col-2",{"p-error":n.descr})},"Group Description*"),r.createElement(p.Qr,{name:"descr",control:e,rules:{required:"Item Description is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(v.o,Object.assign({style:{width:"40%"},id:t.name},t,{className:(0,f.AK)({"p-invalid":n.invalid})}))}}),(0,a.Hb)(null===(o=null===n||void 0===n?void 0:n.descr)||void 0===o?void 0:o.message)))}}))},k=n(4401),q=n(7624),D=function(e){var t=S({}),n=t.data,i=t.isLoading,u=C(),s=(0,m.Z)(u,2),d=s[0],p=s[1].isLoading;return r.createElement(a.PS,{baseRoute:"/".concat(o.o,"/").concat(l),description:c,isLoading:i||p,data:null===n||void 0===n?void 0:n.results,deleteAction:function(e){return d(e).unwrap()}},r.createElement(k.s,{headerStyle:q.iR,field:"id",header:"Customer ID",sortable:!0,filter:!0,dataType:"numeric",style:{minWidth:"8rem"}}),r.createElement(k.s,{headerStyle:q.iR,field:"name",header:"Customer Name",sortable:!0,filter:!0,style:{minWidth:"12rem"}}))},x=r.createElement(i.AW,{path:l},r.createElement(i.AW,{path:"new",element:r.createElement(T,null)}),r.createElement(i.AW,{path:":id/edit",element:r.createElement(T,null)}),r.createElement(i.AW,{index:!0,element:r.createElement(D,null)})),I=function(){return r.createElement(i.Z5,null,r.createElement(i.AW,{path:"/",element:r.createElement(a.SV,{navItems:s})},r.createElement(i.AW,{index:!0,element:r.createElement(i.Fg,{to:l,replace:!0})}),x,r.createElement(i.AW,{path:":page/comming-soon",element:r.createElement(a.hg,null)}),r.createElement(i.AW,{path:"*",element:r.createElement(a.EN,{relative:!0})})))}}}]);
//# sourceMappingURL=673.ed45a674.chunk.js.map