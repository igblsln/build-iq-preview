"use strict";(self.webpackChunkbuild_iq_app=self.webpackChunkbuild_iq_app||[]).push([[913],{5913:function(e,t,n){n.r(t),n.d(t,{default:function(){return Gn}});var r=n(969),a=n(3026),i=n(4245),l=function(e){return function(t,n){return r.createElement(i.OL,{item:t,options:n,to:e})}},o=[{label:"Vendors",items:[{label:"Material Purchase",icon:"pi ml-3",template:l("/projects/material-purchase/comming-soon")},{label:"Miscellaneous Purchase",icon:"pi ml-3",template:l("/projects/miscellaneous-purchase/comming-soon")},{label:"Material Transfer",icon:"pi ml-3",template:l("/projects/material-transfer/comming-soon")},{label:"Material Over/Short",icon:"pi ml-3",template:l("/projects/material-over-short/comming-soon")},{label:"Project Progress",icon:"pi ml-3",template:l("/projects/project-progress/comming-soon")}]},{label:"Configuration",items:[{label:"Projects",icon:"pi ml-3",template:l("/projects/project")},{label:"Project Types",icon:"pi ml-3",template:l("/projects/projecttype")}]}],c=o,s=n(2867),d=n(6770),u=n(4401),m=n(8301),p=n(4716),v=n(7723),f=function(e){return null===e||void 0===e?void 0:e.toLocaleString("en-US",{style:"currency",currency:"INR"})},y=function(e,t){try{return e?"".concat((0,v.Z)(new Date(e),t||"dd-MM-yyyy")):""}catch(n){return console.log(n),e}},E=(Object.assign(Object.assign({},{width:"4rem",textAlign:"center"}),{width:"1em"}),n(4756)),g=n(8777),b=n(6076),h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},j=b.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listProjects:e.query({query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40;return{url:(0,b.DS)("project/project","?page=".concat(e,"&page_size=").concat(t))}},providesTags:function(e){var t;return e?[].concat((0,g.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:b.pJ.PROJECTS,id:t}}))),[{type:b.pJ.PROJECTS,id:"PARTIAL-LIST"}]):[{type:b.pJ.PROJECTS,id:"PARTIAL-LIST"}]}}),addProject:e.mutation({query:function(e){return{url:"/project/project/",method:"POST",body:e}},invalidatesTags:[{type:b.pJ.PROJECTS,id:"LIST"}]}),getProject:e.query({query:function(e){return"project/project/".concat(e)},providesTags:function(e,t,n){return[{type:b.pJ.PROJECTS,id:n}]}}),updateProject:e.mutation({query:function(e){var t=e.key,n=h(e,["key"]);return{url:"/project/project/".concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:b.pJ.PROJECTS,id:null===e||void 0===e?void 0:e.id}]}}),deleteProject:e.mutation({query:function(e){return{url:"/project/project/".concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:b.pJ.PROJECTS,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),S=(j.useAddProjectMutation,j.useDeleteProjectMutation),T=(j.useGetProjectQuery,j.useListProjectsQuery),O=(j.useUpdateProjectMutation,j.useGetErrorProneQuery,j.endpoints.getProject,function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}),P=b.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listCostCategories:e.query({query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40;return{url:(0,b.DS)("client/cost_category","?page=".concat(e,"&page_size=").concat(t))}},providesTags:function(e){var t;return e?[].concat((0,g.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:b.pJ.COST_CATEGORIES,id:t}}))),[{type:b.pJ.COST_CATEGORIES,id:"PARTIAL-LIST"}]):[{type:b.pJ.COST_CATEGORIES,id:"PARTIAL-LIST"}]}}),addCostCategory:e.mutation({query:function(e){return{url:"/client/cost_category/",method:"POST",body:e}},invalidatesTags:[{type:b.pJ.COST_CATEGORIES,id:"LIST"}]}),getCostCategory:e.query({query:function(e){return"/client/cost_category/".concat(e)},providesTags:function(e,t,n){return[{type:b.pJ.COST_CATEGORIES,id:n}]}}),updateCostCategory:e.mutation({query:function(e){e.key;return{url:"data/projects.json",method:"PUT",body:O(e,["key"])}},invalidatesTags:function(e){return[{type:b.pJ.COST_CATEGORIES,id:null===e||void 0===e?void 0:e.id}]}}),deleteCostCategory:e.mutation({query:function(e){return{url:"/client/cost_category/".concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:b.pJ.COST_CATEGORIES,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),N=(P.useAddCostCategoryMutation,P.useDeleteCostCategoryMutation,P.useGetCostCategoryQuery,P.useUpdateCostCategoryMutation,P.useListCostCategoriesQuery,P.endpoints.getCostCategory,function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}),C=b.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listCostCodes:e.query({query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40;return{url:(0,b.DS)("client/cost_code","?page=".concat(e,"&page_size=").concat(t))}},providesTags:function(e){var t;return e?[].concat((0,g.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:b.pJ.COST_CODES,id:t}}))),[{type:b.pJ.COST_CODES,id:"PARTIAL-LIST"}]):[{type:b.pJ.COST_CODES,id:"PARTIAL-LIST"}]}}),addCostCode:e.mutation({query:function(e){return{url:"/client/cost_code/",method:"POST",body:e}},invalidatesTags:[{type:b.pJ.COST_CODES,id:"LIST"}]}),getCostCode:e.query({query:function(e){return"/client/cost_code/".concat(e)},providesTags:function(e,t,n){return[{type:b.pJ.COST_CODES,id:n}]}}),updateCostCode:e.mutation({query:function(e){var t=e.key,n=N(e,["key"]);return{url:"/client/cost_code/".concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:b.pJ.COST_CODES,id:null===e||void 0===e?void 0:e.id}]}}),deleteCostCode:e.mutation({query:function(e){return{url:"/client/cost_code/".concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:b.pJ.COST_CODES,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),w=(C.useAddCostCodeMutation,C.useDeleteCostCodeMutation,C.useGetCostCodeQuery,C.useUpdateCostCodeMutation,C.useListCostCodesQuery,C.endpoints.getCostCode,function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}),x=b.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listProjectTypes:e.query({query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40;return{url:(0,b.DS)("project/type","?page=".concat(e,"&page_size=").concat(t))}},providesTags:function(e){var t;return e?[].concat((0,g.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:b.pJ.PROJECT_TYPES,id:t}}))),[{type:b.pJ.PROJECT_TYPES,id:"PARTIAL-LIST"}]):[{type:b.pJ.PROJECT_TYPES,id:"PARTIAL-LIST"}]}}),addProjectType:e.mutation({query:function(e){return{url:"data/projects.json",method:"POST",body:e}},invalidatesTags:[{type:b.pJ.PROJECT_TYPES,id:"LIST"}]}),getProjectType:e.query({query:function(e){return"project/type/".concat(e)},providesTags:function(e,t,n){return[{type:b.pJ.PROJECT_TYPES,id:n}]}}),updateProjectType:e.mutation({query:function(e){e.key;return{url:"data/projects.json",method:"PUT",body:w(e,["key"])}},invalidatesTags:function(e){return[{type:b.pJ.PROJECT_TYPES,id:null===e||void 0===e?void 0:e.key}]}}),deleteProjectType:e.mutation({query:function(e){return{url:"data/projects.json",method:"DELETE"}},invalidatesTags:function(e){return[{type:b.pJ.PROJECT_TYPES,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),A=(x.useAddProjectTypeMutation,x.useDeleteProjectTypeMutation,x.useGetProjectTypeQuery,x.useUpdateProjectTypeMutation,x.useListProjectTypesQuery,x.endpoints.getProjectType,function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}),k=b.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{getStates:e.query({query:function(){return{url:"data/products.json"}},providesTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[].concat((0,g.Z)(e.map((function(e){return{type:"States",id:e.state_key}}))),[{type:"States",id:"LIST"}])}}),addState:e.mutation({query:function(e){return{url:"data/products.json",method:"POST",body:e}},invalidatesTags:[{type:"States",id:"LIST"}]}),getState:e.query({query:function(e){return"data/products.json"},providesTags:function(e,t,n){return[{type:"States",id:n}]}}),updateState:e.mutation({query:function(e){var t=e.state_key,n=A(e,["state_key"]);return{url:"/geo/state/".concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:"States",id:null===e||void 0===e?void 0:e.state_key}]}}),deleteState:e.mutation({query:function(e){return{url:"data/products.json",method:"DELETE"}},invalidatesTags:function(e){return[{type:"States",id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),q=(k.useAddStateMutation,k.useDeleteStateMutation,k.useGetStateQuery,k.useGetStatesQuery,k.useUpdateStateMutation,k.endpoints.getState,n(3668)),L=n(3829),I=n(8356),_=n(5103),J=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function l(e){try{c(r.next(e))}catch(t){i(t)}}function o(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}c((r=r.apply(e,t||[])).next())}))},R=function(e){var t,n,a,i,l=e.data,o=S(),c=(0,s.Z)(o,2),u=c[0];c[1].isLoading;return r.createElement(L.s,{className:"project-grid",header:l.name,icons:r.createElement(r.Fragment,null,r.createElement(p.rU,{to:"/projects/project/".concat(l.key,"/edit"),style:{textDecoration:"none"}},r.createElement(d.z,{icon:"pi pi-eye",className:"p-button-rounded p-button-text"})),r.createElement(d.z,{className:"p-button-rounded p-button-help p-button-text",icon:"p-button-sm pi pi-times",onClick:function(){return function(e){return J(void 0,void 0,void 0,(0,q.Z)().mark((function t(){var n,r;return(0,q.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("Are You Sure To Delete?")){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,u(e).unwrap();case 5:r=t.sent,window.alert(r),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),window.alert(null===(n=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===n?void 0:n.detail);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))}(l.key)}}))},r.createElement("div",{className:"flex"},r.createElement("div",{className:"grid",style:{paddingTop:"5px"}},r.createElement("div",{className:"col-6"},"State/City"),r.createElement("div",{className:"col-6"},null===(t=l.state)||void 0===t?void 0:t.name,"/",null===(n=l.city)||void 0===n?void 0:n.name),r.createElement("div",{className:"col-6"},"Project Type"),r.createElement("div",{className:"col-6"},null===(a=l.pro_type)||void 0===a?void 0:a.descr),r.createElement("div",{className:"col-6"},"Total Units"),r.createElement("div",{className:"col-6"},l.totallandarea),r.createElement("div",{className:"col-6"},"Price/SqFt"),r.createElement("div",{className:"col-6"},f(l.sqftprice)),r.createElement("div",{className:"col-6"},"Status"),r.createElement("div",{className:"col-6"},null===(i=l.status)||void 0===i?void 0:i.descr),r.createElement("div",{className:"col-6"},"Possesion By"),r.createElement("div",{className:"col-6"},y(l.possessionby))),r.createElement(I.i,{layout:"vertical"}),r.createElement(_.E,{src:"https://www.primefaces.org/wp-content/uploads/2020/05/placeholder.png",alt:"Image",width:"125"})))},D=function(){var e=(0,r.useState)(1),t=(0,s.Z)(e,2),n=t[0],a=t[1],l=T(n),o=l.data,c=l.isLoading,v=l.isFetching;if(c)return r.createElement("div",null,"Loading");if(!o||!o.results)return r.createElement("div",null,"No projects :(");return r.createElement(i.Si,{data:o.results,itemTemplate:function(e){if(e)return r.createElement("div",{className:"col-12 md:col-6 p-1"},r.createElement(R,{data:e}))},allowGrid:!0,allowPaging:!0,loading:v,setPage:a,totalRecords:o.count,header:r.createElement("div",{className:"flex"},r.createElement("h3",{className:(0,E.AK)("m-0 my-auto","projectClass")},"Project"),r.createElement(p.rU,{to:"/projects/project/new",style:{textDecoration:"none"}},r.createElement(d.z,{label:"Create",className:"ml-3"})))},r.createElement(u.s,{headerStyle:{maxWidth:"50px",textAlign:"center"},style:{maxWidth:"50px"},bodyStyle:{textAlign:"center",overflow:"visible"},body:function(e){return r.createElement(p.rU,{to:"/projects/project/".concat(e.id,"/edit"),style:{textDecoration:"none"}},r.createElement(d.z,{icon:"pi pi-eye",className:"p-button-rounded p-button-text"}))}}),r.createElement(u.s,{field:"name",header:"Project Name",sortable:!0,filter:!0,filterPlaceholder:"Search by name",style:{minWidth:"180px"}}),r.createElement(u.s,{header:"State/City",sortable:!0,filterMenuStyle:{width:"14rem"},style:{minWidth:"100px"},body:function(e){return"".concat(e.state.name,"/").concat(e.city.name)}}),r.createElement(u.s,{field:"pro_type.descr",header:"Project Type",sortable:!0,filterMenuStyle:{width:"14rem"},style:{minWidth:"150px"}}),r.createElement(u.s,{field:"totallandarea",header:"Total Units",bodyStyle:{textAlign:"center"},sortable:!0,dataType:"numeric",style:{minWidth:"80px"}}),r.createElement(u.s,{field:"sqftprice",header:"Price/sqft",bodyStyle:{textAlign:"center"},sortable:!0,dataType:"numeric",style:{minWidth:"200px"},body:function(e){return f(e.sqftprice)},filter:!0,filterElement:function(e){return r.createElement(m.R,{value:e.value,onChange:function(t){return e.filterCallback(t.value,e.index)},mode:"currency",currency:"USD",locale:"en-US"})}}),r.createElement(u.s,{field:"status.descr",header:"Status",sortable:!0,showFilterMatchModes:!1,style:{minWidth:"200px"}}),r.createElement(u.s,{field:"possessionby",header:"Possesion By",sortable:!0,showFilterMatchModes:!1,style:{minWidth:"200px"},body:function(e){return y(e.possessionby)}}))},F=n(4225),K=n(7765),Z=n(8224),U=n(3127),Q=n(8252),W=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},M="/project/project/",G=b.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listProject:e.query({query:function(e){var t=e.page,n=e.size;return{url:(0,b.DS)(M,"?page=".concat(t||1,"&page_size=").concat(n||b.IV))}},providesTags:function(e){var t;return e?[].concat((0,g.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:b.pJ.PROJECT,id:t}}))),[{type:b.pJ.PROJECT,id:"LIST"}]):[{type:b.pJ.PROJECT,id:"LIST"}]}}),addProject:e.mutation({query:function(e){return{url:M,method:"POST",body:e}},invalidatesTags:[{type:b.pJ.PROJECT,id:"LIST"}]}),getProject:e.query({query:function(e){return"".concat(M).concat(e)},providesTags:function(e,t,n){return[{type:b.pJ.PROJECT,id:n}]}}),updateProject:e.mutation({query:function(e){var t=e.key,n=W(e,["key"]);return{url:"".concat(M).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:b.pJ.PROJECT,id:null===e||void 0===e?void 0:e.id}]}}),deleteProject:e.mutation({query:function(e){return{url:"".concat(M).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:b.pJ.PROJECT,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}}),getStates:e.query({query:function(){return{url:"/geo/state/"}},providesTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[].concat((0,g.Z)(e.map((function(e){var t=e.state_key;return{type:b.pJ.STATES,id:t}}))),[{type:b.pJ.STATES,id:"LIST"}])}}),getCities:e.query({query:function(){return{url:"/geo/city/"}},providesTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[].concat((0,g.Z)(e.map((function(e){var t=e.city_key;return{type:b.pJ.CITIES,id:t}}))),[{type:b.pJ.CITIES,id:"LIST"}])}}),getProjectStatuses:e.query({query:function(){return{url:"data/projects.json"}},providesTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[].concat((0,g.Z)(e.map((function(e){var t=e.projstatus_key;return{type:b.pJ.PROJECT_STATUS,id:t}}))),[{type:b.pJ.PROJECT_STATUS,id:"LIST"}])}})}}}),z=G.useAddProjectMutation,B=(G.useDeleteProjectMutation,G.useGetProjectQuery),H=(G.useListProjectQuery,G.useUpdateProjectMutation),V=(G.useGetErrorProneQuery,G.useGetCitiesQuery),Y=G.useGetStatesQuery,X=G.useGetProjectStatusesQuery,$=(G.endpoints.getProject,function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}),ee="/project/type/",te=b.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listProjectType:e.query({query:function(e){var t=e.page,n=e.size;return{url:(0,b.DS)(ee,"?page=".concat(t||1,"&page_size=").concat(n||b.IV))}},providesTags:function(e){var t;return e?[].concat((0,g.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:b.pJ.PROJECT_TYPES,id:t}}))),[{type:b.pJ.PROJECT_TYPES,id:"LIST"}]):[{type:b.pJ.PROJECT_TYPES,id:"LIST"}]}}),addProjectType:e.mutation({query:function(e){return{url:ee,method:"POST",body:e}},invalidatesTags:[{type:b.pJ.PROJECT_TYPES,id:"LIST"}]}),getProjectType:e.query({query:function(e){return"".concat(ee).concat(e)},providesTags:function(e,t,n){return[{type:b.pJ.PROJECT_TYPES,id:n}]}}),updateProjectType:e.mutation({query:function(e){var t=e.key,n=$(e,["key"]);return{url:"".concat(ee).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:b.pJ.PROJECT_TYPES,id:null===e||void 0===e?void 0:e.id}]}}),deleteProjectType:e.mutation({query:function(e){return{url:"".concat(ee).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:b.pJ.PROJECT_TYPES,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),ne=te.useAddProjectTypeMutation,re=te.useDeleteProjectTypeMutation,ae=te.useGetProjectTypeQuery,ie=te.useListProjectTypeQuery,le=te.useUpdateProjectTypeMutation,oe=(te.useGetErrorProneQuery,te.endpoints.getProjectType,function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function l(e){try{c(r.next(e))}catch(t){i(t)}}function o(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}c((r=r.apply(e,t||[])).next())}))}),ce={client_id:"1001",company:"TEST"},se=function(e){var t=(0,r.useRef)(null),n=(0,r.useState)(!1),l=(0,s.Z)(n,2),o=l[0],c=l[1],u=(0,a.s0)(),m=(0,a.UO)().id,p=parseInt(m||""),v=isNaN(p)||p<=0,f=ie({}).data,g=Y().data,b=V().data,h=X().data,j=B(p,{skip:v}),S=j.data,T=j.isLoading,O=z(),P=(0,s.Z)(O,2),N=P[0],C=P[1].isLoading,w=H(),x=(0,s.Z)(w,2),A=x[0],k=x[1].isLoading,L=function(e,n){var r;null===(r=null===t||void 0===t?void 0:t.current)||void 0===r||r.show({severity:"success",summary:e,detail:n,life:3e3})},I=function(e,n){var r;null===(r=null===t||void 0===t?void 0:t.current)||void 0===r||r.show({severity:"error",summary:e,detail:n,life:3e3})},J=[{label:"Create",items:b||[]}];return r.createElement(r.Fragment,null,r.createElement(Q.F,{ref:t}),r.createElement(i.Rm,{baseRoute:"/projects/project",description:"Project ",id:p,data:S,isUpdating:C||k||o,isLoading:T,onSubmit:function(e){return oe(void 0,void 0,void 0,(0,q.Z)().mark((function t(){var n;return(0,q.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(e),t.prev=1,!v){t.next=8;break}return t.next=5,N(Object.assign(Object.assign(Object.assign({},e),ce),{possessionby:y(e.possessionby,"MM-dd-yy")})).unwrap();case 5:n=t.sent,t.next=11;break;case 8:return t.next=10,A(Object.assign(Object.assign(Object.assign({},e),ce),{possessionby:y(e.possessionby,"MM-dd-yy")})).unwrap();case 10:n=t.sent;case 11:L("Success",n.detail),c(!0),setTimeout((function(){u("/projects/project")}),3e3),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),I("An error occurred","We couldn't save your post, try again!");case 19:case"end":return t.stop()}}),t,null,[[1,16]])})))},renderForm:function(e,t,n){var a,l,o,c,s,m,y,b,j,T,O,P;return r.createElement("div",{className:"flex"},r.createElement("div",{className:"col-8"},r.createElement("div",{className:"card",style:{width:"100%"}},r.createElement("div",null,r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"id",className:(0,E.AK)("col-4",{"p-error":n.id})}," Project ID*"),r.createElement(F.Qr,{name:"id",control:e,rules:{required:" ID is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({id:t.name},t,{style:{width:"30%"},className:(0,E.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(a=null===n||void 0===n?void 0:n.id)||void 0===a?void 0:a.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"name",className:(0,E.AK)("col-4",{"p-error":n.name})}," Project Name*"),r.createElement(F.Qr,{name:"name",control:e,rules:{required:" Name is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({style:{width:"50%"},id:t.name},t,{className:(0,E.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(l=null===n||void 0===n?void 0:n.name)||void 0===l?void 0:l.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"projtyp_key",className:(0,E.AK)("col-4",{"p-error":n.projtyp_key})},"Project Type*"),r.createElement(F.Qr,{name:"projtyp_key",control:e,rules:{required:"Type is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(Z.L,Object.assign({id:t.name},t,{style:{width:"30%"},className:(0,E.AK)({"p-invalid":n.invalid}),optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:null===f||void 0===f?void 0:f.results}))}}),(0,i.Hb)(null===(o=null===n||void 0===n?void 0:n.projtyp_key)||void 0===o?void 0:o.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"addr1",className:(0,E.AK)("col-4",{"p-error":n.addr1})}," Address Line 1"),r.createElement(F.Qr,{name:"addr1",control:e,rules:{maxLength:{value:100,message:"Max 100 Char"}},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({id:t.name},t,{style:{width:"50%"},className:(0,E.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(c=null===n||void 0===n?void 0:n.addr1)||void 0===c?void 0:c.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"addr2",className:(0,E.AK)("col-4",{"p-error":n.addr2})}," Address Line 2"),r.createElement(F.Qr,{name:"addr2",control:e,rules:{maxLength:{value:100,message:"Max 100 Char"}},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({id:t.name},t,{style:{width:"50%"},className:(0,E.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(s=null===n||void 0===n?void 0:n.addr2)||void 0===s?void 0:s.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"state_key",className:(0,E.AK)("col-4",{"p-error":n.state_key})},"State*"),r.createElement(F.Qr,{name:"state_key",control:e,rules:{required:"State is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(Z.L,Object.assign({id:t.name},t,{style:{width:"50%"},className:(0,E.AK)({"p-invalid":n.invalid}),optionLabel:"name",optionValue:"key",filter:!0,filterBy:"name",options:g}))}}),(0,i.Hb)(null===(m=null===n||void 0===n?void 0:n.state_key)||void 0===m?void 0:m.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"city_key",className:(0,E.AK)("col-4",{"p-error":n.city_key})},"City*"),r.createElement(F.Qr,{name:"city_key",control:e,rules:{required:"City is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(Z.L,Object.assign({optionGroupTemplate:r.createElement("div",{style:{cursor:"pointer",textAlign:"center",backgroundColor:"lightgray"},onClick:function(){return u("/projects/city")}},"--Create And Edit--"),id:t.name},t,{style:{width:"30%"},className:(0,E.AK)({"p-invalid":n.invalid}),optionValue:"key",optionGroupLabel:"label",optionLabel:"name",optionGroupChildren:"items",options:J}))}}),(0,i.Hb)(null===(y=null===n||void 0===n?void 0:n.city_key)||void 0===y?void 0:y.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"possessionby",className:(0,E.AK)("col-4",{"p-error":n.possessionby})}," Posession By"),r.createElement(F.Qr,{name:"possessionby",control:e,rules:{},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(U.f,Object.assign({id:t.name},t,{value:new Date(null===S||void 0===S?void 0:S.possessionby),style:{width:"30%"},dateFormat:"dd-MM-yy",className:(0,E.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(b=null===n||void 0===n?void 0:n.possessionby)||void 0===b?void 0:b.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"totallandarea",className:(0,E.AK)("col-4",{"p-error":n.totallandarea})}," Total Land Area"),r.createElement(F.Qr,{name:"totallandarea",control:e,rules:{},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({id:t.name,type:"number"},t,{style:{width:"20%"},className:(0,E.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(j=null===n||void 0===n?void 0:n.totallandarea)||void 0===j?void 0:j.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"briefdescr",className:(0,E.AK)("col-4",{"p-error":n.briefdescr})}," No of Units*"),r.createElement(F.Qr,{name:"briefdescr",control:e,rules:{required:" Tis is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({id:t.name},t,{style:{width:"30%"},className:(0,E.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(T=null===n||void 0===n?void 0:n.briefdescr)||void 0===T?void 0:T.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"projstatus_key",className:(0,E.AK)("col-4",{"p-error":n.projstatus_key})},"Project Status*"),r.createElement(F.Qr,{name:"projstatus_key",control:e,rules:{required:"Status is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(Z.L,Object.assign({id:t.name},t,{style:{width:"50%"},className:(0,E.AK)({"p-invalid":n.invalid}),optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:h}))}}),(0,i.Hb)(null===(O=null===n||void 0===n?void 0:n.projstatus_key)||void 0===O?void 0:O.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"sqftprice",className:(0,E.AK)("col-4",{"p-error":n.sqftprice})}," Sale Price*"),r.createElement(F.Qr,{name:"sqftprice",control:e,rules:{required:" This is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({id:t.name},t,{style:{width:"20%"},className:(0,E.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(P=null===n||void 0===n?void 0:n.sqftprice)||void 0===P?void 0:P.message))))),r.createElement("div",{className:"col-4"},r.createElement("div",{className:"flex"},r.createElement("div",{className:"col-6"},r.createElement(d.z,{label:"Floor/Units",onClick:function(e){e.preventDefault(),!v&&u("/projects/".concat(p,"/floorunit"))},className:"project-page-tags",style:{width:"100%"}})),r.createElement("div",{className:"col-6"},r.createElement(d.z,{label:"Status Change",onClick:function(e){e.preventDefault(),!v&&u("/projects/".concat(p,"/statuschange"))},className:"project-page-tags",style:{width:"100%"}}))),r.createElement("div",{className:"flex"},r.createElement("div",{className:"col-6"},r.createElement(d.z,{label:"Availability",onClick:function(e){e.preventDefault(),!v&&u("/projects/".concat(p,"/availability"))},className:"project-page-tags",style:{width:"100%"}})),r.createElement("div",{className:"col-6"},r.createElement(d.z,{label:"Price Change",onClick:function(e){e.preventDefault(),!v&&u("/projects/".concat(p,"/pricechange"))},className:"project-page-tags",style:{width:"100%"}}))),r.createElement("div",{className:"flex"},r.createElement("div",{className:"col-6"},r.createElement(d.z,{label:"Pay Terms",onClick:function(e){e.preventDefault(),!v&&u("/projects/".concat(p,"/paymentterm"))},className:"project-page-tags",style:{width:"100%"}})),r.createElement("div",{className:"col-6"},r.createElement(d.z,{label:"Contacts",className:"project-page-tags",style:{width:"100%"}}))),r.createElement("div",{className:"flex"},r.createElement("div",{className:"p-5 justify-content-center"},r.createElement(_.E,{preview:!0,width:"100%",style:{padding:30,marginTop:"auto"},src:"https://www.primefaces.org/primereact/images/galleria/galleria7.jpg",alt:"Image Text"}),r.createElement(d.z,{className:"p-button-warning mr-3",style:{width:"100%"},label:"Add Image"})))))}}))},de=r.createElement(a.AW,{path:"project"},r.createElement(a.AW,{path:"new",element:r.createElement(se,null)}),r.createElement(a.AW,{path:":id/edit",element:r.createElement(se,null)}),r.createElement(a.AW,{index:!0,element:r.createElement(D,null)})),ue=de,me=n(7624),pe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},ve="/client/cost_code/",fe=b.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listCostCode:e.query({query:function(e){var t=e.page,n=e.size;return{url:(0,b.DS)(ve,"?page=".concat(t||1,"&page_size=").concat(n||b.IV))}},providesTags:function(e){var t;return e?[].concat((0,g.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:b.pJ.COST_CODES,id:t}}))),[{type:b.pJ.COST_CODES,id:"LIST"}]):[{type:b.pJ.COST_CODES,id:"LIST"}]}}),addCostCode:e.mutation({query:function(e){return{url:ve,method:"POST",body:e}},invalidatesTags:[{type:b.pJ.COST_CODES,id:"LIST"}]}),getCostCode:e.query({query:function(e){return"".concat(ve).concat(e)},providesTags:function(e,t,n){return[{type:b.pJ.COST_CODES,id:n}]}}),updateCostCode:e.mutation({query:function(e){var t=e.key,n=pe(e,["key"]);return{url:"".concat(ve).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:b.pJ.COST_CODES,id:null===e||void 0===e?void 0:e.id}]}}),deleteCostCode:e.mutation({query:function(e){return{url:"".concat(ve).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:b.pJ.COST_CODES,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),ye=fe.useAddCostCodeMutation,Ee=fe.useDeleteCostCodeMutation,ge=fe.useGetCostCodeQuery,be=fe.useListCostCodeQuery,he=fe.useUpdateCostCodeMutation,je=(fe.useGetErrorProneQuery,fe.endpoints.getCostCode,function(e){var t=be({}),n=t.data,a=t.isLoading,l=Ee(),o=(0,s.Z)(l,2),c=o[0],d=o[1].isLoading;return r.createElement(i.PS,{baseRoute:"/projects/costcode",description:"Cost Code",isLoading:a||d,data:null===n||void 0===n?void 0:n.results,deleteAction:function(e){return c(e).unwrap()}},r.createElement(u.s,{headerStyle:me.iR,field:"id",header:"Code ID",sortable:!0,filter:!0,dataType:"numeric",style:{minWidth:"8rem"}}),r.createElement(u.s,{headerStyle:me.iR,field:"descr",header:"Code Description",sortable:!0,filter:!0,style:{minWidth:"12rem"}}),r.createElement(u.s,{headerStyle:me.iR,field:"cost_category.descr",header:"Category Description",sortable:!0,filter:!0,style:{minWidth:"12rem"}}))}),Se=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Te="/client/cost_category/",Oe=b.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listCostCategory:e.query({query:function(e){var t=e.page,n=e.size;return{url:(0,b.DS)(Te,"?page=".concat(t||1,"&page_size=").concat(n||b.IV))}},providesTags:function(e){var t;return e?[].concat((0,g.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:b.pJ.COST_CATEGORIES,id:t}}))),[{type:b.pJ.COST_CATEGORIES,id:"LIST"}]):[{type:b.pJ.COST_CATEGORIES,id:"LIST"}]}}),addCostCategory:e.mutation({query:function(e){return{url:Te,method:"POST",body:e}},invalidatesTags:[{type:b.pJ.COST_CATEGORIES,id:"LIST"}]}),getCostCategory:e.query({query:function(e){return"".concat(Te).concat(e)},providesTags:function(e,t,n){return[{type:b.pJ.COST_CATEGORIES,id:n}]}}),updateCostCategory:e.mutation({query:function(e){var t=e.key,n=Se(e,["key"]);return{url:"".concat(Te).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:b.pJ.COST_CATEGORIES,id:null===e||void 0===e?void 0:e.id}]}}),deleteCostCategory:e.mutation({query:function(e){return{url:"".concat(Te).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:b.pJ.COST_CATEGORIES,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),Pe=Oe.useAddCostCategoryMutation,Ne=Oe.useDeleteCostCategoryMutation,Ce=Oe.useGetCostCategoryQuery,we=Oe.useListCostCategoryQuery,xe=Oe.useUpdateCostCategoryMutation,Ae=(Oe.useGetErrorProneQuery,Oe.endpoints.getCostCategory,function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function l(e){try{c(r.next(e))}catch(t){i(t)}}function o(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}c((r=r.apply(e,t||[])).next())}))}),ke={client_id:"1001",company:"TEST"},qe=function(e){var t=(0,r.useRef)(null),n=(0,r.useState)(!1),l=(0,s.Z)(n,2),o=l[0],c=l[1],d=(0,a.s0)(),u=(0,a.UO)().id,m=parseInt(u||""),p=isNaN(m)||m<=0,v=ge(m,{skip:p}),f=v.data,y=v.isLoading,g=ye(),b=(0,s.Z)(g,2),h=b[0],j=b[1].isLoading,S=he(),T=(0,s.Z)(S,2),O=T[0],P=T[1].isLoading,N=we({}).data,C=function(e,n){var r;null===(r=null===t||void 0===t?void 0:t.current)||void 0===r||r.show({severity:"success",summary:e,detail:n,life:3e3})},w=function(e,n){var r;null===(r=null===t||void 0===t?void 0:t.current)||void 0===r||r.show({severity:"error",summary:e,detail:n,life:3e3})};return r.createElement(r.Fragment,null,r.createElement(Q.F,{ref:t}),r.createElement(i.Rm,{baseRoute:"/projects/costcode",description:"Cost Code",id:m,data:f,isUpdating:j||P||o,isLoading:y,onSubmit:function(e){return Ae(void 0,void 0,void 0,(0,q.Z)().mark((function t(){var n;return(0,q.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!p){t.next=7;break}return t.next=4,h(Object.assign(Object.assign({},e),ke)).unwrap();case 4:n=t.sent,t.next=10;break;case 7:return t.next=9,O(Object.assign(Object.assign({},e),ke)).unwrap();case 9:n=t.sent;case 10:C("Success",n.detail),c(!0),setTimeout((function(){d("/projects/costcode")}),3e3),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),w("An error occurred","We couldn't save your post, try again!");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))},renderForm:function(e,t,n){var a,l,o;return r.createElement("div",{className:"pl-8"},r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"id",className:(0,E.AK)("col-2",{"p-error":n.id})},"Code ID*"),r.createElement(F.Qr,{name:"id",control:e,rules:{required:"Code ID is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({id:t.name},t,{className:(0,E.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(a=null===n||void 0===n?void 0:n.id)||void 0===a?void 0:a.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"descr",className:(0,E.AK)("col-2",{"p-error":n.descr})},"Code Description*"),r.createElement(F.Qr,{name:"descr",control:e,rules:{required:"Code Description is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({id:t.name},t,{className:(0,E.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(l=null===n||void 0===n?void 0:n.descr)||void 0===l?void 0:l.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"costctg_key",className:(0,E.AK)("col-2",{"p-error":n.descr})},"Cost Category*"),r.createElement(F.Qr,{name:"costctg_key",control:e,rules:{required:"Cost Category is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(Z.L,Object.assign({id:t.name},t,{className:(0,E.AK)({"p-invalid":n.invalid}),optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:null===N||void 0===N?void 0:N.results}))}}),(0,i.Hb)(null===(o=null===n||void 0===n?void 0:n.descr)||void 0===o?void 0:o.message)))}}))},Le=r.createElement(a.AW,{path:"costcode"},r.createElement(a.AW,{path:"new",element:r.createElement(qe,null)}),r.createElement(a.AW,{path:":id/edit",element:r.createElement(qe,null)}),r.createElement(a.AW,{index:!0,element:r.createElement(je,null)})),Ie=function(e){var t=we({}),n=t.data,a=t.isLoading,l=Ne(),o=(0,s.Z)(l,2),c=o[0],d=o[1].isLoading;return r.createElement(i.PS,{baseRoute:"/projects/costcategory",description:"Cost Category",isLoading:a||d,data:null===n||void 0===n?void 0:n.results,deleteAction:function(e){return c(e).unwrap()}},r.createElement(u.s,{headerStyle:me.iR,field:"id",header:"Category ID",sortable:!0,filter:!0,dataType:"numeric",style:{minWidth:"8rem"}}),r.createElement(u.s,{headerStyle:me.iR,field:"descr",header:"Category Description",sortable:!0,filter:!0,style:{minWidth:"12rem"}}))},_e=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function l(e){try{c(r.next(e))}catch(t){i(t)}}function o(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}c((r=r.apply(e,t||[])).next())}))},Je={client_id:"1001",company:"TEST"},Re=function(e){var t=(0,r.useRef)(null),n=(0,r.useState)(!1),l=(0,s.Z)(n,2),o=l[0],c=l[1],d=(0,a.s0)(),u=(0,a.UO)().id,m=parseInt(u||""),p=isNaN(m)||m<=0,v=Ce(m,{skip:p}),f=v.data,y=v.isLoading,g=Pe(),b=(0,s.Z)(g,2),h=b[0],j=b[1].isLoading,S=xe(),T=(0,s.Z)(S,2),O=T[0],P=T[1].isLoading,N=function(e,n){var r;null===(r=null===t||void 0===t?void 0:t.current)||void 0===r||r.show({severity:"success",summary:e,detail:n,life:3e3})},C=function(e,n){var r;null===(r=null===t||void 0===t?void 0:t.current)||void 0===r||r.show({severity:"error",summary:e,detail:n,life:3e3})};return r.createElement(r.Fragment,null,r.createElement(Q.F,{ref:t}),r.createElement(i.Rm,{baseRoute:"/projects/costcategory",description:"Cost Category",id:m,data:f,isUpdating:j||P||o,isLoading:y,onSubmit:function(e){return _e(void 0,void 0,void 0,(0,q.Z)().mark((function t(){var n;return(0,q.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!p){t.next=7;break}return t.next=4,h(Object.assign(Object.assign({},e),Je)).unwrap();case 4:n=t.sent,t.next=10;break;case 7:return t.next=9,O(Object.assign(Object.assign({},e),Je)).unwrap();case 9:n=t.sent;case 10:N("Success",n.detail),c(!0),setTimeout((function(){d("/projects/costcategory")}),3e3),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),C("An error occurred","We couldn't save your post, try again!");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))},renderForm:function(e,t,n){var a,l;return r.createElement("div",{className:"pl-8"},r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"id",className:(0,E.AK)("col-2",{"p-error":n.id})},"Category ID*"),r.createElement(F.Qr,{name:"id",control:e,rules:{required:"Category ID is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({id:t.name},t,{className:(0,E.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(a=null===n||void 0===n?void 0:n.id)||void 0===a?void 0:a.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"descr",className:(0,E.AK)("col-2",{"p-error":n.descr})},"Category Description*"),r.createElement(F.Qr,{name:"descr",control:e,rules:{required:"Category Description is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({id:t.name},t,{className:(0,E.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(l=null===n||void 0===n?void 0:n.descr)||void 0===l?void 0:l.message)))}}))},De=r.createElement(a.AW,{path:"costcategory"},r.createElement(a.AW,{path:"new",element:r.createElement(Re,null)}),r.createElement(a.AW,{path:":id/edit",element:r.createElement(Re,null)}),r.createElement(a.AW,{index:!0,element:r.createElement(Ie,null)})),Fe=function(e){var t=ie({}),n=t.data,a=t.isLoading,l=re(),o=(0,s.Z)(l,2),c=o[0],d=o[1].isLoading;return r.createElement(i.PS,{baseRoute:"/projects/projecttype",description:"Project Type",isLoading:a||d,data:null===n||void 0===n?void 0:n.results,deleteAction:function(e){return c(e).unwrap()}},r.createElement(u.s,{headerStyle:me.iR,field:"id",header:"Type ID",sortable:!0,filter:!0,dataType:"numeric",style:{minWidth:"8rem"}}),r.createElement(u.s,{headerStyle:me.iR,field:"descr",header:"Type Description",sortable:!0,filter:!0,style:{minWidth:"12rem"}}))},Ke=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function l(e){try{c(r.next(e))}catch(t){i(t)}}function o(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}c((r=r.apply(e,t||[])).next())}))},Ze={client_id:"1001",company:"TEST"},Ue=function(e){var t=(0,r.useRef)(null),n=(0,r.useState)(!1),l=(0,s.Z)(n,2),o=l[0],c=l[1],d=(0,a.s0)(),u=(0,a.UO)().id,m=parseInt(u||""),p=isNaN(m)||m<=0,v=ae(m,{skip:p}),f=v.data,y=v.isLoading,g=ne(),b=(0,s.Z)(g,2),h=b[0],j=b[1].isLoading,S=le(),T=(0,s.Z)(S,2),O=T[0],P=T[1].isLoading,N=function(e,n){var r;null===(r=null===t||void 0===t?void 0:t.current)||void 0===r||r.show({severity:"success",summary:e,detail:n,life:3e3})},C=function(e,n){var r;null===(r=null===t||void 0===t?void 0:t.current)||void 0===r||r.show({severity:"error",summary:e,detail:n,life:3e3})};return r.createElement(r.Fragment,null,r.createElement(Q.F,{ref:t}),r.createElement(i.Rm,{baseRoute:"/projects/projecttype",description:"Project Type",id:m,data:f,isUpdating:j||P||o,isLoading:y,onSubmit:function(e){return Ke(void 0,void 0,void 0,(0,q.Z)().mark((function t(){var n;return(0,q.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!p){t.next=7;break}return t.next=4,h(Object.assign(Object.assign({},e),Ze)).unwrap();case 4:n=t.sent,t.next=10;break;case 7:return t.next=9,O(Object.assign(Object.assign({},e),Ze)).unwrap();case 9:n=t.sent;case 10:N("Success",n.detail),c(!0),setTimeout((function(){d("/projects/projecttype")}),3e3),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),C("An error occurred","We couldn't save your post, try again!");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))},renderForm:function(e,t,n){var a,l;return r.createElement("div",{className:"pl-8"},r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"id",className:(0,E.AK)("col-2",{"p-error":n.id})},"Type ID*"),r.createElement(F.Qr,{name:"id",control:e,rules:{required:"Type ID is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({disabled:!p,id:t.name},t,{className:(0,E.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(a=null===n||void 0===n?void 0:n.id)||void 0===a?void 0:a.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"descr",className:(0,E.AK)("col-2",{"p-error":n.descr})},"Type Description*"),r.createElement(F.Qr,{name:"descr",control:e,rules:{required:"Type Description is required.",maxLength:{value:100,message:"Max 100 Char"}},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({style:{width:"50%"},id:t.name},t,{className:(0,E.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(l=null===n||void 0===n?void 0:n.descr)||void 0===l?void 0:l.message)))}}))},Qe=r.createElement(a.AW,{path:"projecttype"},r.createElement(a.AW,{path:"new",element:r.createElement(Ue,null)}),r.createElement(a.AW,{path:":id/edit",element:r.createElement(Ue,null)}),r.createElement(a.AW,{index:!0,element:r.createElement(Fe,null)})),We=n(6272),Me=n(2886),Ge=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},ze="/project/block/",Be=b.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listProjectBlock:e.query({query:function(e){var t=e.page,n=e.size,r=e.projectId;return{url:(0,b.DS)(ze,"?page=".concat(t||1,"&page_size=").concat(n||b.IV,"&project=").concat(r||""))}},providesTags:function(e){var t;return e?[].concat((0,g.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:b.pJ.PROJECT_BLOCK,id:t}}))),[{type:b.pJ.PROJECT_BLOCK,id:"LIST"}]):[{type:b.pJ.PROJECT_BLOCK,id:"LIST"}]}}),addProjectBlock:e.mutation({query:function(e){return{url:ze,method:"POST",body:e}},invalidatesTags:[{type:b.pJ.PROJECT_BLOCK,id:"LIST"}]}),getProjectBlock:e.query({query:function(e){return"".concat(ze).concat(e)},providesTags:function(e,t,n){return[{type:b.pJ.PROJECT_BLOCK,id:n}]}}),updateProjectBlock:e.mutation({query:function(e){var t=e.key,n=Ge(e,["key"]);return{url:"".concat(ze).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:b.pJ.PROJECT_BLOCK,id:null===e||void 0===e?void 0:e.id}]}}),deleteProjectBlock:e.mutation({query:function(e){return{url:"".concat(ze).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:b.pJ.PROJECT_BLOCK,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),He=Be.useAddProjectBlockMutation,Ve=Be.useDeleteProjectBlockMutation,Ye=Be.useGetProjectBlockQuery,Xe=Be.useListProjectBlockQuery,$e=Be.useUpdateProjectBlockMutation,et=(Be.useGetErrorProneQuery,Be.endpoints.getProjectBlock,function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}),tt="/project/floor/",nt=b.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listProjectFloor:e.query({query:function(e){var t=e.page,n=e.size,r=e.projectId;return{url:(0,b.DS)(tt,"?page=".concat(t||1,"&page_size=").concat(n||b.IV,"&project=").concat(r||""))}},providesTags:function(e){var t;return e?[].concat((0,g.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:b.pJ.PROJECT_FLOOR,id:t}}))),[{type:b.pJ.PROJECT_FLOOR,id:"LIST"}]):[{type:b.pJ.PROJECT_FLOOR,id:"LIST"}]}}),addProjectFloor:e.mutation({query:function(e){return{url:tt,method:"POST",body:e}},invalidatesTags:[{type:b.pJ.PROJECT_FLOOR,id:"LIST"}]}),getProjectFloor:e.query({query:function(e){return"".concat(tt).concat(e)},providesTags:function(e,t,n){return[{type:b.pJ.PROJECT_FLOOR,id:n}]}}),updateProjectFloor:e.mutation({query:function(e){var t=e.key,n=et(e,["key"]);return{url:"".concat(tt).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:b.pJ.PROJECT_FLOOR,id:null===e||void 0===e?void 0:e.id}]}}),deleteProjectFloor:e.mutation({query:function(e){return{url:"".concat(tt).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:b.pJ.PROJECT_FLOOR,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),rt=nt.useAddProjectFloorMutation,at=nt.useDeleteProjectFloorMutation,it=nt.useGetProjectFloorQuery,lt=nt.useListProjectFloorQuery,ot=nt.useUpdateProjectFloorMutation,ct=(nt.useGetErrorProneQuery,nt.endpoints.getProjectFloor,function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}),st="/project/unit/",dt=b.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listProjectUnit:e.query({query:function(e){var t=e.page,n=e.size,r=e.projectId;return{url:(0,b.DS)(st,"?page=".concat(t||1,"&page_size=").concat(n||b.IV,"&project=").concat(r||""))}},providesTags:function(e){var t;return e?[].concat((0,g.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:b.pJ.PROJECT_UNIT,id:t}}))),[{type:b.pJ.PROJECT_UNIT,id:"LIST"}]):[{type:b.pJ.PROJECT_UNIT,id:"LIST"}]}}),addProjectUnit:e.mutation({query:function(e){return{url:st,method:"POST",body:e}},invalidatesTags:[{type:b.pJ.PROJECT_UNIT,id:"LIST"}]}),getProjectUnit:e.query({query:function(e){return"".concat(st).concat(e)},providesTags:function(e,t,n){return[{type:b.pJ.PROJECT_UNIT,id:n}]}}),updateProjectUnit:e.mutation({query:function(e){var t=e.key,n=ct(e,["key"]);return{url:"".concat(st).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:b.pJ.PROJECT_UNIT,id:null===e||void 0===e?void 0:e.id}]}}),deleteProjectUnit:e.mutation({query:function(e){return{url:"".concat(st).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:b.pJ.PROJECT_UNIT,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),ut=dt.useAddProjectUnitMutation,mt=dt.useDeleteProjectUnitMutation,pt=dt.useGetProjectUnitQuery,vt=dt.useListProjectUnitQuery,ft=dt.useUpdateProjectUnitMutation,yt=(dt.useGetErrorProneQuery,dt.endpoints.getProjectUnit,function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function l(e){try{c(r.next(e))}catch(t){i(t)}}function o(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}c((r=r.apply(e,t||[])).next())}))}),Et=function(e,t,n){return function(a){return r.createElement(r.Fragment,null,r.createElement(p.rU,{to:"".concat(e,"/").concat(a.key,"/edit"),style:{textDecoration:"none"}},r.createElement(d.z,{icon:"pi pi-eye",className:"p-button-rounded p-button-text"})),r.createElement(d.z,{style:{height:"20px",width:"20px",borderRadius:50},onClick:function(){return t(a.key,n)},icon:"p-button-sm pi pi-times"}))}},gt=function(e){var t=Ve(),n=(0,s.Z)(t,2),l=n[0],o=n[1].isLoading,c=at(),m=(0,s.Z)(c,2),v=m[0],f=m[1].isLoading,y=mt(),g=(0,s.Z)(y,2),b=g[0],h=g[1].isLoading,j=(0,r.useRef)(null),S=(0,a.UO)().id,T=parseInt(S||""),O=isNaN(T)||T<=0,P=B(T,{skip:O}),N=P.data,C=(P.isLoading,Xe({projectId:null===N||void 0===N?void 0:N.key},{skip:!(null===N||void 0===N?void 0:N.key)})),w=C.data,x=C.isLoading,A=vt({projectId:null===N||void 0===N?void 0:N.key},{skip:!(null===N||void 0===N?void 0:N.key)}),k=A.data,L=A.isLoading,_=lt({projectId:null===N||void 0===N?void 0:N.key},{skip:!(null===N||void 0===N?void 0:N.key)}),J=_.data,R=_.isLoading;if(x||R||L)return r.createElement("div",{className:"custom-skeleton p-4"},r.createElement("div",null,r.createElement(We.O,{height:"50px",width:"30%",className:"mb-2"}),r.createElement(We.O,{height:"50px",width:"50%",className:"mb-2"})));var D=function(e,t){var n;null===(n=null===j||void 0===j?void 0:j.current)||void 0===n||n.show({severity:"success",summary:e,detail:t,life:3e3})},F=function(e,t){var n;null===(n=null===j||void 0===j?void 0:j.current)||void 0===n||n.show({severity:"error",summary:e,detail:t,life:3e3})},Z=function(e,t){return yt(void 0,void 0,void 0,(0,q.Z)().mark((function n(){return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:(0,Me.V)({message:"Are you sure you want to delete?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){return yt(void 0,void 0,void 0,(0,q.Z)().mark((function n(){var r,a;return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t(e);case 3:a=n.sent,D("Success",a),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),F("Failed",null===(r=null===n.t0||void 0===n.t0?void 0:n.t0.data)||void 0===r?void 0:r.detail);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))},reject:function(){}});case 3:case"end":return n.stop()}}),n)})))},U=Object.assign(Object.assign({},me.iR),{backgroundColor:"gray",color:"white"}),W=Object.assign(Object.assign({},me.jc),{backgroundColor:"gray",color:"white"});return r.createElement(r.Fragment,null,r.createElement(Q.F,{ref:j}),r.createElement(Me.Q,null),r.createElement("div",null,r.createElement("div",{className:"flex"},r.createElement("h3",{className:(0,E.AK)("m-0 my-auto")},"Floor Units"),r.createElement(p.rU,{to:"/projects/".concat(T,"/floorunit/block/new"),style:{textDecoration:"none"}},r.createElement(d.z,{label:"Create Block",className:"ml-3"})),r.createElement(p.rU,{to:"/projects/".concat(T,"/floorunit/floor/new"),style:{textDecoration:"none"}},r.createElement(d.z,{label:"Create Floor",className:"ml-3"})),r.createElement(p.rU,{to:"/projects/".concat(T,"/floorunit/unit/new"),style:{textDecoration:"none"}},r.createElement(d.z,{label:"Create Unit",className:"ml-3"}))),r.createElement(I.i,null),r.createElement("div",{className:"pl-8"},r.createElement("div",{className:"field"},r.createElement("label",{className:(0,E.AK)("col-2")},"Project ID"),r.createElement(K.o,{value:null===N||void 0===N?void 0:N.id,disabled:!0})),r.createElement("div",{className:"field"},r.createElement("label",{className:(0,E.AK)("col-2")},"Project Name"),r.createElement(K.o,{style:{width:"50%"},value:null===N||void 0===N?void 0:N.name,disabled:!0}))),r.createElement(I.i,null)),r.createElement(i.Gn,{responsiveLayout:"scroll",loading:o,style:{height:"calc(100vh - 450px)",maxHeight:250,overflowX:"auto",border:"2px solid",padding:10,margin:10},value:null===w||void 0===w?void 0:w.results},r.createElement(u.s,{headerStyle:W,style:{maxWidth:"100px"},bodyStyle:{textAlign:"center",overflow:"visible"},body:Et("/projects/".concat(T,"/floorunit/block"),Z,(function(e){return l(e).unwrap()}))}),r.createElement(u.s,{headerStyle:U,field:"id",header:"Block",sortable:!0,filter:!0,dataType:"numeric",style:{minWidth:"8rem"}}),r.createElement(u.s,{headerStyle:U,field:"descr",header:"Description",sortable:!0,filter:!0,style:{minWidth:"12rem"}})),r.createElement(i.Gn,{loading:f,style:{height:"calc(100vh - 450px)",maxHeight:250,overflowX:"auto",border:"2px solid",padding:10,margin:10},value:null===J||void 0===J?void 0:J.results},r.createElement(u.s,{headerStyle:W,style:{maxWidth:"100px"},bodyStyle:{textAlign:"center",overflow:"visible"},body:Et("/projects/".concat(T,"/floorunit/floor"),Z,(function(e){return v(e).unwrap()}))}),r.createElement(u.s,{headerStyle:U,field:"id",header:"Floor",sortable:!0,filter:!0,dataType:"numeric",style:{minWidth:"8rem"}}),r.createElement(u.s,{headerStyle:U,field:"descr",header:"Description",sortable:!0,filter:!0,style:{minWidth:"12rem"}}),r.createElement(u.s,{headerStyle:U,field:"pricediff",header:"No of Units",sortable:!0,filter:!0,style:{minWidth:"12rem"}})),r.createElement(i.Gn,{loading:h,style:{height:"calc(100vh - 450px)",maxHeight:250,overflowX:"auto",border:"2px solid",padding:10,margin:10},value:null===k||void 0===k?void 0:k.results},r.createElement(u.s,{headerStyle:W,style:{maxWidth:"100px"},bodyStyle:{textAlign:"center",overflow:"visible"},body:Et("/projects/".concat(T,"/floorunit/unit"),Z,(function(e){return b(e).unwrap()}))}),r.createElement(u.s,{headerStyle:U,field:"id",header:"Unit",sortable:!0,filter:!0,dataType:"numeric",style:{minWidth:"8rem"}}),r.createElement(u.s,{headerStyle:U,field:"descr",header:"Description",sortable:!0,filter:!0,style:{minWidth:"12rem"}}),r.createElement(u.s,{headerStyle:U,field:"saleablearea",header:"Saleable SQFT",sortable:!0,filter:!0,style:{minWidth:"12rem"}})))},bt=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function l(e){try{c(r.next(e))}catch(t){i(t)}}function o(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}c((r=r.apply(e,t||[])).next())}))},ht=function(e){var t=(0,r.useRef)(null),n=(0,r.useState)(!1),l=(0,s.Z)(n,2),o=l[0],c=l[1],d=(0,a.s0)(),u=(0,a.UO)(),m=u.blockId,p=u.id,v=parseInt(m||""),f=isNaN(v)||v<=0,y=parseInt(p||""),g="/projects/".concat(y,"/floorunit"),b=Ye(v,{skip:f}),h=b.data,j=b.isLoading,S=B(y,{skip:isNaN(y)||y<=0}),T=S.data,O=(S.isLoading,He()),P=(0,s.Z)(O,2),N=P[0],C=P[1].isLoading,w=$e(),x=(0,s.Z)(w,2),A=x[0],k=x[1].isLoading,L=function(e,n){var r;null===(r=null===t||void 0===t?void 0:t.current)||void 0===r||r.show({severity:"success",summary:e,detail:n,life:3e3})},_=function(e,n){var r;null===(r=null===t||void 0===t?void 0:t.current)||void 0===r||r.show({severity:"error",summary:e,detail:n,life:3e3})},J={client_id:"1001",company:"TEST",proj_key:y};return r.createElement(r.Fragment,null,r.createElement(Q.F,{ref:t}),r.createElement(i.Rm,{baseRoute:g,description:"Block",id:v,data:h,isUpdating:C||k||o,isLoading:j,onSubmit:function(e){return bt(void 0,void 0,void 0,(0,q.Z)().mark((function t(){var n;return(0,q.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!f){t.next=7;break}return t.next=4,N(Object.assign(Object.assign({},e),J)).unwrap();case 4:n=t.sent,t.next=10;break;case 7:return t.next=9,A(Object.assign(Object.assign({},e),J)).unwrap();case 9:n=t.sent;case 10:L("Success",n.detail),c(!0),setTimeout((function(){d(g)}),3e3),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),_("An error occurred","We couldn't save your post, try again!");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))},renderForm:function(e,t,n){var a,l;return r.createElement("div",{className:"pl-8"},r.createElement("div",{className:"field"},r.createElement("label",{className:(0,E.AK)("col-2")},"Project ID"),r.createElement(K.o,{value:null===T||void 0===T?void 0:T.id,disabled:!0})),r.createElement("div",{className:"field"},r.createElement("label",{className:(0,E.AK)("col-2")},"Project Name"),r.createElement(K.o,{style:{width:"50%"},value:null===T||void 0===T?void 0:T.name,disabled:!0})),r.createElement(I.i,null),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"id",className:(0,E.AK)("col-2",{"p-error":n.id})},"Block ID*"),r.createElement(F.Qr,{name:"id",control:e,rules:{required:"ID is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({id:t.name},t,{className:(0,E.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(a=null===n||void 0===n?void 0:n.id)||void 0===a?void 0:a.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"descr",className:(0,E.AK)("col-2",{"p-error":n.descr})},"Block Description*"),r.createElement(F.Qr,{name:"descr",control:e,rules:{required:"Description is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({disabled:!f,style:{width:"40%"},id:t.name},t,{className:(0,E.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(l=null===n||void 0===n?void 0:n.descr)||void 0===l?void 0:l.message)))}}))},jt=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function l(e){try{c(r.next(e))}catch(t){i(t)}}function o(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}c((r=r.apply(e,t||[])).next())}))},St=function(e){var t=(0,r.useRef)(null),n=(0,r.useState)(!1),l=(0,s.Z)(n,2),o=l[0],c=l[1],d=(0,a.s0)(),u=(0,a.UO)(),m=u.floorId,p=u.id,v=parseInt(m||""),f=isNaN(v)||v<=0,y=parseInt(p||""),g="/projects/".concat(y,"/floorunit"),b=it(v,{skip:f}),h=b.data,j=b.isLoading,S=B(y,{skip:isNaN(y)||y<=0}),T=S.data,O=(S.isLoading,Xe({projectId:null===T||void 0===T?void 0:T.key},{skip:!(null===T||void 0===T?void 0:T.key)})),P=O.data,N=(O.isLoading,rt()),C=(0,s.Z)(N,2),w=C[0],x=C[1].isLoading,A=ot(),k=(0,s.Z)(A,2),L=k[0],_=k[1].isLoading,J=function(e,n){var r;null===(r=null===t||void 0===t?void 0:t.current)||void 0===r||r.show({severity:"success",summary:e,detail:n,life:3e3})},R=function(e,n){var r;null===(r=null===t||void 0===t?void 0:t.current)||void 0===r||r.show({severity:"error",summary:e,detail:n,life:3e3})},D={client_id:"1001",company:"TEST",proj_key:y};return r.createElement(r.Fragment,null,r.createElement(Q.F,{ref:t}),r.createElement(i.Rm,{baseRoute:g,description:"Floor",id:v,data:h,isUpdating:x||_||o,isLoading:j,onSubmit:function(e){return jt(void 0,void 0,void 0,(0,q.Z)().mark((function t(){var n;return(0,q.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!f){t.next=7;break}return t.next=4,w(Object.assign(Object.assign({},e),D)).unwrap();case 4:n=t.sent,t.next=10;break;case 7:return t.next=9,L(Object.assign(Object.assign({},e),D)).unwrap();case 9:n=t.sent;case 10:J("Success",n.detail),c(!0),setTimeout((function(){d(g)}),3e3),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),R("An error occurred","We couldn't save your post, try again!");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))},renderForm:function(e,t,n){var a,l,o,c;return r.createElement("div",{className:"pl-8"},r.createElement("div",{className:"field"},r.createElement("label",{className:(0,E.AK)("col-2")},"Project ID"),r.createElement(K.o,{value:null===T||void 0===T?void 0:T.id,disabled:!0})),r.createElement("div",{className:"field"},r.createElement("label",{className:(0,E.AK)("col-2")},"Project Name"),r.createElement(K.o,{style:{width:"50%"},value:null===T||void 0===T?void 0:T.name,disabled:!0})),r.createElement(I.i,null),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"projblk_key",className:(0,E.AK)("col-2",{"p-error":n.descr})},"Block ID*"),r.createElement(F.Qr,{name:"projblk_key",control:e,rules:{required:"Block ID is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(Z.L,Object.assign({disabled:!f,id:t.name},t,{className:(0,E.AK)({"p-invalid":n.invalid}),optionLabel:"id",optionValue:"key",filter:!0,filterBy:"id",options:null===P||void 0===P?void 0:P.results}))}}),(0,i.Hb)(null===(a=null===n||void 0===n?void 0:n.projblk_key)||void 0===a?void 0:a.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"id",className:(0,E.AK)("col-2",{"p-error":n.id})},"Floor ID*"),r.createElement(F.Qr,{name:"id",control:e,rules:{required:"ID is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({disabled:!f,id:t.name},t,{className:(0,E.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(l=null===n||void 0===n?void 0:n.id)||void 0===l?void 0:l.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"descr",className:(0,E.AK)("col-2",{"p-error":n.descr})},"Floor Description*"),r.createElement(F.Qr,{name:"descr",control:e,rules:{required:"Description is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({style:{width:"40%"},id:t.name},t,{className:(0,E.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(o=null===n||void 0===n?void 0:n.descr)||void 0===o?void 0:o.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"pricediff",className:(0,E.AK)("col-2",{"p-error":n.pricediff})},"Price Difference (\u20b9)*"),r.createElement(F.Qr,{name:"pricediff",control:e,rules:{},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({type:"number",id:t.name},t,{className:(0,E.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(c=null===n||void 0===n?void 0:n.pricediff)||void 0===c?void 0:c.message)))}}))},Tt=n(8391),Ot=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function l(e){try{c(r.next(e))}catch(t){i(t)}}function o(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}c((r=r.apply(e,t||[])).next())}))},Pt=function(e){var t=(0,r.useRef)(null),n=(0,r.useState)(!1),l=(0,s.Z)(n,2),o=l[0],c=l[1],d=(0,a.s0)(),u=(0,a.UO)(),m=u.unitId,p=u.id,v=parseInt(m||""),f=isNaN(v)||v<=0,y=parseInt(p||""),g="/projects/".concat(y,"/floorunit"),b=pt(v,{skip:f}),h=b.data,j=b.isLoading,S=B(y,{skip:isNaN(y)||y<=0}),T=S.data,O=(S.isLoading,Xe({projectId:null===T||void 0===T?void 0:T.key},{skip:!(null===T||void 0===T?void 0:T.key)})),P=O.data,N=(O.isLoading,lt({projectId:null===T||void 0===T?void 0:T.key},{skip:!(null===T||void 0===T?void 0:T.key)})),C=N.data,w=(N.isLoading,ut()),x=(0,s.Z)(w,2),A=x[0],k=x[1].isLoading,L=ft(),_=(0,s.Z)(L,2),J=_[0],R=_[1].isLoading,D=function(e,n){var r;null===(r=null===t||void 0===t?void 0:t.current)||void 0===r||r.show({severity:"success",summary:e,detail:n,life:3e3})},U=function(e,n){var r;null===(r=null===t||void 0===t?void 0:t.current)||void 0===r||r.show({severity:"error",summary:e,detail:n,life:3e3})},W={client_id:"1001",company:"TEST",proj_key:y};return r.createElement(r.Fragment,null,r.createElement(Q.F,{ref:t}),r.createElement(i.Rm,{baseRoute:g,description:"Unit",id:v,data:h,isUpdating:k||R||o,isLoading:j,onSubmit:function(e){return Ot(void 0,void 0,void 0,(0,q.Z)().mark((function t(){var n;return(0,q.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!f){t.next=7;break}return t.next=4,A(Object.assign(Object.assign({},e),W)).unwrap();case 4:n=t.sent,t.next=10;break;case 7:return t.next=9,J(Object.assign(Object.assign({},e),W)).unwrap();case 9:n=t.sent;case 10:D("Success",n.detail),c(!0),setTimeout((function(){d(g)}),3e3),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),U("An error occurred","We couldn't save your post, try again!");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))},renderForm:function(e,t,n){return r.createElement("div",{className:"pl-8"},r.createElement("div",{className:"field"},r.createElement("label",{className:(0,E.AK)("col-2")},"Project ID"),r.createElement(K.o,{value:null===T||void 0===T?void 0:T.id,disabled:!0})),r.createElement("div",{className:"field"},r.createElement("label",{className:(0,E.AK)("col-2")},"Project Name"),r.createElement(K.o,{style:{width:"50%"},value:null===T||void 0===T?void 0:T.name,disabled:!0})),r.createElement(I.i,null),r.createElement("div",{className:"flex"},r.createElement("div",{style:{border:"1px solid"},className:"col-8"},r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"projblk_key",className:(0,E.AK)("col-3",{"p-error":n.projblk_key})},"Block ID*"),r.createElement(F.Qr,{name:"projblk_key",control:e,rules:{required:"Block ID is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(Z.L,Object.assign({disabled:!f,id:t.name},t,{className:(0,E.AK)({"p-invalid":n.invalid}),optionLabel:"id",optionValue:"key",filter:!0,filterBy:"id",options:null===P||void 0===P?void 0:P.results}))}})),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"projflr_key",className:(0,E.AK)("col-3",{"p-error":n.projflr_key})},"Floor ID*"),r.createElement(F.Qr,{name:"projflr_key",control:e,rules:{required:"Floor ID is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(Z.L,Object.assign({disabled:!f,id:t.name},t,{className:(0,E.AK)({"p-invalid":n.invalid}),optionLabel:"id",optionValue:"key",filter:!0,filterBy:"id",options:null===C||void 0===C?void 0:C.results}))}})),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"id",className:(0,E.AK)("col-3",{"p-error":n.id})},"Unit ID*"),r.createElement(F.Qr,{name:"id",control:e,rules:{required:"ID is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({disabled:!f,id:t.name},t,{className:(0,E.AK)({"p-invalid":n.invalid})}))}})),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"descr",className:(0,E.AK)("col-3",{"p-error":n.descr})},"Unit Description*"),r.createElement(F.Qr,{name:"descr",control:e,rules:{required:"Description is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({style:{width:"40%"},id:t.name},t,{className:(0,E.AK)({"p-invalid":n.invalid})}))}}))),r.createElement("div",{style:{border:"1px solid"},className:"col-4"},r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"saleablearea",className:(0,E.AK)("col-5",{"p-error":n.saleablearea})},"Saleable Area SqFt"),r.createElement(F.Qr,{name:"saleablearea",control:e,rules:{},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({type:"number",id:t.name},t,{className:(0,E.AK)("col-6",{"p-invalid":n.invalid})}))}})),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"carpetarea",className:(0,E.AK)("col-5",{"p-error":n.carpetarea})},"Carpet Area SqFt"),r.createElement(F.Qr,{name:"carpetarea",control:e,rules:{},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({type:"number",id:t.name},t,{className:(0,E.AK)("col-6",{"p-invalid":n.invalid})}))}})),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"udsarea",className:(0,E.AK)("col-5",{"p-error":n.udsarea})},"UDS Area SqFt"),r.createElement(F.Qr,{name:"udsarea",control:e,rules:{},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({type:"number",id:t.name},t,{className:(0,E.AK)("col-6",{"p-invalid":n.invalid})}))}})))),r.createElement("div",{className:"flex"},r.createElement("div",{style:{border:"1px solid"},className:"col-4"},r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"bedrooms",className:(0,E.AK)("col-5",{"p-error":n.bedrooms})},"Bedroom"),r.createElement(F.Qr,{name:"bedrooms",control:e,rules:{},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({id:t.name},t,{className:(0,E.AK)("col-6",{"p-invalid":n.invalid})}))}})),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"bathrooms",className:(0,E.AK)("col-5",{"p-error":n.bathrooms})},"Bathroom"),r.createElement(F.Qr,{name:"bathrooms",control:e,rules:{},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({id:t.name},t,{className:(0,E.AK)("col-6",{"p-invalid":n.invalid})}))}})),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"attachedbaths",className:(0,E.AK)("col-5",{"p-error":n.attachedbaths})},"Attached Baths"),r.createElement(F.Qr,{name:"attachedbaths",control:e,rules:{},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({id:t.name},t,{className:(0,E.AK)("col-6",{"p-invalid":n.invalid})}))}})),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"balconies",className:(0,E.AK)("col-5",{"p-error":n.balconies})},"Balconies"),r.createElement(F.Qr,{name:"balconies",control:e,rules:{},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({id:t.name},t,{className:(0,E.AK)("col-6",{"p-invalid":n.invalid})}))}}))),r.createElement("div",{style:{border:"1px solid"},className:"col-4"},r.createElement("div",{className:"field"},r.createElement("label",{style:{margin:"auto"},htmlFor:"servicearea",className:(0,E.AK)("col-5",{"p-error":n.servicearea})},"Service Area"),r.createElement(F.Qr,{name:"servicearea",control:e,render:function(e){var t=e.field,n=e.fieldState;return r.createElement(Tt.X,Object.assign({checked:t.value,trueValue:"1",falseValue:"0",id:t.name},t,{className:(0,E.AK)({"p-invalid":n.invalid})}))}})),r.createElement("div",{className:"field"},r.createElement("label",{style:{margin:"auto"},htmlFor:"poojaroom",className:(0,E.AK)("col-5",{"p-error":n.poojaroom})},"Pooja Room"),r.createElement(F.Qr,{name:"poojaroom",control:e,render:function(e){var t=e.field,n=e.fieldState;return r.createElement(Tt.X,Object.assign({checked:t.value,trueValue:"1",falseValue:"0",id:t.name},t,{className:(0,E.AK)({"p-invalid":n.invalid})}))}})),r.createElement("div",{className:"field"},r.createElement("label",{style:{margin:"auto"},htmlFor:"carparking",className:(0,E.AK)("col-5",{"p-error":n.carparking})},"Car Parking"),r.createElement(F.Qr,{name:"carparking",control:e,render:function(e){var t=e.field,n=e.fieldState;return r.createElement(Tt.X,Object.assign({checked:t.value,trueValue:"1",falseValue:"0",id:t.name},t,{className:(0,E.AK)({"p-invalid":n.invalid})}))}})),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"allotedparkingspot",className:(0,E.AK)("col-5",{"p-error":n.allotedparkingspot})},"Parking Slot"),r.createElement(F.Qr,{name:"allotedparkingspot",control:e,rules:{},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({id:t.name},t,{className:(0,E.AK)("col-6",{"p-invalid":n.invalid})}))}}))),r.createElement("div",{style:{border:"1px solid"},className:"col-4"},r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"bsp",className:(0,E.AK)("col-5",{"p-error":n.bsp})},"BSP (\u20b9)"),r.createElement(F.Qr,{name:"bsp",control:e,rules:{},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({type:"number",id:t.name},t,{className:(0,E.AK)("col-6",{"p-invalid":n.invalid})}))}})),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"plc",className:(0,E.AK)("col-5",{"p-error":n.plc})},"PLC (\u20b9)"),r.createElement(F.Qr,{name:"plc",control:e,rules:{},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({type:"number",id:t.name},t,{className:(0,E.AK)("col-6",{"p-invalid":n.invalid})}))}})),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"fms",className:(0,E.AK)("col-5",{"p-error":n.fms})},"FMS (\u20b9)"),r.createElement(F.Qr,{name:"fms",control:e,rules:{},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({type:"number",id:t.name},t,{className:(0,E.AK)("col-6",{"p-invalid":n.invalid})}))}})),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"edc",className:(0,E.AK)("col-5",{"p-error":n.edc})},"EDC (\u20b9)"),r.createElement(F.Qr,{name:"edc",control:e,rules:{},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({type:"number",id:t.name},t,{className:(0,E.AK)("col-6",{"p-invalid":n.invalid})}))}})))))}}))},Nt=r.createElement(a.AW,{path:":id/floorunit"},r.createElement(a.AW,{path:"block/new",element:r.createElement(ht,null)}),r.createElement(a.AW,{path:"block/:blockId/edit",element:r.createElement(ht,null)}),r.createElement(a.AW,{path:"floor/new",element:r.createElement(St,null)}),r.createElement(a.AW,{path:"floor/:floorId/edit",element:r.createElement(St,null)}),r.createElement(a.AW,{path:"unit/new",element:r.createElement(Pt,null)}),r.createElement(a.AW,{path:"unit/:unitId/edit",element:r.createElement(Pt,null)}),r.createElement(a.AW,{index:!0,element:r.createElement(gt,null)})),Ct=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},wt="/project/payterm/",xt=b.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listPaymentTerm:e.query({query:function(e){var t=e.page,n=e.size;return{url:(0,b.DS)(wt,"?page=".concat(t||1,"&page_size=").concat(n||b.IV))}},providesTags:function(e){var t;return e?[].concat((0,g.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:b.pJ.PROJECT_TYPES,id:t}}))),[{type:b.pJ.PROJECT_TYPES,id:"LIST"}]):[{type:b.pJ.PROJECT_TYPES,id:"LIST"}]}}),addPaymentTerm:e.mutation({query:function(e){return{url:wt,method:"POST",body:e}},invalidatesTags:[{type:b.pJ.PROJECT_TYPES,id:"LIST"}]}),getPaymentTerm:e.query({query:function(e){return"".concat(wt).concat(e)},providesTags:function(e,t,n){return[{type:b.pJ.PROJECT_TYPES,id:n}]}}),updatePaymentTerm:e.mutation({query:function(e){var t=e.key,n=Ct(e,["key"]);return{url:"".concat(wt).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:b.pJ.PROJECT_TYPES,id:null===e||void 0===e?void 0:e.id}]}}),deletePaymentTerm:e.mutation({query:function(e){return{url:"".concat(wt).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:b.pJ.PROJECT_TYPES,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),At=xt.useAddPaymentTermMutation,kt=xt.useDeletePaymentTermMutation,qt=xt.useGetPaymentTermQuery,Lt=xt.useListPaymentTermQuery,It=xt.useUpdatePaymentTermMutation,_t=(xt.useGetErrorProneQuery,xt.endpoints.getPaymentTerm,function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function l(e){try{c(r.next(e))}catch(t){i(t)}}function o(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}c((r=r.apply(e,t||[])).next())}))}),Jt=function(e,t,n){return function(a){return r.createElement(r.Fragment,null,r.createElement(p.rU,{to:"".concat(e,"/").concat(a.key,"/edit"),style:{textDecoration:"none"}},r.createElement(d.z,{icon:"pi pi-eye",className:"p-button-rounded p-button-text"})),r.createElement(d.z,{style:{height:"20px",width:"20px",borderRadius:50},onClick:function(){return t(a.key,n)},icon:"p-button-sm pi pi-times"}))}},Rt=function(e){var t=Lt({}),n=t.data,l=t.isLoading,o=kt(),c=(0,s.Z)(o,2),m=c[0],v=c[1].isLoading,f=(0,r.useRef)(null),y=(0,a.UO)().id,g=parseInt(y||""),b=isNaN(g)||g<=0,h=B(g,{skip:b}),j=h.data;h.isLoading;if(l)return r.createElement("div",{className:"custom-skeleton p-4"},r.createElement("div",null,r.createElement(We.O,{height:"50px",width:"30%",className:"mb-2"}),r.createElement(We.O,{height:"50px",width:"50%",className:"mb-2"})));var S=function(e,t){var n;null===(n=null===f||void 0===f?void 0:f.current)||void 0===n||n.show({severity:"success",summary:e,detail:t,life:3e3})},T=function(e,t){var n;null===(n=null===f||void 0===f?void 0:f.current)||void 0===n||n.show({severity:"error",summary:e,detail:t,life:3e3})},O=Object.assign(Object.assign({},me.iR),{backgroundColor:"gray",color:"white"}),P=Object.assign(Object.assign({},me.jc),{backgroundColor:"gray",color:"white"});return r.createElement(r.Fragment,null,r.createElement(Q.F,{ref:f}),r.createElement(Me.Q,null),r.createElement("div",null,r.createElement("div",{className:"flex"},r.createElement("h3",{className:(0,E.AK)("m-0 my-auto")},"Payment Term"),r.createElement(p.rU,{to:"/projects/".concat(g,"/paymentterm/new"),style:{textDecoration:"none"}},r.createElement(d.z,{label:"Create",className:"ml-3"}))),r.createElement(I.i,null),r.createElement("div",{className:"pl-8"},r.createElement("div",{className:"field"},r.createElement("label",{className:(0,E.AK)("col-2")},"Project ID"),r.createElement(K.o,{value:null===j||void 0===j?void 0:j.id,disabled:!0})),r.createElement("div",{className:"field"},r.createElement("label",{className:(0,E.AK)("col-2")},"Project Name"),r.createElement(K.o,{style:{width:"50%"},value:null===j||void 0===j?void 0:j.name,disabled:!0}))),r.createElement(I.i,null)),r.createElement(i.Gn,{loading:v,style:{height:"calc(100vh - 450px)",maxHeight:250,overflowX:"auto",border:"2px solid",padding:10,margin:10},value:null===n||void 0===n?void 0:n.results},r.createElement(u.s,{headerStyle:P,style:{maxWidth:"100px"},bodyStyle:{textAlign:"center",overflow:"visible"},body:Jt("/projects/".concat(g,"/paymentterm"),(function(e,t){return _t(void 0,void 0,void 0,(0,q.Z)().mark((function n(){return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:(0,Me.V)({message:"Are you sure you want to delete?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){return _t(void 0,void 0,void 0,(0,q.Z)().mark((function n(){var r,a;return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t(e);case 3:a=n.sent,S("Success",a),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),T("Failed",null===(r=null===n.t0||void 0===n.t0?void 0:n.t0.data)||void 0===r?void 0:r.detail);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))},reject:function(){}});case 3:case"end":return n.stop()}}),n)})))}),(function(e){return m(e).unwrap()}))}),r.createElement(u.s,{headerStyle:O,field:"term",header:"Payment Term",sortable:!0,filter:!0,dataType:"numeric",style:{minWidth:"8rem"}}),r.createElement(u.s,{headerStyle:O,field:"termcharges",header:"Charges",sortable:!0,filter:!0,style:{minWidth:"12rem"}})),r.createElement("div",{className:"row flex"},r.createElement("div",{className:"col-6"},"BSP - Basic Selling Price"),r.createElement("div",{className:"col-6"},"FMS - Interest Free maintainnance Security")),r.createElement("div",{className:"row flex"},r.createElement("div",{className:"col-6"},"PLC - Preferential Location Charges"),r.createElement("div",{className:"col-6"},"EDC - External Development Charges")))},Dt=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function l(e){try{c(r.next(e))}catch(t){i(t)}}function o(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}c((r=r.apply(e,t||[])).next())}))},Ft=function(e){var t=(0,r.useRef)(null),n=(0,r.useState)(!1),l=(0,s.Z)(n,2),o=l[0],c=l[1],d=(0,a.s0)(),u=(0,a.UO)(),m=u.blockId,p=u.id,v=parseInt(m||""),f=isNaN(v)||v<=0,y=parseInt(p||""),g="/projects/".concat(y,"/paymentterm"),b=qt(v,{skip:f}),h=b.data,j=b.isLoading,S=B(y,{skip:isNaN(y)||y<=0}),T=S.data,O=(S.isLoading,At()),P=(0,s.Z)(O,2),N=P[0],C=P[1].isLoading,w=It(),x=(0,s.Z)(w,2),A=x[0],k=x[1].isLoading,L=function(e,n){var r;null===(r=null===t||void 0===t?void 0:t.current)||void 0===r||r.show({severity:"success",summary:e,detail:n,life:3e3})},_=function(e,n){var r;null===(r=null===t||void 0===t?void 0:t.current)||void 0===r||r.show({severity:"error",summary:e,detail:n,life:3e3})},J={client_id:"1001",company:"TEST",proj_key:y};return r.createElement(r.Fragment,null,r.createElement(Q.F,{ref:t}),r.createElement(i.Rm,{baseRoute:g,description:"Payment Term",id:v,data:h,isUpdating:C||k||o,isLoading:j,onSubmit:function(e){return Dt(void 0,void 0,void 0,(0,q.Z)().mark((function t(){var n;return(0,q.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!f){t.next=7;break}return t.next=4,N(Object.assign(Object.assign({},e),J)).unwrap();case 4:n=t.sent,t.next=10;break;case 7:return t.next=9,A(Object.assign(Object.assign({},e),J)).unwrap();case 9:n=t.sent;case 10:L("Success",n.detail),c(!0),setTimeout((function(){d(g)}),3e3),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),_("An error occurred","We couldn't save your post, try again!");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))},renderForm:function(e,t,n){var a,l;return r.createElement("div",{className:"pl-8"},r.createElement("div",{className:"field"},r.createElement("label",{className:(0,E.AK)("col-2")},"Project ID"),r.createElement(K.o,{value:null===T||void 0===T?void 0:T.id,disabled:!0})),r.createElement("div",{className:"field"},r.createElement("label",{className:(0,E.AK)("col-2")},"Project Name"),r.createElement(K.o,{style:{width:"50%"},value:null===T||void 0===T?void 0:T.name,disabled:!0})),r.createElement(I.i,null),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"term",className:(0,E.AK)("col-2",{"p-error":n.id})},"Payment Term*"),r.createElement(F.Qr,{name:"term",control:e,rules:{required:"This is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({id:t.name},t,{className:(0,E.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(a=null===n||void 0===n?void 0:n.term)||void 0===a?void 0:a.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"termcharges",className:(0,E.AK)("col-2",{"p-error":n.termcharges})},"Payment Charges*"),r.createElement(F.Qr,{name:"termcharges",control:e,rules:{required:"This is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({type:"number",style:{width:"40%"},id:t.name},t,{className:(0,E.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(l=null===n||void 0===n?void 0:n.termcharges)||void 0===l?void 0:l.message)),r.createElement("div",{style:{position:"absolute",bottom:"0px",width:"100%"}},r.createElement("div",{className:"row flex"},r.createElement("div",{className:"col-6"},"BSP - Basic Selling Price"),r.createElement("div",{className:"col-6"},"FMS - Interest Free maintainnance Security")),r.createElement("div",{className:"row flex"},r.createElement("div",{className:"col-6"},"PLC - Preferential Location Charges"),r.createElement("div",{className:"col-6"},"EDC - External Development Charges"))))}}))},Kt=r.createElement(a.AW,{path:":id/paymentterm"},r.createElement(a.AW,{path:"new",element:r.createElement(Ft,null)}),r.createElement(a.AW,{path:":blockId/edit",element:r.createElement(Ft,null)}),r.createElement(a.AW,{index:!0,element:r.createElement(Rt,null)})),Zt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Ut="/project/history/price/",Qt=b.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listPriceChange:e.query({query:function(e){var t=e.page,n=e.size;return{url:(0,b.DS)(Ut,"?page=".concat(t||1,"&page_size=").concat(n||b.IV))}},providesTags:function(e){var t;return e?[].concat((0,g.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:b.pJ.PRICE_CHANGE,id:t}}))),[{type:b.pJ.PRICE_CHANGE,id:"LIST"}]):[{type:b.pJ.PRICE_CHANGE,id:"LIST"}]}}),addPriceChange:e.mutation({query:function(e){return{url:Ut,method:"POST",body:e}},invalidatesTags:[{type:b.pJ.PRICE_CHANGE,id:"LIST"}]}),getPriceChange:e.query({query:function(e){return"".concat(Ut).concat(e)},providesTags:function(e,t,n){return[{type:b.pJ.PRICE_CHANGE,id:n}]}}),updatePriceChange:e.mutation({query:function(e){var t=e.key,n=Zt(e,["key"]);return{url:"".concat(Ut).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:b.pJ.PRICE_CHANGE,id:null===e||void 0===e?void 0:e.id}]}}),deletePriceChange:e.mutation({query:function(e){return{url:"".concat(Ut).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:b.pJ.PRICE_CHANGE,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),Wt=Qt.useAddPriceChangeMutation,Mt=Qt.useDeletePriceChangeMutation,Gt=Qt.useGetPriceChangeQuery,zt=Qt.useListPriceChangeQuery,Bt=Qt.useUpdatePriceChangeMutation,Ht=(Qt.useGetErrorProneQuery,Qt.endpoints.getPriceChange,function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function l(e){try{c(r.next(e))}catch(t){i(t)}}function o(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}c((r=r.apply(e,t||[])).next())}))}),Vt=function(e,t,n){return function(a){return r.createElement(r.Fragment,null,r.createElement(p.rU,{to:"".concat(e,"/").concat(a.key,"/edit"),style:{textDecoration:"none"}},r.createElement(d.z,{icon:"pi pi-eye",className:"p-button-rounded p-button-text"})),r.createElement(d.z,{style:{height:"20px",width:"20px",borderRadius:50},onClick:function(){return t(a.key,n)},icon:"p-button-sm pi pi-times"}))}},Yt=function(e){var t=zt({}),n=t.data,l=t.isLoading,o=Mt(),c=(0,s.Z)(o,2),m=c[0],v=c[1].isLoading,f=(0,r.useRef)(null),y=(0,a.UO)().id,g=parseInt(y||""),b=isNaN(g)||g<=0,h=B(g,{skip:b}),j=h.data;h.isLoading;if(l)return r.createElement("div",{className:"custom-skeleton p-4"},r.createElement("div",null,r.createElement(We.O,{height:"50px",width:"30%",className:"mb-2"}),r.createElement(We.O,{height:"50px",width:"50%",className:"mb-2"})));var S=function(e,t){var n;null===(n=null===f||void 0===f?void 0:f.current)||void 0===n||n.show({severity:"success",summary:e,detail:t,life:3e3})},T=function(e,t){var n;null===(n=null===f||void 0===f?void 0:f.current)||void 0===n||n.show({severity:"error",summary:e,detail:t,life:3e3})},O=Object.assign(Object.assign({},me.iR),{backgroundColor:"gray",color:"white"}),P=Object.assign(Object.assign({},me.jc),{backgroundColor:"gray",color:"white"});return r.createElement(r.Fragment,null,r.createElement(Q.F,{ref:f}),r.createElement(Me.Q,null),r.createElement("div",null,r.createElement("div",{className:"flex"},r.createElement("h3",{className:(0,E.AK)("m-0 my-auto")},"Price Changes"),r.createElement(p.rU,{to:"/projects/".concat(g,"/pricechange/new"),style:{textDecoration:"none"}},r.createElement(d.z,{label:"Create",className:"ml-3"}))),r.createElement(I.i,null),r.createElement("div",{className:"pl-8"},r.createElement("div",{className:"field"},r.createElement("label",{className:(0,E.AK)("col-2")},"Project ID"),r.createElement(K.o,{value:null===j||void 0===j?void 0:j.id,disabled:!0})),r.createElement("div",{className:"field"},r.createElement("label",{className:(0,E.AK)("col-2")},"Project Name"),r.createElement(K.o,{style:{width:"50%"},value:null===j||void 0===j?void 0:j.name,disabled:!0}))),r.createElement(I.i,null)),r.createElement(i.Gn,{loading:v,style:{height:"calc(100vh - 450px)",maxHeight:250,overflowX:"auto",border:"2px solid",padding:10,margin:10},value:null===n||void 0===n?void 0:n.results},r.createElement(u.s,{headerStyle:P,style:{maxWidth:"100px"},bodyStyle:{textAlign:"center",overflow:"visible"},body:Vt("/projects/".concat(g,"/pricechange"),(function(e,t){return Ht(void 0,void 0,void 0,(0,q.Z)().mark((function n(){return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:(0,Me.V)({message:"Are you sure you want to delete?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){return Ht(void 0,void 0,void 0,(0,q.Z)().mark((function n(){var r,a;return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t(e);case 3:a=n.sent,S("Success",a),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),T("Failed",null===(r=null===n.t0||void 0===n.t0?void 0:n.t0.data)||void 0===r?void 0:r.detail);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))},reject:function(){}});case 3:case"end":return n.stop()}}),n)})))}),(function(e){return m(e).unwrap()}))}),r.createElement(u.s,{headerStyle:O,field:"effdate",header:"Effective Date",sortable:!0,filter:!0,dataType:"numeric",style:{minWidth:"8rem"}}),r.createElement(u.s,{headerStyle:O,field:"effprice",header:"Effective Price",sortable:!0,filter:!0,dataType:"numeric",style:{minWidth:"8rem"}}),r.createElement(u.s,{headerStyle:O,field:"company",header:"User",sortable:!0,filter:!0,style:{minWidth:"12rem"}})))},Xt=n(1002),$t=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function l(e){try{c(r.next(e))}catch(t){i(t)}}function o(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}c((r=r.apply(e,t||[])).next())}))},en=function(e){var t=(0,r.useRef)(null),n=(0,r.useState)(!1),l=(0,s.Z)(n,2),o=l[0],c=l[1],d=(0,a.s0)(),u=(0,a.UO)(),m=u.blockId,p=u.id,v=parseInt(m||""),f=isNaN(v)||v<=0,g=parseInt(p||""),b="/projects/".concat(g,"/pricechange"),h=Gt(v,{skip:f}),j=h.data,S=h.isLoading,T=B(g,{skip:isNaN(g)||g<=0}),O=T.data,P=(T.isLoading,Wt()),N=(0,s.Z)(P,2),C=N[0],w=N[1].isLoading,x=Bt(),A=(0,s.Z)(x,2),k=A[0],L=A[1].isLoading,_=function(e,n){var r;null===(r=null===t||void 0===t?void 0:t.current)||void 0===r||r.show({severity:"success",summary:e,detail:n,life:3e3})},J=function(e,n){var r;null===(r=null===t||void 0===t?void 0:t.current)||void 0===r||r.show({severity:"error",summary:e,detail:n,life:3e3})},R={client_id:"1001",company:"TEST",proj_key:g};return r.createElement(r.Fragment,null,r.createElement(Q.F,{ref:t}),r.createElement(i.Rm,{baseRoute:b,description:"Price Change",id:v,data:j,isUpdating:w||L||o,isLoading:S,onSubmit:function(e){return $t(void 0,void 0,void 0,(0,q.Z)().mark((function t(){var n,r;return(0,q.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Object.assign(Object.assign({},e),{prev_effdate:y(e.prev_effdate,"yyyy-MM-dd"),effdate:y(e.effdate,"yyyy-MM-dd")}),t.prev=1,!f){t.next=8;break}return t.next=5,C(Object.assign(Object.assign({},n),R)).unwrap();case 5:r=t.sent,t.next=11;break;case 8:return t.next=10,k(Object.assign(Object.assign({},n),R)).unwrap();case 10:r=t.sent;case 11:_("Success",r.detail),c(!0),setTimeout((function(){d(b)}),3e3),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),J("An error occurred","We couldn't save your post, try again!");case 19:case"end":return t.stop()}}),t,null,[[1,16]])})))},renderForm:function(e,t,n){var a,l,o,c,s;return r.createElement("div",{className:"pl-8"},r.createElement("div",{className:"field"},r.createElement("label",{className:(0,E.AK)("col-2")},"Project ID"),r.createElement(K.o,{value:null===O||void 0===O?void 0:O.id,disabled:!0})),r.createElement("div",{className:"field"},r.createElement("label",{className:(0,E.AK)("col-2")},"Project Name"),r.createElement(K.o,{style:{width:"50%"},value:null===O||void 0===O?void 0:O.name,disabled:!0})),r.createElement(I.i,null),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"prev_effdate",className:(0,E.AK)("col-3",{"p-error":n.prev_effdate})},"Previous Effective Date*"),r.createElement(F.Qr,{name:"prev_effdate",control:e,rules:{required:" This is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(U.f,Object.assign({id:t.name},t,{value:new Date(null===j||void 0===j?void 0:j.effdate),style:{width:"30%"},dateFormat:"dd-MM-yy",className:(0,E.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(a=null===n||void 0===n?void 0:n.prev_effdate)||void 0===a?void 0:a.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"prev_effprice",className:(0,E.AK)("col-3",{"p-error":n.prev_effprice})},"Previous Effective Price*"),r.createElement(F.Qr,{name:"prev_effprice",control:e,rules:{required:"This is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({type:"number",id:t.name},t,{className:(0,E.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(l=null===n||void 0===n?void 0:n.prev_effprice)||void 0===l?void 0:l.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"effdate",className:(0,E.AK)("col-3",{"p-error":n.effdate})},"Effective Date*"),r.createElement(F.Qr,{name:"effdate",control:e,rules:{required:" This is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(U.f,Object.assign({id:t.name},t,{value:new Date(null===j||void 0===j?void 0:j.effdate),style:{width:"30%"},dateFormat:"dd-MM-yy",className:(0,E.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(o=null===n||void 0===n?void 0:n.effdate)||void 0===o?void 0:o.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"effprice",className:(0,E.AK)("col-3",{"p-error":n.effprice})},"Effective Price*"),r.createElement(F.Qr,{name:"effprice",control:e,rules:{required:"This is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({type:"number",id:t.name},t,{className:(0,E.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(c=null===n||void 0===n?void 0:n.effprice)||void 0===c?void 0:c.message)),r.createElement("div",{className:"field flex"},r.createElement("label",{htmlFor:"notes",className:(0,E.AK)("col-3",{"p-error":n.notes})},"Notes"),r.createElement(F.Qr,{name:"notes",control:e,rules:{},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(Xt.g,Object.assign({id:t.name,style:{width:"50%"}},t,{className:(0,E.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(s=null===n||void 0===n?void 0:n.notes)||void 0===s?void 0:s.message)))}}))},tn=r.createElement(a.AW,{path:":id/pricechange"},r.createElement(a.AW,{path:"new",element:r.createElement(en,null)}),r.createElement(a.AW,{path:":blockId/edit",element:r.createElement(en,null)}),r.createElement(a.AW,{index:!0,element:r.createElement(Yt,null)})),nn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},rn="/project/history/status/",an=b.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listStatusChange:e.query({query:function(e){var t=e.page,n=e.size;return{url:(0,b.DS)(rn,"?page=".concat(t||1,"&page_size=").concat(n||b.IV))}},providesTags:function(e){var t;return e?[].concat((0,g.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:b.pJ.PROJECT_TYPES,id:t}}))),[{type:b.pJ.PROJECT_TYPES,id:"LIST"}]):[{type:b.pJ.PROJECT_TYPES,id:"LIST"}]}}),addStatusChange:e.mutation({query:function(e){return{url:rn,method:"POST",body:e}},invalidatesTags:[{type:b.pJ.PROJECT_TYPES,id:"LIST"}]}),getStatusChange:e.query({query:function(e){return"".concat(rn).concat(e)},providesTags:function(e,t,n){return[{type:b.pJ.PROJECT_TYPES,id:n}]}}),updateStatusChange:e.mutation({query:function(e){var t=e.key,n=nn(e,["key"]);return{url:"".concat(rn).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:b.pJ.PROJECT_TYPES,id:null===e||void 0===e?void 0:e.id}]}}),deleteStatusChange:e.mutation({query:function(e){return{url:"".concat(rn).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:b.pJ.PROJECT_TYPES,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),ln=an.useAddStatusChangeMutation,on=an.useDeleteStatusChangeMutation,cn=an.useGetStatusChangeQuery,sn=an.useListStatusChangeQuery,dn=an.useUpdateStatusChangeMutation,un=(an.useGetErrorProneQuery,an.endpoints.getStatusChange,function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function l(e){try{c(r.next(e))}catch(t){i(t)}}function o(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}c((r=r.apply(e,t||[])).next())}))}),mn=function(e,t,n){return function(a){return r.createElement(r.Fragment,null,r.createElement(p.rU,{to:"".concat(e,"/").concat(a.key,"/edit"),style:{textDecoration:"none"}},r.createElement(d.z,{icon:"pi pi-eye",className:"p-button-rounded p-button-text"})),r.createElement(d.z,{style:{height:"20px",width:"20px",borderRadius:50},onClick:function(){return t(a.key,n)},icon:"p-button-sm pi pi-times"}))}},pn=function(e){var t=sn({}),n=t.data,l=t.isLoading,o=on(),c=(0,s.Z)(o,2),m=c[0],v=c[1].isLoading,f=(0,r.useRef)(null),y=(0,a.UO)().id,g=parseInt(y||""),b=isNaN(g)||g<=0,h=B(g,{skip:b}),j=h.data;h.isLoading;if(l)return r.createElement("div",{className:"custom-skeleton p-4"},r.createElement("div",null,r.createElement(We.O,{height:"50px",width:"30%",className:"mb-2"}),r.createElement(We.O,{height:"50px",width:"50%",className:"mb-2"})));var S=function(e,t){var n;null===(n=null===f||void 0===f?void 0:f.current)||void 0===n||n.show({severity:"success",summary:e,detail:t,life:3e3})},T=function(e,t){var n;null===(n=null===f||void 0===f?void 0:f.current)||void 0===n||n.show({severity:"error",summary:e,detail:t,life:3e3})},O=Object.assign(Object.assign({},me.iR),{backgroundColor:"gray",color:"white"}),P=Object.assign(Object.assign({},me.jc),{backgroundColor:"gray",color:"white"});return r.createElement(r.Fragment,null,r.createElement(Q.F,{ref:f}),r.createElement(Me.Q,null),r.createElement("div",null,r.createElement("div",{className:"flex"},r.createElement("h3",{className:(0,E.AK)("m-0 my-auto")},"Status Changes"),r.createElement(p.rU,{to:"/projects/".concat(g,"/statuschange/new"),style:{textDecoration:"none"}},r.createElement(d.z,{label:"Create",className:"ml-3"}))),r.createElement(I.i,null),r.createElement("div",{className:"pl-8"},r.createElement("div",{className:"field"},r.createElement("label",{className:(0,E.AK)("col-2")},"Project ID"),r.createElement(K.o,{value:null===j||void 0===j?void 0:j.id,disabled:!0})),r.createElement("div",{className:"field"},r.createElement("label",{className:(0,E.AK)("col-2")},"Project Name"),r.createElement(K.o,{style:{width:"50%"},value:null===j||void 0===j?void 0:j.name,disabled:!0}))),r.createElement(I.i,null)),r.createElement(i.Gn,{loading:v,style:{height:"calc(100vh - 450px)",maxHeight:250,overflowX:"auto",border:"2px solid",padding:10,margin:10},value:null===n||void 0===n?void 0:n.results},r.createElement(u.s,{headerStyle:P,style:{maxWidth:"100px"},bodyStyle:{textAlign:"center",overflow:"visible"},body:mn("/projects/".concat(g,"/statuschange"),(function(e,t){return un(void 0,void 0,void 0,(0,q.Z)().mark((function n(){return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:(0,Me.V)({message:"Are you sure you want to delete?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){return un(void 0,void 0,void 0,(0,q.Z)().mark((function n(){var r,a;return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t(e);case 3:a=n.sent,S("Success",a),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),T("Failed",null===(r=null===n.t0||void 0===n.t0?void 0:n.t0.data)||void 0===r?void 0:r.detail);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))},reject:function(){}});case 3:case"end":return n.stop()}}),n)})))}),(function(e){return m(e).unwrap()}))}),r.createElement(u.s,{headerStyle:O,field:"effdate",header:"Effective Date",sortable:!0,filter:!0,dataType:"numeric",style:{minWidth:"8rem"}}),r.createElement(u.s,{headerStyle:O,field:"projstatus_key",header:"Effective Status",sortable:!0,filter:!0,dataType:"numeric",style:{minWidth:"8rem"}}),r.createElement(u.s,{headerStyle:O,field:"company",header:"User",sortable:!0,filter:!0,style:{minWidth:"12rem"}})))},vn=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function l(e){try{c(r.next(e))}catch(t){i(t)}}function o(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}c((r=r.apply(e,t||[])).next())}))},fn=function(e){var t=(0,r.useRef)(null),n=(0,r.useState)(!1),l=(0,s.Z)(n,2),o=l[0],c=l[1],d=(0,a.s0)(),u=(0,a.UO)(),m=u.blockId,p=u.id,v=parseInt(m||""),f=isNaN(v)||v<=0,g=parseInt(p||""),b="/projects/".concat(g,"/statuschange"),h=cn(v,{skip:f}),j=h.data,S=h.isLoading,T=B(g,{skip:isNaN(g)||g<=0}),O=T.data,P=(T.isLoading,X().data),N=ln(),C=(0,s.Z)(N,2),w=C[0],x=C[1].isLoading,A=dn(),k=(0,s.Z)(A,2),L=k[0],_=k[1].isLoading,J=function(e,n){var r;null===(r=null===t||void 0===t?void 0:t.current)||void 0===r||r.show({severity:"success",summary:e,detail:n,life:3e3})},R=function(e,n){var r;null===(r=null===t||void 0===t?void 0:t.current)||void 0===r||r.show({severity:"error",summary:e,detail:n,life:3e3})},D={client_id:"1001",company:"TEST",proj_key:g},W=[{label:"Create",items:P||[]}];return r.createElement(r.Fragment,null,r.createElement(Q.F,{ref:t}),r.createElement(i.Rm,{baseRoute:b,description:"Status Change",id:v,data:j,isUpdating:x||_||o,isLoading:S,onSubmit:function(e){return vn(void 0,void 0,void 0,(0,q.Z)().mark((function t(){var n,r;return(0,q.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Object.assign(Object.assign({},e),{prev_effdate:y(e.prev_effdate,"yyyy-MM-dd"),effdate:y(e.effdate,"yyyy-MM-dd")}),t.prev=1,!f){t.next=8;break}return t.next=5,w(Object.assign(Object.assign({},n),D)).unwrap();case 5:r=t.sent,t.next=11;break;case 8:return t.next=10,L(Object.assign(Object.assign({},n),D)).unwrap();case 10:r=t.sent;case 11:J("Success",r.detail),c(!0),setTimeout((function(){d(b)}),3e3),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),R("An error occurred","We couldn't save your post, try again!");case 19:case"end":return t.stop()}}),t,null,[[1,16]])})))},renderForm:function(e,t,n){var a,l,o,c;return r.createElement("div",{className:"pl-8"},r.createElement("div",{className:"field"},r.createElement("label",{className:(0,E.AK)("col-2")},"Project ID"),r.createElement(K.o,{value:null===O||void 0===O?void 0:O.id,disabled:!0})),r.createElement("div",{className:"field"},r.createElement("label",{className:(0,E.AK)("col-2")},"Project Name"),r.createElement(K.o,{style:{width:"50%"},value:null===O||void 0===O?void 0:O.name,disabled:!0})),r.createElement(I.i,null),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"prev_effdate",className:(0,E.AK)("col-3",{"p-error":n.prev_effdate})},"Previous Effective Date*"),r.createElement(F.Qr,{name:"prev_effdate",control:e,rules:{required:" This is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(U.f,Object.assign({id:t.name},t,{value:new Date(null===j||void 0===j?void 0:j.id),style:{width:"30%"},dateFormat:"dd-MM-yy",className:(0,E.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(a=null===n||void 0===n?void 0:n.prev_effdate)||void 0===a?void 0:a.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"prev_projstatus_key",className:(0,E.AK)("col-3",{"p-error":n.prev_projstatus_key})},"Previous Effective Status*"),r.createElement(F.Qr,{name:"prev_projstatus_key",control:e,rules:{required:"This is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({style:{width:"50%"},id:t.name},t,{className:(0,E.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(l=null===n||void 0===n?void 0:n.prev_projstatus_key)||void 0===l?void 0:l.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"effdate",className:(0,E.AK)("col-3",{"p-error":n.effdate})},"Effective Date*"),r.createElement(F.Qr,{name:"effdate",control:e,rules:{required:" This is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(U.f,Object.assign({id:t.name},t,{value:new Date(null===j||void 0===j?void 0:j.effdate),style:{width:"30%"},dateFormat:"dd-MM-yy",className:(0,E.AK)({"p-invalid":n.invalid})}))}}),(0,i.Hb)(null===(o=null===n||void 0===n?void 0:n.effdate)||void 0===o?void 0:o.message)),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"projstatus_key",className:(0,E.AK)("col-3",{"p-error":n.projstatus_key})},"Effective Status*"),r.createElement(F.Qr,{name:"projstatus_key",control:e,rules:{required:"Status is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(Z.L,Object.assign({id:t.name},t,{style:{width:"50%"},className:(0,E.AK)({"p-invalid":n.invalid}),options:W,optionGroupTemplate:r.createElement("div",{style:{cursor:"pointer",textAlign:"center",backgroundColor:"lightgray"},onClick:function(){return d("/projects/project-status")}},"--Create And Edit--"),optionValue:"key",optionGroupLabel:"label",optionLabel:"descr",optionGroupChildren:"items"}))}}),(0,i.Hb)(null===(c=null===n||void 0===n?void 0:n.projstatus_key)||void 0===c?void 0:c.message)))}}))},yn=r.createElement(a.AW,{path:":id/statuschange"},r.createElement(a.AW,{path:"new",element:r.createElement(fn,null)}),r.createElement(a.AW,{path:":blockId/edit",element:r.createElement(fn,null)}),r.createElement(a.AW,{index:!0,element:r.createElement(pn,null)})),En=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},gn="/project/status/",bn=b.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{getProjectStatuses:e.query({query:function(){return{url:gn}},providesTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[].concat((0,g.Z)(e.map((function(e){var t=e.key;return{type:b.pJ.PROJECT_STATUS,id:t}}))),[{type:b.pJ.PROJECT_STATUS,id:"LIST"}])}}),addProjectStatus:e.mutation({query:function(e){return{url:gn,method:"POST",body:e}},invalidatesTags:[{type:b.pJ.PROJECT_STATUS,id:"LIST"}]}),getProjectStatus:e.query({query:function(e){return"".concat(gn).concat(e)},providesTags:function(e,t,n){return[{type:b.pJ.PROJECT_STATUS,id:n}]}}),updateProjectStatus:e.mutation({query:function(e){var t=e.key,n=En(e,["key"]);return{url:"".concat(gn).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:b.pJ.PROJECT_STATUS,id:null===e||void 0===e?void 0:e.id}]}}),deleteProjectStatus:e.mutation({query:function(e){return{url:"".concat(gn).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:b.pJ.PROJECT_STATUS,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),hn=bn.useAddProjectStatusMutation,jn=bn.useDeleteProjectStatusMutation,Sn=(bn.useGetProjectStatusQuery,bn.useGetProjectStatusesQuery),Tn=bn.useUpdateProjectStatusMutation,On=(bn.useGetErrorProneQuery,bn.endpoints.getProjectStatus,function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function l(e){try{c(r.next(e))}catch(t){i(t)}}function o(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}c((r=r.apply(e,t||[])).next())}))}),Pn={client_id:"1001",company:"TEST"},Nn=function(){var e=(0,a.s0)(),t=(0,F.cI)({}),n=t.control,l=t.formState,o=l.errors,c=(l.isDirty,t.register,t.reset,t.handleSubmit),m=t.setValue,p=Sn(),v=p.data,f=p.isLoading,y=(0,r.useState)(!0),g=(0,s.Z)(y,2),b=g[0],h=g[1],j=(0,r.useState)(null),S=(0,s.Z)(j,2),T=S[0],O=S[1],P=(0,r.useRef)(null),N=hn(),C=(0,s.Z)(N,2),w=C[0],x=C[1].isLoading,A=Tn(),k=(0,s.Z)(A,2),L=k[0],_=k[1].isLoading,J=jn(),R=(0,s.Z)(J,2),D=R[0],Z=(R[1].isLoading,function(e){return D(e).unwrap()}),U=function(e,t){var n;null===(n=null===P||void 0===P?void 0:P.current)||void 0===n||n.show({severity:"success",summary:e,detail:t,life:3e3})},W=function(e,t){var n;null===(n=null===P||void 0===P?void 0:P.current)||void 0===n||n.show({severity:"error",summary:e,detail:t,life:3e3})};return f?r.createElement("div",{className:"custom-skeleton p-4"},r.createElement("div",null,r.createElement(We.O,{height:"50px",width:"30%",className:"mb-2"}),r.createElement(We.O,{height:"50px",width:"50%",className:"mb-2"}))):r.createElement(r.Fragment,null,r.createElement(Q.F,{ref:P}),r.createElement(Me.Q,null),r.createElement(i.Gn,{className:"pl-8",style:{height:"50%",width:"50%"},header:r.createElement("div",{className:"flex"},r.createElement("h3",{className:(0,E.AK)("m-0 my-auto")},"Project Status"),r.createElement(d.z,{loading:x||_,label:"Create",className:"ml-3",onClick:function(){h(!0),m("descr","")}})),rowHover:!0,onRowClick:function(e){h(!1),O(e.data.key),m("descr",e.data.descr)},value:v,stripedRows:!0},r.createElement(u.s,{headerStyle:me.jc,style:{maxWidth:"100px"},bodyStyle:{textAlign:"center"},body:function(e){return function(t){return r.createElement(r.Fragment,null,r.createElement(d.z,{onClick:function(){h(!1),O(t.key),m("descr",t.descr)},icon:"pi pi-eye",className:"p-button-rounded p-button-text"}),r.createElement(d.z,{style:{height:"20px",width:"20px",borderRadius:50},onClick:function(){return e(t.key)},icon:"p-button-sm pi pi-times"}))}}((function(e){return On(void 0,void 0,void 0,(0,q.Z)().mark((function t(){return(0,q.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Z){t.next=2;break}return t.abrupt("return");case 2:(0,Me.V)({message:"Are you sure you want to delete?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){return On(void 0,void 0,void 0,(0,q.Z)().mark((function t(){var n,r;return(0,q.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z(e);case 3:r=t.sent,U("Success",r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),W("Failed",null===(n=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===n?void 0:n.detail);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))},reject:function(){}});case 3:case"end":return t.stop()}}),t)})))}))}),r.createElement(u.s,{headerStyle:me.iR,field:"descr",header:"Project Status",sortable:!0,filter:!0})),r.createElement(I.i,null),r.createElement("div",null,r.createElement("form",{onSubmit:c((function(e){return On(void 0,void 0,void 0,(0,q.Z)().mark((function t(){var n;return(0,q.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!b){t.next=7;break}return t.next=4,w(Object.assign(Object.assign({},e),Pn)).unwrap();case 4:n=t.sent,t.next=11;break;case 7:return console.log(T),t.next=10,L(Object.assign(Object.assign({key:T},e),Pn)).unwrap();case 10:n=t.sent;case 11:U("Success",n.detail),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),W("An error occurred","We couldn't save your request, try again!");case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))}))},r.createElement("div",{className:"flex"},r.createElement("div",{className:"col-1"}),r.createElement("div",{className:"col-7"},function(e,t,n){return r.createElement("div",{className:"pl-8"},r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"descr",className:(0,E.AK)("col-4",{"p-error":n.descr})},"Project Status*"),r.createElement(F.Qr,{name:"descr",control:e,rules:{required:"Project Status is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({disabled:x||_,name:t.name},t,{className:(0,E.AK)({"p-invalid":n.invalid})}))}})))}(n,0,o)),r.createElement("div",{className:"my-auto"},r.createElement(d.z,{loading:x||_,label:"Save",type:"submit",style:{paddingRight:20},className:"p-button-warning mr-3"}),r.createElement(d.z,{loading:x||_,label:"Discard",className:"p-button-plain",onClick:function(){return e("/projects/project")}}))))))},Cn=r.createElement(a.AW,{path:"project-status"},r.createElement(a.AW,{index:!0,element:r.createElement(Nn,null)})),wn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},xn="/project/availability/",An=b.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listAvailability:e.query({query:function(e){var t=e.projectId,n=e.page,r=e.status;return{url:(0,b.DS)(xn,"".concat(t,"?page=").concat(n||1,"&status=").concat(r||""))}},providesTags:function(e){var t;return e?[].concat((0,g.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:b.pJ.AVAILABILITY,id:t}}))),[{type:b.pJ.AVAILABILITY,id:"LIST"}]):[{type:b.pJ.AVAILABILITY,id:"LIST"}]}}),addAvailability:e.mutation({query:function(e){return{url:xn,method:"POST",body:e}},invalidatesTags:[{type:b.pJ.AVAILABILITY,id:"LIST"}]}),getAvailability:e.query({query:function(e){return"".concat(xn).concat(e)},providesTags:function(e,t,n){return[{type:b.pJ.AVAILABILITY,id:n}]}}),updateAvailability:e.mutation({query:function(e){var t=e.key,n=wn(e,["key"]);return{url:"".concat(xn).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:b.pJ.AVAILABILITY,id:null===e||void 0===e?void 0:e.id}]}}),deleteAvailability:e.mutation({query:function(e){return{url:"".concat(xn).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:b.pJ.AVAILABILITY,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),kn=(An.useAddAvailabilityMutation,An.useDeleteAvailabilityMutation,An.useGetAvailabilityQuery,An.useListAvailabilityQuery),qn=(An.useUpdateAvailabilityMutation,An.useGetErrorProneQuery,An.endpoints.getAvailability,[{label:"All",value:""},{label:"Available",value:"A"},{label:"Booked",value:"B"},{label:"Sold",value:"S"}]),Ln=function(e){var t=(0,r.useRef)(null),n=(0,a.UO)().id,l=parseInt(n||""),o=isNaN(l)||l<=0,c=(0,r.useState)(""),d=(0,s.Z)(c,2),m=d[0],p=d[1],v=B(l,{skip:o}),f=v.data,y=(v.isLoading,kn({projectId:null===f||void 0===f?void 0:f.key,status:m})),g=y.data;if(y.isLoading)return r.createElement("div",{className:"custom-skeleton p-4"},r.createElement("div",null,r.createElement(We.O,{height:"50px",width:"30%",className:"mb-2"}),r.createElement(We.O,{height:"50px",width:"50%",className:"mb-2"})));var b=Object.assign(Object.assign({},me.iR),{backgroundColor:"gray",color:"white"});return r.createElement(r.Fragment,null,r.createElement(Q.F,{ref:t}),r.createElement("div",null,r.createElement("div",{className:"flex"},r.createElement("h3",{className:(0,E.AK)("m-0 my-auto")},"Availability")),r.createElement(I.i,null),r.createElement("div",{className:"pl-8"},r.createElement("div",{className:"flex"},r.createElement("div",{className:"field col-7"},r.createElement("label",{className:(0,E.AK)("col-3")},"Project ID"),r.createElement(K.o,{value:null===f||void 0===f?void 0:f.id,disabled:!0}))),r.createElement("div",{className:"flex"},r.createElement("div",{className:"field col-7"},r.createElement("label",{className:(0,E.AK)("col-3")},"Project Name"),r.createElement(K.o,{style:{width:"70%"},value:null===f||void 0===f?void 0:f.name,disabled:!0})),r.createElement("div",{className:"field col-5"},r.createElement("label",{className:(0,E.AK)("col-3")},"Display"),r.createElement(Z.L,{style:{width:"60%"},options:qn,optionLabel:"label",optionValue:"value",value:m,onChange:function(e){p(e.target.value)}})))),r.createElement(I.i,null)),r.createElement(i.Gn,{style:{height:"calc(100vh - 450px)",maxHeight:250,overflowX:"auto",border:"2px solid",padding:10,margin:10},value:null===g||void 0===g?void 0:g.results},r.createElement(u.s,{headerStyle:b,field:"block",header:"Block",style:{minWidth:"8rem"}}),r.createElement(u.s,{headerStyle:b,field:"floor",header:"Floor",style:{minWidth:"8rem"}}),r.createElement(u.s,{headerStyle:b,field:"Unit",header:"Unit",style:{minWidth:"8rem"}}),r.createElement(u.s,{headerStyle:b,field:"status",header:"Status",style:{minWidth:"8rem",padding:0},body:function(e){var t={text:"",background:""};switch(e.status){case"A":default:t={text:"Available",background:"lightgreen"};break;case"S":t={text:"Sold",background:"orange"};break;case"B":t={text:"Booked",background:"skyblue"}}return r.createElement(r.Fragment,null,r.createElement("div",{style:{backgroundColor:t.background,width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},t.text))}}),r.createElement(u.s,{headerStyle:b,field:"sale_area",header:"Sales Area",style:{minWidth:"8rem"}}),r.createElement(u.s,{headerStyle:b,field:"usd_area",header:"UDS Area",style:{minWidth:"8rem"}}),r.createElement(u.s,{headerStyle:b,field:"carpet_area",header:"Carpet Area",style:{minWidth:"8rem"}})))},In=r.createElement(a.AW,{path:":id/availability"},r.createElement(a.AW,{index:!0,element:r.createElement(Ln,null)})),_n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Jn="/geo/city/",Rn=b.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{getCities:e.query({query:function(){return{url:"data/products.json"}},providesTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[].concat((0,g.Z)(e.map((function(e){var t=e.key;return{type:b.pJ.CITIES,id:t}}))),[{type:b.pJ.CITIES,id:"LIST"}])}}),addCity:e.mutation({query:function(e){return{url:Jn,method:"POST",body:e}},invalidatesTags:[{type:b.pJ.CITIES,id:"LIST"}]}),getCity:e.query({query:function(e){return"".concat(Jn).concat(e)},providesTags:function(e,t,n){return[{type:b.pJ.CITIES,id:n}]}}),updateCity:e.mutation({query:function(e){var t=e.key,n=_n(e,["key"]);return{url:"".concat(Jn).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:b.pJ.CITIES,id:null===e||void 0===e?void 0:e.id}]}}),deleteCity:e.mutation({query:function(e){return{url:"".concat(Jn).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:b.pJ.CITIES,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),Dn=Rn.useAddCityMutation,Fn=Rn.useDeleteCityMutation,Kn=(Rn.useGetCityQuery,Rn.useGetCitiesQuery),Zn=Rn.useUpdateCityMutation,Un=(Rn.useGetErrorProneQuery,Rn.endpoints.getCity,function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function l(e){try{c(r.next(e))}catch(t){i(t)}}function o(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}c((r=r.apply(e,t||[])).next())}))}),Qn={client_id:"1001",company:"TEST"},Wn=function(){var e=(0,a.s0)(),t=(0,F.cI)({}),n=t.control,l=t.formState,o=l.errors,c=(l.isDirty,t.register,t.reset,t.handleSubmit),m=t.setValue,p=Kn(),v=p.data,f=p.isLoading,y=Y(),g=y.data,b=y.isLoading,h=(0,r.useState)(!0),j=(0,s.Z)(h,2),S=j[0],T=j[1],O=(0,r.useState)(null),P=(0,s.Z)(O,2),N=P[0],C=P[1],w=(0,r.useRef)(null),x=Dn(),A=(0,s.Z)(x,2),k=A[0],L=A[1].isLoading,_=Zn(),J=(0,s.Z)(_,2),R=J[0],D=J[1].isLoading,U=Fn(),W=(0,s.Z)(U,2),M=W[0],G=(W[1].isLoading,function(e){return M(e).unwrap()}),z=function(e,t){var n;null===(n=null===w||void 0===w?void 0:w.current)||void 0===n||n.show({severity:"success",summary:e,detail:t,life:3e3})},B=function(e,t){var n;null===(n=null===w||void 0===w?void 0:w.current)||void 0===n||n.show({severity:"error",summary:e,detail:t,life:3e3})};return f||b?r.createElement("div",{className:"custom-skeleton p-4"},r.createElement("div",null,r.createElement(We.O,{height:"50px",width:"30%",className:"mb-2"}),r.createElement(We.O,{height:"50px",width:"50%",className:"mb-2"}))):r.createElement(r.Fragment,null,r.createElement(Q.F,{ref:w}),r.createElement(Me.Q,null),r.createElement(i.Gn,{className:"pl-8",style:{height:"50%",width:"70%"},header:r.createElement("div",{className:"flex"},r.createElement("h3",{className:(0,E.AK)("m-0 my-auto")},"City"),r.createElement(d.z,{loading:L||D,label:"Create",className:"ml-3",onClick:function(){T(!0),m("name",""),m("state_key","")}})),rowHover:!0,onRowClick:function(e){T(!1),C(e.data.key),m("name",e.data.name),m("state_key",e.data.state_key)},value:v,stripedRows:!0},r.createElement(u.s,{headerStyle:me.jc,style:{maxWidth:"100px"},bodyStyle:{textAlign:"center",overflow:"visible"},body:function(e){return function(t){return r.createElement(r.Fragment,null,r.createElement(d.z,{onClick:function(){console.log(t),T(!1),C(t.key),m("name",t.name),m("state_key",t.state_key)},icon:"pi pi-eye",className:"p-button-rounded p-button-text"}),r.createElement(d.z,{style:{height:"20px",width:"20px",borderRadius:50},onClick:function(){return e(t.key)},icon:"p-button-sm pi pi-times"}))}}((function(e){return Un(void 0,void 0,void 0,(0,q.Z)().mark((function t(){return(0,q.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(G){t.next=2;break}return t.abrupt("return");case 2:(0,Me.V)({message:"Are you sure you want to delete?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){return Un(void 0,void 0,void 0,(0,q.Z)().mark((function t(){var n,r;return(0,q.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G(e);case 3:r=t.sent,z("Success",r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),B("Failed",null===(n=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===n?void 0:n.detail);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))},reject:function(){}});case 3:case"end":return t.stop()}}),t)})))}))}),r.createElement(u.s,{headerStyle:me.iR,field:"name",header:"City Name",sortable:!0,filter:!0}),r.createElement(u.s,{headerStyle:me.iR,field:"state.name",header:"State",sortable:!0,filter:!0})),r.createElement(I.i,null),r.createElement("div",null,r.createElement("form",{onSubmit:c((function(e){return Un(void 0,void 0,void 0,(0,q.Z)().mark((function t(){var n;return(0,q.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!S){t.next=7;break}return t.next=4,k(Object.assign(Object.assign({},e),Qn)).unwrap();case 4:n=t.sent,t.next=11;break;case 7:return console.log(N),t.next=10,R(Object.assign(Object.assign({key:N},e),Qn)).unwrap();case 10:n=t.sent;case 11:z("Success",n.detail),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),B("An error occurred","We couldn't save your request, try again!");case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))}))},r.createElement("div",{className:"flex"},r.createElement("div",{className:"col-1"}),r.createElement("div",{className:"col-7"},function(e,t,n){return r.createElement("div",{className:"pl-8"},r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"name",className:(0,E.AK)("col-4",{"p-error":n.name})},"City Name*"),r.createElement(F.Qr,{name:"name",control:e,rules:{required:"City Name is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(K.o,Object.assign({disabled:L||D,name:t.name},t,{className:(0,E.AK)({"p-invalid":n.invalid})}))}})),r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"state_key",className:(0,E.AK)("col-4",{"p-error":n.state_key})},"State*"),r.createElement(F.Qr,{name:"state_key",control:e,rules:{required:"State is required."},render:function(e){var t=e.field,n=e.fieldState;return r.createElement(Z.L,Object.assign({id:t.name},t,{disabled:L||D,style:{width:"50%"},className:(0,E.AK)({"p-invalid":n.invalid}),optionLabel:"name",optionValue:"key",filter:!0,filterBy:"name",options:g}))}})))}(n,0,o)),r.createElement("div",{className:"my-auto"},r.createElement(d.z,{loading:L||D,label:"Save",type:"submit",style:{paddingRight:20},className:"p-button-warning mr-3"}),r.createElement(d.z,{loading:L||D,label:"Discard",className:"p-button-plain",onClick:function(){return e("/projects/project")}}))))))},Mn=r.createElement(a.AW,{path:"city"},r.createElement(a.AW,{index:!0,element:r.createElement(Wn,null)})),Gn=function(){return r.createElement(a.Z5,null,r.createElement(a.AW,{path:"/",element:r.createElement(i.SV,{navItems:c})},r.createElement(a.AW,{index:!0,element:r.createElement(a.Fg,{to:"project",replace:!0})}),ue,Le,De,Qe,Nt,Kt,Mn,tn,yn,Cn,In,r.createElement(a.AW,{path:":project/comming-soon",element:r.createElement(i.hg,null)}),r.createElement(a.AW,{path:"*",element:r.createElement(i.EN,{relative:!0})})))}}}]);
//# sourceMappingURL=913.a3b8a676.chunk.js.map