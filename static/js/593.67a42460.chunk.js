"use strict";(self.webpackChunkbuild_iq_app=self.webpackChunkbuild_iq_app||[]).push([[593],{3069:function(e,t,n){n.r(t),n.d(t,{default:function(){return Nt}});var r=n(969),a=n(734),i=n(910),o="inventory",c=function(e,t){return(0,i.E7)("/".concat(o,"/").concat(e)+(t?"/comming-soon":""))},u=[{items:[{label:"Item",icon:"pi ml-3",template:c("items")},{label:"UOM",icon:"pi ml-3",template:c("uoms")},{label:"Item Type",icon:"pi ml-3",template:c("itemtypes")},{label:"Item Sub Type",icon:"pi ml-3",template:c("itemsubtypes")},{label:"Manufacturer",icon:"pi ml-3",template:c("manufacturers")}]}],l=n(2723),s=n(6234),d=n(7765),p=n(8224),m=n(6770),f=n(8103),y=n(8079),v=n(1495),g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},E="/inventory/item/",h=v.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listItems:e.query({query:function(e){var t=e.page,n=e.size,r=e.filter;return{url:(0,v.DS)(E,"?page=".concat(t||1,"&page_size=").concat(n||v.IV,"&filter=").concat(r))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:v.pJ.INVENTORY_ITEM,id:t}}))),[{type:v.pJ.INVENTORY_ITEM,id:"LIST"}]):[{type:v.pJ.INVENTORY_ITEM,id:"LIST"}]}}),addItems:e.mutation({query:function(e){return{url:E,method:"POST",body:e}},invalidatesTags:[{type:v.pJ.INVENTORY_ITEM,id:"LIST"}]}),getItems:e.query({query:function(e){return"".concat(E).concat(e)},providesTags:function(e,t,n){return[{type:v.pJ.INVENTORY_ITEM,id:n}]}}),updateItems:e.mutation({query:function(e){var t=e.key,n=g(e,["key"]);return{url:"".concat(E).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:v.pJ.INVENTORY_ITEM,id:null===e||void 0===e?void 0:e.id}]}}),deleteItems:e.mutation({query:function(e){return{url:"".concat(E).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:v.pJ.INVENTORY_ITEM,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),T=h.useAddItemsMutation,b=h.useDeleteItemsMutation,S=h.useGetItemsQuery,I=h.useListItemsQuery,O=h.useUpdateItemsMutation,P=(h.useGetErrorProneQuery,h.endpoints.getItems,"items"),w="Item",N=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},L="/inventory/item_subtype/",x=v.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listItemSubTypes:e.query({query:function(e){var t=e.page,n=e.size;return{url:(0,v.DS)(L,"?page=".concat(t||1,"&page_size=").concat(n||v.IV))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:v.pJ.INVENTORY_ITEM_SUB_TYPE,id:t}}))),[{type:v.pJ.INVENTORY_ITEM_SUB_TYPE,id:"LIST"}]):[{type:v.pJ.INVENTORY_ITEM_SUB_TYPE,id:"LIST"}]}}),getAll:e.mutation({query:function(e){var t=e.page,n=e.size;return{url:(0,v.DS)(L,"?page=".concat(t||1,"&page_size=").concat(n||v.IV))}},invalidatesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:v.pJ.INVENTORY_ITEM_SUB_TYPE,id:t}}))),[{type:v.pJ.INVENTORY_ITEM_SUB_TYPE,id:"LIST"}]):[{type:v.pJ.INVENTORY_ITEM_SUB_TYPE,id:"LIST"}]}}),addItemSubTypes:e.mutation({query:function(e){return{url:L,method:"POST",body:e}},invalidatesTags:[{type:v.pJ.INVENTORY_ITEM_SUB_TYPE,id:"LIST"}]}),getItemSubTypes:e.query({query:function(e){return"".concat(L).concat(e)},providesTags:function(e,t,n){return[{type:v.pJ.INVENTORY_ITEM_SUB_TYPE,id:n}]}}),updateItemSubTypes:e.mutation({query:function(e){var t=e.key,n=N(e,["key"]);return{url:"".concat(L).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:v.pJ.INVENTORY_ITEM_SUB_TYPE,id:null===e||void 0===e?void 0:e.id}]}}),deleteItemSubTypes:e.mutation({query:function(e){return{url:"".concat(L).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:v.pJ.INVENTORY_ITEM_SUB_TYPE,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),_=x.useAddItemSubTypesMutation,M=x.useDeleteItemSubTypesMutation,k=x.useGetItemSubTypesQuery,U=x.useListItemSubTypesQuery,R=x.useUpdateItemSubTypesMutation,q=(x.useGetErrorProneQuery,x.useGetAllMutation,x.endpoints.getItemSubTypes,n(4576)),Z=(0,r.forwardRef)((function(e,t){var n=e.data,a=e.isLoading,o=e.disableTable,c=void 0!==o&&o,u=e.onChange,l=void 0===u?function(){}:u,d=(0,r.useState)([]),p=(0,s.Z)(d,2),f=p[0],y=p[1],v=(0,r.useRef)(f);(0,r.useImperativeHandle)(t,(function(){return{getItems:function(){return f}}})),(0,r.useEffect)((function(){y(n),v.current=n}),[n]);return r.createElement(i.PS,{baseRoute:"/purchase/".concat(P),description:w,isLoading:a,data:f,newTable:!0,tableLayoutClass:"h-full",allowFilters:!1,hideActionColumn:c,actionBodyTemplate:function(e){return r.createElement(m.z,{style:{height:"35px",width:"20px",marginLeft:20},type:"button",onClick:function(){(0,q.V)({message:"Are you sure you want to Delete Item?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){return function(e){var t=v.current.filter((function(t){return t!==e}));v.current=t,y(t)}(e)},reject:function(){}})},className:"p-button-rounded p-button-text",icon:"pi pi-trash"})},gridProps:{allowAdd:!0,disableAdd:!function(e){if(0===e.length)return!0;var t=e[e.length-1];return(null===t||void 0===t?void 0:t.name)&&(null===t||void 0===t?void 0:t.value)}(f),OnRowsChanged:function(e){var t=e;y(t),v.current=t,l(!0)}}},r.createElement(i._P,{field:"name",header:"Specification Parameter",editorType:"text"}),r.createElement(i._P,{field:"value",header:"Value",editorType:"text"}))})),W=n(9459),A=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function c(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}u((r=r.apply(e,t||[])).next())}))},V=function(e){var t=(0,i.pm)(),n=t.showSuccess,c=t.showError,u=(0,r.useState)(!1),y=(0,s.Z)(u,2),g=y[0],E=y[1],h=(0,r.useState)(!1),b=(0,s.Z)(h,2),I=b[0],N=b[1],L=(0,r.useState)(""),x=(0,s.Z)(L,2),_=x[0],M=x[1],U=(0,a.s0)(),R=(0,a.UO)().id,q=parseInt(R||""),V=isNaN(q)||q<=0,j=(0,r.useRef)(),Y=(0,r.useState)(!1),C=(0,s.Z)(Y,2),J=C[0],G=C[1],D=(0,v.ft)(),F=S(q,{skip:V}),z=F.data,B=F.isLoading,Q=(0,r.useState)(null===z||void 0===z?void 0:z.specification),H=(0,s.Z)(Q,2),$=H[0],K=H[1],X=T(),ee=(0,s.Z)(X,2),te=ee[0],ne=ee[1].isLoading,re=O(),ae=(0,s.Z)(re,2),ie=ae[0],oe=ae[1].isLoading,ce=(0,r.useState)(null),ue=(0,s.Z)(ce,2),le=ue[0],se=ue[1],de=(0,r.useState)(null),pe=(0,s.Z)(de,2),me=pe[0],fe=pe[1],ye=(0,v.DU)(),ve=ye.data,ge=ye.isFetching,Ee=(0,v.yt)(le,{skip:!le}),he=Ee.data,Te=Ee.isFetching,be=(0,v.U$)(le,{skip:!le}).data,Se=k(me,{skip:!me}).data,Ie=(0,v._1)(le,{skip:!le}),Oe=Ie.data,Pe=Ie.isFetching,we=(0,r.useState)([]),Ne=(0,s.Z)(we,2),Le=Ne[0],xe=Ne[1];(0,r.useEffect)((function(){z&&(z.specification&&K(z.specification),se(z.itemtyp_key),M(z.descr))}),[z]),(0,r.useEffect)((function(){var e;if(be&&z){var t=null===(e=null===z||void 0===z?void 0:z.itemuoms)||void 0===e?void 0:e.split("|").map((function(e){return parseInt(e)})),n=null===be||void 0===be?void 0:be.filter((function(e){return t.includes(e.key)}));xe(n)}}),[be]),(0,r.useEffect)((function(){var e,t;if(Se){var n=null===(e=null===Se||void 0===Se?void 0:Se.spec_param)||void 0===e?void 0:e.split("|").map((function(e){return{name:e}}));K(n);var r=null===(t=null===Se||void 0===Se?void 0:Se.uom_keys)||void 0===t?void 0:t.split("|").map((function(e){return parseInt(e)})),a=null===be||void 0===be?void 0:be.filter((function(e){return r.includes(e.key)}));xe(a)}}),[Se]);return r.createElement(r.Fragment,null,r.createElement(i.Rm,{baseRoute:"/".concat(o,"/").concat(P),description:w,id:q,data:z,isUpdating:ne||oe||g,isLoading:B,onSubmit:function(e){return A(void 0,void 0,void 0,(0,l.Z)().mark((function t(){var r,a,i,u,s;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,u=null===(r=j.current)||void 0===r?void 0:r.getItems(),s=Object.assign(Object.assign(Object.assign(Object.assign({},e),{specification:u}),D),{stocktype:"I",itemuoms:null===Le||void 0===Le?void 0:Le.map((function(e){return e.key})).join("|")}),!V){t.next=9;break}return t.next=6,te(s).unwrap();case 6:i=t.sent,t.next=12;break;case 9:return t.next=11,ie(s).unwrap();case 11:i=t.sent;case 12:n("Success",i.detail),E(!0),setTimeout((function(){U("/".concat(o,"/").concat(P))}),v.P7),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),c("An error occurred",(null===(a=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===a?void 0:a.detail)||"We couldn't save your post, try again!");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))},renderForm:function(e,t,n,a,o){var u;return r.createElement("div",{className:"pl-8 pt-4 pb-3 grid p-fluid"},r.createElement(i.Wi,{label:"Item Type",name:"itemtyp_key",className:"col-12",control:e,errors:n,isLoading:ge,required:!0,leftSpan:2,rightSpan:3,useExplicit:!0,onChange:function(e){xe([]),se(e.value),fe(""),o("subtype",""),o("gst","")},formItem:{component:p.L,componentProps:{optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:ve}}}),r.createElement(i.Wi,{label:"Item Sub Type",name:"subtype",className:"col-12",control:e,errors:n,isLoading:Te,required:!0,leftSpan:2,rightSpan:3,useExplicit:!0,onChange:function(e){fe(e.value);var t=null===he||void 0===he?void 0:he.filter((function(t){return t.key===e.value}))[0];o("gst",(null===t||void 0===t?void 0:t.gst)||"")},formItem:{component:p.L,componentProps:{optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:he}}}),r.createElement(i.Wi,{label:"GST (%)",name:"gst",className:"col-12",control:e,errors:n,required:!0,leftSpan:2,rightSpan:3,formItem:{component:d.o,componentProps:{type:"number",min:0,max:100}}}),r.createElement(i.Wi,{label:"Item Description",name:"descr",className:"col-12 md:col-7",control:e,errors:n,required:!0,leftSpan:4,rightSpan:7,formItem:{component:d.o,componentProps:{maxLength:100,id:"item-descr",onFocus:function(e){N(!0)},onBlur:function(e){var t;M(null===(t=null===e||void 0===e?void 0:e.target)||void 0===t?void 0:t.defaultValue),N(!1)},style:{marginLeft:"-24px"}}}}),!!_&&!I&&r.createElement(W.u,{mouseTrack:!0,mouseTrackLeft:10,target:"#item-descr",position:"top",content:_,className:"my-tooltip"}),r.createElement(m.z,{style:{width:"35%",marginBottom:25,marginTop:8},className:"col-12 md:col-6",label:"Generate Item Description",onClick:function(e){var t,n;e.preventDefault();var r=null===(t=j.current)||void 0===t?void 0:t.getItems(),i=null===r||void 0===r?void 0:r.map((function(e){return"[".concat(e.value||0," ").concat(e.name||"","]")}));i=null===i||void 0===i?void 0:i.join(" ");var u=a(),l=null===(n=null===u||void 0===u?void 0:u.descr)||void 0===n?void 0:n.split("[")[0].trim(),s="",d=(null===u||void 0===u?void 0:u.model_number)?"[".concat((null===u||void 0===u?void 0:u.model_number)||"","]"):"",p=null===Oe||void 0===Oe?void 0:Oe.filter((function(e){return e.key===u.mfr_key}));(null===p||void 0===p?void 0:p.length)&&(s="[".concat(p[0].name,"]"));var m="".concat(l||""," ").concat(i," ").concat(s," ").concat(d);(m=m.trim())?(o("descr",m),M(m)):c("Enter Some Data","Nothing to Generate")}}),r.createElement(i.Wi,{label:"Model Number",name:"model_number",className:"col-12",control:e,errors:n,leftSpan:2,rightSpan:3,formItem:{component:d.o,componentProps:{maxLength:100}}}),r.createElement(i.Wi,{label:"Manufacturer",name:"mfr_key",className:"col-12",control:e,errors:n,isLoading:Pe,leftSpan:2,rightSpan:3,formItem:{component:p.L,componentProps:{optionLabel:"name",optionValue:"key",filter:!0,filterBy:"name",options:Oe}}}),r.createElement("div",{className:"flex",style:{width:"100%"}},r.createElement("div",{style:{width:"40%",marginRight:50}},r.createElement(Z,{data:$||(null===(u=j.current)||void 0===u?void 0:u.getItems())||[],isLoading:B,ref:j,onChange:function(e){return!J&&G(e)}})),r.createElement("div",{style:{width:"50%"}},r.createElement(f.N,{value:Le,onChange:function(e){return e.stopPropagation()},options:be,optionLabel:"descr",display:"chip",placeholder:"Select UOM",className:"w-full md:w-20rem"}))))}}))},j=function(e){var t=(0,r.useState)(1),n=(0,s.Z)(t,2),a=n[0],c=n[1],u=(0,r.useState)(v.IV),l=(0,s.Z)(u,2),d=l[0],p=l[1],m=(0,r.useState)({}),f=(0,s.Z)(m,2),y=f[0],g=f[1],E=I({page:a,size:d,filter:JSON.stringify(y)}),h=E.data,T=E.isFetching,S=b(),O=(0,s.Z)(S,2),N=O[0],L=O[1].isLoading;return r.createElement(i.PS,{pagination:{pageSize:d,loading:T,currentPage:a,total:null===h||void 0===h?void 0:h.count,onChange:function(e,t){c(e),p(t)}},filterOptions:{onChange:function(e){return g(e)}},baseRoute:"/".concat(o,"/").concat(P),description:w,isLoading:T||L,data:null===h||void 0===h?void 0:h.results,deleteAction:function(e){return N(e).unwrap()},newTable:!0,showHeader:!0},r.createElement(i._P,{field:"id",header:"Item Code",filteringType:"number"}),r.createElement(i._P,{field:"descr",header:"Item Description",filteringType:"text"}),r.createElement(i._P,{field:"itemtyp.descr",header:"Item Type",filteringType:"text"}))},Y=r.createElement(a.AW,{path:"items"},r.createElement(a.AW,{path:"new",element:r.createElement(V,null)}),r.createElement(a.AW,{path:":id/edit",element:r.createElement(V,null)}),r.createElement(a.AW,{index:!0,element:r.createElement(j,null)})),C=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},J="/inventory/warehouse/",G=v.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listWarehouses:e.query({query:function(e){var t=e.page,n=e.size;return{url:(0,v.DS)(J,"?page=".concat(t||1,"&page_size=").concat(n||v.IV))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:v.pJ.WAREHOUSE,id:t}}))),[{type:v.pJ.WAREHOUSE,id:"LIST"}]):[{type:v.pJ.WAREHOUSE,id:"LIST"}]}}),addWarehouses:e.mutation({query:function(e){return{url:J,method:"POST",body:e}},invalidatesTags:[{type:v.pJ.WAREHOUSE,id:"LIST"}]}),getWarehouses:e.query({query:function(e){return"".concat(J).concat(e)},providesTags:function(e,t,n){return[{type:v.pJ.WAREHOUSE,id:n}]}}),updateWarehouses:e.mutation({query:function(e){var t=e.key,n=C(e,["key"]);return{url:"".concat(J).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:v.pJ.WAREHOUSE,id:null===e||void 0===e?void 0:e.id}]}}),deleteWarehouses:e.mutation({query:function(e){return{url:"".concat(J).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:v.pJ.WAREHOUSE,id:null===e||void 0===e?void 0:e.id}]}}),getStates:e.query({query:function(){return{url:"/geo/state/"}},providesTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[].concat((0,y.Z)(e.map((function(e){var t=e.state_key;return{type:v.pJ.STATES,id:t}}))),[{type:v.pJ.STATES,id:"LIST"}])}}),getCities:e.query({query:function(e){return{url:"/geo/city/?state=".concat(e)}},providesTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[].concat((0,y.Z)(e.map((function(e){var t=e.city_key;return{type:v.pJ.CITIES,id:t}}))),[{type:v.pJ.CITIES,id:"LIST"}])}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),D=G.useAddWarehousesMutation,F=G.useDeleteWarehousesMutation,z=G.useGetWarehousesQuery,B=G.useListWarehousesQuery,Q=G.useUpdateWarehousesMutation,H=(G.useGetErrorProneQuery,G.useGetCitiesQuery),$=G.useGetStatesQuery,K=(G.endpoints.getWarehouses,"warehouses"),X="Warehouse",ee=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function c(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}u((r=r.apply(e,t||[])).next())}))},te=function(e){var t=(0,i.pm)(),n=t.showSuccess,c=t.showError,u=(0,r.useState)(!1),f=(0,s.Z)(u,2),y=f[0],g=f[1],E=(0,a.s0)(),h=(0,a.UO)().id,T=parseInt(h||""),b=isNaN(T)||T<=0,S=(0,r.useState)(""),I=(0,s.Z)(S,2),O=I[0],P=I[1],w=(0,v.ft)(),N=$(),L=N.data,x=N.isFetching,_=H(O),M=_.data,k=_.isFetching,U=z(T,{skip:b}),R=U.data,q=U.isLoading,Z=D(),W=(0,s.Z)(Z,2),A=W[0],V=W[1].isLoading,j=Q(),Y=(0,s.Z)(j,2),C=Y[0],J=Y[1].isLoading;return r.createElement(r.Fragment,null,r.createElement(i.Rm,{baseRoute:"/".concat(o,"/").concat(K),description:X,id:T,data:R,isUpdating:V||J||y,isLoading:q,onSubmit:function(e){return ee(void 0,void 0,void 0,(0,l.Z)().mark((function t(){var r,a;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!b){t.next=7;break}return t.next=4,A(Object.assign(Object.assign({},e),w)).unwrap();case 4:a=t.sent,t.next=10;break;case 7:return t.next=9,C(Object.assign(Object.assign({},e),w)).unwrap();case 9:a=t.sent;case 10:n("Success",a.detail),g(!0),setTimeout((function(){E("/".concat(o,"/").concat(K))}),v.P7),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),c("An error occurred",(null===(r=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===r?void 0:r.detail)||"We couldn't save your post, try again!");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))},renderForm:function(e,t,n){return r.createElement("div",{className:"flex"},r.createElement("div",{className:"pl-8 pt-4 pb-3 grid p-fluid"},r.createElement(i.Wi,{label:"Warehouse Name",name:"name",className:"col-12",control:e,errors:n,required:"Enter Name",leftSpan:3,rightSpan:5,formItem:{component:d.o,componentProps:{maxLength:100}}}),r.createElement(i.Wi,{label:"Address Line 1",name:"addr1",className:"col-12",control:e,errors:n,leftSpan:3,rightSpan:5,formItem:{component:d.o,componentProps:{maxLength:100}}}),r.createElement(i.Wi,{label:"Address Line 2",name:"addr2",className:"col-12",control:e,errors:n,leftSpan:3,rightSpan:5,formItem:{component:d.o,componentProps:{maxLength:100}}}),r.createElement(i.Wi,{label:"State",name:"state_key",className:"col-12",control:e,errors:n,isLoading:x,required:"Select a State",leftSpan:3,rightSpan:3,useExplicit:!0,onChange:function(e){P(e.value)},formItem:{component:p.L,componentProps:{showClear:!0,optionLabel:"name",optionValue:"key",filter:!0,filterBy:"name",options:L}}}),r.createElement(i.Wi,{label:"City",name:"city_key",className:"col-12",control:e,errors:n,isLoading:k,required:"Select a City",leftSpan:3,rightSpan:3,formItem:{component:p.L,componentProps:{showClear:!0,optionLabel:"name",optionValue:"key",filter:!0,filterBy:"name",options:M}}})),r.createElement("div",{className:"col-2",style:{marginTop:25}},r.createElement("div",null,r.createElement(m.z,{onClick:function(e){return e.preventDefault()},label:"Contact",className:"project-page-tags",style:{width:"100%"}}))))}}))},ne=function(e){var t=(0,r.useState)(1),n=(0,s.Z)(t,2),a=n[0],c=n[1],u=(0,r.useState)(v.IV),l=(0,s.Z)(u,2),d=l[0],p=l[1],m=B({page:a,size:d}),f=m.data,y=m.isFetching,g=F(),E=(0,s.Z)(g,2),h=E[0],T=E[1].isLoading;return r.createElement(i.PS,{pagination:{pageSize:d,loading:y,currentPage:a,total:null===f||void 0===f?void 0:f.count,onChange:function(e,t){c(e),p(t)}},baseRoute:"/".concat(o,"/").concat(K),description:X,isLoading:y||T,data:null===f||void 0===f?void 0:f.results,deleteAction:function(e){return h(e).unwrap()},newTable:!0,showHeader:!0},r.createElement(i._P,{field:"id",header:"Warehouse Code",filteringType:"number"}),r.createElement(i._P,{field:"name",header:"Warehouse Name",filteringType:"text"}),r.createElement(i._P,{field:"addr1",header:"Address",filteringType:"text"}))},re=r.createElement(a.AW,{path:"warehouses"},r.createElement(a.AW,{path:"new",element:r.createElement(te,null)}),r.createElement(a.AW,{path:":id/edit",element:r.createElement(te,null)}),r.createElement(a.AW,{index:!0,element:r.createElement(ne,null)})),ae=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},ie="/inventory/manufacturer/",oe=v.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listManufacturers:e.query({query:function(e){var t=e.page,n=e.size;return{url:(0,v.DS)(ie,"?page=".concat(t||1,"&page_size=").concat(n||v.IV))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:v.pJ.INVENTORY_MFGR,id:t}}))),[{type:v.pJ.INVENTORY_MFGR,id:"LIST"}]):[{type:v.pJ.INVENTORY_MFGR,id:"LIST"}]}}),addManufacturers:e.mutation({query:function(e){return{url:ie,method:"POST",body:e}},invalidatesTags:[{type:v.pJ.INVENTORY_MFGR,id:"LIST"}]}),getManufacturers:e.query({query:function(e){return"".concat(ie).concat(e)},providesTags:function(e,t,n){return[{type:v.pJ.INVENTORY_MFGR,id:n}]}}),updateManufacturers:e.mutation({query:function(e){var t=e.key,n=ae(e,["key"]);return{url:"".concat(ie).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:v.pJ.INVENTORY_MFGR,id:null===e||void 0===e?void 0:e.id}]}}),deleteManufacturers:e.mutation({query:function(e){return{url:"".concat(ie).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:v.pJ.INVENTORY_MFGR,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),ce=oe.useAddManufacturersMutation,ue=oe.useDeleteManufacturersMutation,le=oe.useGetManufacturersQuery,se=oe.useListManufacturersQuery,de=oe.useUpdateManufacturersMutation,pe=(oe.useGetErrorProneQuery,oe.endpoints.getManufacturers,"manufacturers"),me="Manufacturer",fe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},ye="/inventory/item_type/",ve=v.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listItemTypes:e.query({query:function(e){var t=e.page,n=e.size;return{url:(0,v.DS)(ye,"?page=".concat(t||1,"&page_size=").concat(n||v.IV))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:v.pJ.INVENTORY_ITEMTYPE,id:t}}))),[{type:v.pJ.INVENTORY_ITEMTYPE,id:"LIST"}]):[{type:v.pJ.INVENTORY_ITEMTYPE,id:"LIST"}]}}),addItemTypes:e.mutation({query:function(e){return{url:ye,method:"POST",body:e}},invalidatesTags:[{type:v.pJ.INVENTORY_ITEMTYPE,id:"LIST"}]}),getItemTypes:e.query({query:function(e){return"".concat(ye).concat(e)},providesTags:function(e,t,n){return[{type:v.pJ.INVENTORY_ITEMTYPE,id:n}]}}),updateItemTypes:e.mutation({query:function(e){var t=e.key,n=fe(e,["key"]);return{url:"".concat(ye).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:v.pJ.INVENTORY_ITEMTYPE,id:null===e||void 0===e?void 0:e.id}]}}),deleteItemTypes:e.mutation({query:function(e){return{url:"".concat(ye).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:v.pJ.INVENTORY_ITEMTYPE,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),ge=ve.useAddItemTypesMutation,Ee=ve.useDeleteItemTypesMutation,he=ve.useGetItemTypesQuery,Te=ve.useListItemTypesQuery,be=ve.useUpdateItemTypesMutation,Se=(ve.useGetErrorProneQuery,ve.endpoints.getItemTypes,function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function c(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}u((r=r.apply(e,t||[])).next())}))}),Ie=function(e){var t=(0,i.pm)(),n=t.showSuccess,c=t.showError,u=(0,r.useState)(!1),m=(0,s.Z)(u,2),f=m[0],y=m[1],g=(0,a.s0)(),E=(0,a.UO)().id,h=parseInt(E||""),T=isNaN(h)||h<=0,b=(0,v.ft)(),S=le(h,{skip:T}),I=S.data,O=S.isLoading,P=ce(),w=(0,s.Z)(P,2),N=w[0],L=w[1].isLoading,x=de(),_=(0,s.Z)(x,2),M=_[0],k=_[1].isLoading,U=Te({}),R=U.data,q=U.isFetching;return r.createElement(r.Fragment,null,r.createElement(i.Rm,{baseRoute:"/".concat(o,"/").concat(pe),description:me,id:h,data:I,isUpdating:L||k||f,isLoading:O,onSubmit:function(e){return Se(void 0,void 0,void 0,(0,l.Z)().mark((function t(){var r,a;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!T){t.next=7;break}return t.next=4,N(Object.assign(Object.assign({},e),b)).unwrap();case 4:a=t.sent,t.next=10;break;case 7:return t.next=9,M(Object.assign(Object.assign({},e),b)).unwrap();case 9:a=t.sent;case 10:n("Success",a.detail),y(!0),setTimeout((function(){g("/".concat(o,"/").concat(pe))}),v.P7),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),c("An error occurred",(null===(r=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===r?void 0:r.detail)||"We couldn't save your post, try again!");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))},renderForm:function(e,t,n){return r.createElement("div",{className:"pl-8 pt-4 pb-3 grid p-fluid"},r.createElement(i.Wi,{label:"Manufacturer Name",name:"name",className:"col-12",control:e,errors:n,required:"Enter Name",leftSpan:2,rightSpan:5,formItem:{component:d.o,componentProps:{maxLength:100}}}),r.createElement(i.Wi,{label:"Item Type",name:"itemtyp_key",className:"col-12",control:e,errors:n,isLoading:q,required:"Select an Item",leftSpan:2,rightSpan:5,formItem:{component:p.L,componentProps:{showClear:!0,optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:null===R||void 0===R?void 0:R.results}}}))}}))},Oe=function(e){var t=(0,r.useState)(1),n=(0,s.Z)(t,2),a=n[0],c=n[1],u=(0,r.useState)(v.IV),l=(0,s.Z)(u,2),d=l[0],p=l[1],m=se({page:a,size:d}),f=m.data,y=m.isFetching,g=ue(),E=(0,s.Z)(g,2),h=E[0],T=E[1].isLoading;return r.createElement(i.PS,{pagination:{pageSize:d,loading:y,currentPage:a,total:null===f||void 0===f?void 0:f.count,onChange:function(e,t){c(e),p(t)}},baseRoute:"/".concat(o,"/").concat(pe),description:me,isLoading:y||T,data:null===f||void 0===f?void 0:f.results,deleteAction:function(e){return h(e).unwrap()},newTable:!0,showHeader:!0},r.createElement(i._P,{field:"id",header:"Manufacturer Code",filteringType:"number"}),r.createElement(i._P,{field:"name",header:"Manufacturer Name",filteringType:"text"}),r.createElement(i._P,{field:"itemtyp.descr",header:"Item Type",filteringType:"text"}))},Pe=r.createElement(a.AW,{path:"manufacturers"},r.createElement(a.AW,{path:"new",element:r.createElement(Ie,null)}),r.createElement(a.AW,{path:":id/edit",element:r.createElement(Ie,null)}),r.createElement(a.AW,{index:!0,element:r.createElement(Oe,null)})),we=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Ne="/inventory/item_uom/",Le=v.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listUOMs:e.query({query:function(e){var t=e.page,n=e.size;return{url:(0,v.DS)(Ne,"?page=".concat(t||1,"&page_size=").concat(n||v.IV))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:v.pJ.UOM,id:t}}))),[{type:v.pJ.UOM,id:"LIST"}]):[{type:v.pJ.UOM,id:"LIST"}]}}),addUOMs:e.mutation({query:function(e){return{url:Ne,method:"POST",body:e}},invalidatesTags:[{type:v.pJ.UOM,id:"LIST"}]}),getUOMs:e.query({query:function(e){return"".concat(Ne).concat(e)},providesTags:function(e,t,n){return[{type:v.pJ.UOM,id:n}]}}),updateUOMs:e.mutation({query:function(e){var t=e.key,n=we(e,["key"]);return{url:"".concat(Ne).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:v.pJ.UOM,id:null===e||void 0===e?void 0:e.id}]}}),deleteUOMs:e.mutation({query:function(e){return{url:"".concat(Ne).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:v.pJ.UOM,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),xe=Le.useAddUOMsMutation,_e=Le.useDeleteUOMsMutation,Me=Le.useGetUOMsQuery,ke=Le.useListUOMsQuery,Ue=Le.useUpdateUOMsMutation,Re=(Le.useGetErrorProneQuery,Le.endpoints.getUOMs,"uoms"),qe=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function c(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}u((r=r.apply(e,t||[])).next())}))},Ze=function(e){var t=(0,i.pm)(),n=t.showSuccess,c=t.showError,u=(0,r.useState)(!1),m=(0,s.Z)(u,2),f=m[0],y=m[1],g=(0,a.s0)(),E=(0,a.UO)().id,h=parseInt(E||""),T=isNaN(h)||h<=0,b=(0,v.ft)(),S=Me(h,{skip:T}),I=S.data,O=S.isLoading,P=ke({}),w=(P.data,P.isLoading,Te({})),N=w.data,L=w.isFetching,x=xe(),_=(0,s.Z)(x,2),M=_[0],k=_[1].isLoading,U=Ue(),R=(0,s.Z)(U,2),q=R[0],Z=R[1].isLoading;return r.createElement(r.Fragment,null,r.createElement(i.Rm,{baseRoute:"/".concat(o,"/").concat(Re),description:"UOM",id:h,data:I,isUpdating:k||Z||f,isLoading:O,onSubmit:function(e){return qe(void 0,void 0,void 0,(0,l.Z)().mark((function t(){var r,a;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!T){t.next=7;break}return t.next=4,M(Object.assign(Object.assign({},e),b)).unwrap();case 4:a=t.sent,t.next=10;break;case 7:return t.next=9,q(Object.assign(Object.assign({},e),b)).unwrap();case 9:a=t.sent;case 10:n("Success",a.detail),y(!0),setTimeout((function(){g("/".concat(o,"/").concat(Re))}),v.P7),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),c("An error occurred",(null===(r=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===r?void 0:r.detail)||"We couldn't save your post, try again!");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))},renderForm:function(e,t,n){return r.createElement("div",{className:"pl-8 pt-4 pb-3 grid p-fluid"},r.createElement(i.Wi,{label:"Item Type",name:"itemtyp_key",className:"col-12",control:e,errors:n,isLoading:L,required:!0,leftSpan:3,rightSpan:4,formItem:{component:p.L,componentProps:{showClear:!0,optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:null===N||void 0===N?void 0:N.results}}}),r.createElement(i.Wi,{label:"UOM Description",name:"descr",className:"col-12",control:e,errors:n,required:"Enter Item Description",leftSpan:3,rightSpan:4,formItem:{component:d.o,componentProps:{maxLength:100}}}))}}))},We=function(e){var t=(0,r.useState)(1),n=(0,s.Z)(t,2),a=n[0],c=n[1],u=(0,r.useState)(v.IV),l=(0,s.Z)(u,2),d=l[0],p=l[1],m=ke({page:a,size:d}),f=m.data,y=m.isFetching,g=_e(),E=(0,s.Z)(g,2),h=E[0],T=E[1].isLoading;return r.createElement(i.PS,{pagination:{pageSize:d,loading:y,currentPage:a,total:null===f||void 0===f?void 0:f.count,onChange:function(e,t){c(e),p(t)}},baseRoute:"/".concat(o,"/").concat(Re),description:"UOM",isLoading:y||T,data:null===f||void 0===f?void 0:f.results,deleteAction:function(e){return h(e).unwrap()},newTable:!0,showHeader:!0},r.createElement(i._P,{field:"id",header:"UOM Code",filteringType:"number"}),r.createElement(i._P,{field:"descr",header:"UOM Description",filteringType:"text"}),r.createElement(i._P,{field:"item_type.descr",header:"Item Type",filteringType:"text"}))},Ae=r.createElement(a.AW,{path:"uoms"},r.createElement(a.AW,{path:"new",element:r.createElement(Ze,null)}),r.createElement(a.AW,{path:":id/edit",element:r.createElement(Ze,null)}),r.createElement(a.AW,{index:!0,element:r.createElement(We,null)})),Ve="itemtypes",je="Item Type",Ye=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function c(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}u((r=r.apply(e,t||[])).next())}))},Ce=function(e){var t=(0,i.pm)(),n=t.showSuccess,c=t.showError,u=(0,r.useState)(!1),p=(0,s.Z)(u,2),m=p[0],f=p[1],y=(0,a.s0)(),g=(0,a.UO)().id,E=parseInt(g||""),h=isNaN(E)||E<=0,T=(0,v.ft)(),b=he(E,{skip:h}),S=b.data,I=b.isLoading,O=ge(),P=(0,s.Z)(O,2),w=P[0],N=P[1].isLoading,L=be(),x=(0,s.Z)(L,2),_=x[0],M=x[1].isLoading;return r.createElement(r.Fragment,null,r.createElement(i.Rm,{baseRoute:"/".concat(o,"/").concat(Ve),description:je,id:E,data:S,isUpdating:N||M||m,isLoading:I,onSubmit:function(e){return Ye(void 0,void 0,void 0,(0,l.Z)().mark((function t(){var r,a;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!h){t.next=7;break}return t.next=4,w(Object.assign(Object.assign({},e),T)).unwrap();case 4:a=t.sent,t.next=10;break;case 7:return t.next=9,_(Object.assign(Object.assign({},e),T)).unwrap();case 9:a=t.sent;case 10:n("Success",a.detail),f(!0),setTimeout((function(){y("/".concat(o,"/").concat(Ve))}),v.P7),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),c("An error occurred",(null===(r=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===r?void 0:r.detail)||"We couldn't save your post, try again!");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))},renderForm:function(e,t,n){return r.createElement("div",{className:"pl-8 pt-4 pb-3 grid p-fluid"},r.createElement(i.Wi,{label:"Type Description",name:"descr",className:"col-12",control:e,errors:n,required:"Enter Description",leftSpan:2,rightSpan:5,formItem:{component:d.o,componentProps:{maxLength:100}}}))}}))},Je=function(e){var t=(0,r.useState)(1),n=(0,s.Z)(t,2),a=n[0],c=n[1],u=(0,r.useState)(v.IV),l=(0,s.Z)(u,2),d=l[0],p=l[1],m=Te({page:a,size:d}),f=m.data,y=m.isFetching,g=Ee(),E=(0,s.Z)(g,2),h=E[0],T=E[1].isLoading;return r.createElement(i.PS,{pagination:{pageSize:d,loading:y,currentPage:a,total:null===f||void 0===f?void 0:f.count,onChange:function(e,t){c(e),p(t)}},baseRoute:"/".concat(o,"/").concat(Ve),description:je,isLoading:y||T,data:null===f||void 0===f?void 0:f.results,deleteAction:function(e){return h(e).unwrap()},newTable:!0,showHeader:!0},r.createElement(i._P,{field:"id",header:"ItemType Code",filteringType:"number"}),r.createElement(i._P,{field:"descr",header:"ItemType Description",filteringType:"text"}))},Ge=r.createElement(a.AW,{path:"itemtypes"},r.createElement(a.AW,{path:"new",element:r.createElement(Ce,null)}),r.createElement(a.AW,{path:":id/edit",element:r.createElement(Ce,null)}),r.createElement(a.AW,{index:!0,element:r.createElement(Je,null)})),De="itemsubtypes",Fe="Item Sub Type",ze=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function c(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}u((r=r.apply(e,t||[])).next())}))},Be=function(e){var t=(0,i.pm)(),n=t.showSuccess,c=t.showError,u=(0,r.useState)(!1),y=(0,s.Z)(u,2),g=y[0],E=y[1],h=(0,r.useState)(!1),T=(0,s.Z)(h,2),b=T[0],S=T[1],I=(0,r.useState)(!1),O=(0,s.Z)(I,2),P=O[0],w=O[1],N=(0,r.useState)(!1),L=(0,s.Z)(N,2),x=L[0],M=L[1],U=(0,a.s0)(),q=(0,a.UO)().id,Z=parseInt(q||""),W=isNaN(Z)||Z<=0,A=(0,r.useRef)([]),V=(0,v.ft)(),j=(0,r.useState)([]),Y=(0,s.Z)(j,2),C=Y[0],J=Y[1],G=k(Z,{skip:W}),D=G.data,F=G.isLoading,z=(0,r.useState)(null),B=(0,s.Z)(z,2),Q=B[0],H=B[1],$=(0,r.useState)([]),K=(0,s.Z)($,2),X=K[0],ee=K[1],te=_(),ne=(0,s.Z)(te,2),re=ne[0],ae=ne[1].isLoading,ie=R(),oe=(0,s.Z)(ie,2),ce=oe[0],ue=oe[1].isLoading,le=Te({}),se=le.data,de=le.isFetching,pe=(0,v.U$)(Q,{skip:!Q}),me=pe.data,fe=(pe.isLoading,function(e){if(0===e.length)return!0;var t=e[e.length-1];return null===t||void 0===t?void 0:t.item_descr}),ye=function(e){return r.createElement(m.z,{style:{height:"35px",width:"20px",marginLeft:20},type:"button",onClick:function(){var t=A.current.filter((function(t){return t.item_descr!==e.item_descr}));ee(t),A.current=t},className:"p-button-rounded p-button-text",icon:"pi pi-trash"})};(0,r.useEffect)((function(){if(D&&(H(D.itemtyp_key),null===D||void 0===D?void 0:D.spec_param)){w(!0);var e=D.spec_param.split("|").map((function(e){return{item_descr:e}}));A.current=e,ee(e)}}),[D]),(0,r.useEffect)((function(){if((null===D||void 0===D?void 0:D.uom_keys)&&me&&!b){S(!0),M(!0);var e=D.uom_keys.split("|").map((function(e){return parseInt(e)})),t=null===me||void 0===me?void 0:me.filter((function(t){return e.includes(t.key)}));J(t)}}),[me]);return r.createElement(r.Fragment,null,r.createElement(i.Rm,{baseRoute:"/".concat(o,"/").concat(De),description:Fe,id:Z,data:D,isUpdating:ae||ue||g,isLoading:F,onSubmit:function(e){return ze(void 0,void 0,void 0,(0,l.Z)().mark((function t(){var r,a,i;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=Object.assign(Object.assign(Object.assign({},e),{spec_param:A.current.map((function(e){return e.item_descr})).join("|"),uom_keys:C.map((function(e){return e.key})).join("|")}),V),!W){t.next=8;break}return t.next=5,re(i).unwrap();case 5:a=t.sent,t.next=11;break;case 8:return t.next=10,ce(i).unwrap();case 10:a=t.sent;case 11:n("Success",a.detail),E(!0),setTimeout((function(){U("/".concat(o,"/").concat(De))}),v.P7),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),c("An error occurred",(null===(r=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===r?void 0:r.detail)||"We couldn't save your post, try again!");case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))},renderForm:function(e,t,n){return r.createElement("div",{className:"pl-8 pt-4 pb-3 grid p-fluid"},r.createElement(i.Wi,{label:"Item Type",name:"itemtyp_key",className:"col-12",control:e,errors:n,isLoading:de,required:"Select an Item Type",leftSpan:2,rightSpan:5,useExplicit:!0,onChange:function(e){H(e.value),J([])},formItem:{component:p.L,componentProps:{showClear:!0,optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:null===se||void 0===se?void 0:se.results}}}),r.createElement(i.Wi,{label:"Item Sub Type",name:"descr",className:"col-12",control:e,errors:n,required:"Enter Description",leftSpan:2,rightSpan:5,formItem:{component:d.o,componentProps:{maxLength:100}}}),r.createElement(i.Wi,{label:"GST (%)",name:"gst",className:"col-12",control:e,errors:n,required:"Enter GST",leftSpan:2,rightSpan:5,formItem:{component:d.o,componentProps:{type:"number",min:0,max:100}}}),r.createElement("div",{className:"row flex",style:{width:"90%"}},r.createElement("div",{className:"col-6"},r.createElement(m.z,{style:{width:"60%",marginBottom:30},label:"Add Specification",disabled:P,onClick:function(e){e.preventDefault(),w(!0)}}),r.createElement("div",{style:{width:"80%",marginRight:50,visibility:P?"visible":"hidden"}},r.createElement(i.PS,{baseRoute:"/".concat(o,"/").concat(De),description:Fe,isLoading:F,data:X,newTable:!0,tableLayoutClass:"h-full",allowFilters:!1,actionBodyTemplate:ye,gridProps:{allowAdd:!0,disableAdd:!fe(X),OnRowsChanged:function(e){ee(e),A.current=e}}},r.createElement(i._P,{field:"item_descr",header:"Specification Parameter",editorType:"text"})))),r.createElement("div",{className:"col-6"},r.createElement(m.z,{style:{width:"50%",marginBottom:30},label:"Add UOM",disabled:x,onClick:function(e){e.preventDefault(),M(!0)}}),r.createElement("div",{style:{width:"40%",alignItems:"right",visibility:x?"visible":"hidden"}},r.createElement(f.N,{value:C,onChange:function(e){return J(e.value)},options:me,optionLabel:"descr",display:"chip",placeholder:"Select UOM",className:"w-full md:w-20rem"})))))}}))},Qe=function(e){var t=(0,r.useState)(1),n=(0,s.Z)(t,2),a=n[0],c=n[1],u=(0,r.useState)(v.IV),l=(0,s.Z)(u,2),d=l[0],p=l[1],m=U({page:a,size:d}),f=m.data,y=m.isFetching,g=M(),E=(0,s.Z)(g,2),h=E[0],T=E[1].isLoading;return r.createElement(i.PS,{pagination:{pageSize:d,loading:y,currentPage:a,total:null===f||void 0===f?void 0:f.count,onChange:function(e,t){c(e),p(t)}},baseRoute:"/".concat(o,"/").concat(De),description:Fe,isLoading:y||T,data:null===f||void 0===f?void 0:f.results,deleteAction:function(e){return h(e).unwrap()},newTable:!0,showHeader:!0},r.createElement(i._P,{field:"id",header:"SubType Code",filteringType:"number"}),r.createElement(i._P,{field:"descr",header:"SubType Description",filteringType:"text"}),r.createElement(i._P,{field:"itemtyp.descr",header:"Item Type",filteringType:"text"}))},He=r.createElement(a.AW,{path:"itemsubtypes"},r.createElement(a.AW,{path:"new",element:r.createElement(Be,null)}),r.createElement(a.AW,{path:":id/edit",element:r.createElement(Be,null)}),r.createElement(a.AW,{index:!0,element:r.createElement(Qe,null)})),$e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Ke="/inventory/uom/type/",Xe=v.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listUOMTypes:e.query({query:function(e){var t=e.page,n=e.size;return{url:(0,v.DS)(Ke,"?page=".concat(t||1,"&page_size=").concat(n||v.IV))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:v.pJ.INVENTORY_UOMTYPE,id:t}}))),[{type:v.pJ.INVENTORY_UOMTYPE,id:"LIST"}]):[{type:v.pJ.INVENTORY_UOMTYPE,id:"LIST"}]}}),addUOMTypes:e.mutation({query:function(e){return{url:Ke,method:"POST",body:e}},invalidatesTags:[{type:v.pJ.INVENTORY_UOMTYPE,id:"LIST"}]}),getUOMTypes:e.query({query:function(e){return"".concat(Ke).concat(e)},providesTags:function(e,t,n){return[{type:v.pJ.INVENTORY_UOMTYPE,id:n}]}}),updateUOMTypes:e.mutation({query:function(e){var t=e.key,n=$e(e,["key"]);return{url:"".concat(Ke).concat(t),method:"PUT",body:n}},invalidatesTags:function(e){return[{type:v.pJ.INVENTORY_UOMTYPE,id:null===e||void 0===e?void 0:e.id}]}}),deleteUOMTypes:e.mutation({query:function(e){return{url:"".concat(Ke).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:v.pJ.INVENTORY_UOMTYPE,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),et=Xe.useAddUOMTypesMutation,tt=Xe.useDeleteUOMTypesMutation,nt=Xe.useGetUOMTypesQuery,rt=Xe.useListUOMTypesQuery,at=Xe.useUpdateUOMTypesMutation,it=(Xe.useGetErrorProneQuery,Xe.endpoints.getUOMTypes,"uomtype"),ot="UOM Type",ct=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function c(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}u((r=r.apply(e,t||[])).next())}))},ut=function(e){var t=(0,i.pm)(),n=t.showSuccess,c=t.showError,u=(0,r.useState)(!1),p=(0,s.Z)(u,2),m=p[0],f=p[1],y=(0,a.s0)(),g=(0,a.UO)().id,E=parseInt(g||""),h=isNaN(E)||E<=0,T=(0,v.ft)(),b=nt(E,{skip:h}),S=b.data,I=b.isLoading,O=et(),P=(0,s.Z)(O,2),w=P[0],N=P[1].isLoading,L=at(),x=(0,s.Z)(L,2),_=x[0],M=x[1].isLoading;return r.createElement(r.Fragment,null,r.createElement(i.Rm,{baseRoute:"/".concat(o,"/").concat(it),description:ot,id:E,data:S,isUpdating:N||M||m,isLoading:I,onSubmit:function(e){return ct(void 0,void 0,void 0,(0,l.Z)().mark((function t(){var r,a;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!h){t.next=7;break}return t.next=4,w(Object.assign(Object.assign({},e),T)).unwrap();case 4:a=t.sent,t.next=10;break;case 7:return t.next=9,_(Object.assign(Object.assign({},e),T)).unwrap();case 9:a=t.sent;case 10:n("Success",a.detail),f(!0),setTimeout((function(){y("/".concat(o,"/").concat(it))}),v.P7),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),c("An error occurred",(null===(r=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===r?void 0:r.detail)||"We couldn't save your post, try again!");case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))},renderForm:function(e,t,n){return r.createElement("div",{className:"pl-8 pt-4 pb-3 grid p-fluid"},r.createElement(i.Wi,{label:"UOM Type Description",name:"descr",className:"col-12",control:e,errors:n,required:"Enter Description",leftSpan:3,rightSpan:5,formItem:{component:d.o,componentProps:{maxLength:100}}}))}}))},lt=function(e){var t=(0,r.useState)(1),n=(0,s.Z)(t,2),a=n[0],c=n[1],u=(0,r.useState)(v.IV),l=(0,s.Z)(u,2),d=l[0],p=l[1],m=rt({page:a,size:d}),f=m.data,y=m.isFetching,g=tt(),E=(0,s.Z)(g,2),h=E[0],T=E[1].isLoading;return r.createElement(i.PS,{pagination:{pageSize:d,loading:y,currentPage:a,total:null===f||void 0===f?void 0:f.count,onChange:function(e,t){c(e),p(t)}},baseRoute:"/".concat(o,"/").concat(it),description:ot,isLoading:y||T,data:null===f||void 0===f?void 0:f.results,deleteAction:function(e){return h(e).unwrap()},newTable:!0,showHeader:!0},r.createElement(i._P,{field:"id",header:"Type Code",filteringType:"number"}),r.createElement(i._P,{field:"descr",header:"UOM Type Description",filteringType:"text"}))},st=r.createElement(a.AW,{path:"uomtype"},r.createElement(a.AW,{path:"new",element:r.createElement(ut,null)}),r.createElement(a.AW,{path:":id/edit",element:r.createElement(ut,null)}),r.createElement(a.AW,{index:!0,element:r.createElement(lt,null)})),dt="/inventory/item/group/",pt=v.hi.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{listItemGroup:e.query({query:function(e){var t=e.page,n=e.size;return{url:(0,v.DS)(dt,"?page=".concat(t||1,"&page_size=").concat(n||v.IV))}},providesTags:function(e){var t;return e?[].concat((0,y.Z)(null===(t=null===e||void 0===e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.id;return{type:v.pJ.INVENTORY_ITEMTYPE,id:t}}))),[{type:v.pJ.INVENTORY_ITEMTYPE,id:"LIST"}]):[{type:v.pJ.INVENTORY_ITEMTYPE,id:"LIST"}]}}),addItemGroup:e.mutation({query:function(e){return{url:dt,method:"POST",body:e}},invalidatesTags:[{type:v.pJ.INVENTORY_ITEMTYPE,id:"LIST"}]}),getItemGroup:e.query({query:function(e){return"".concat(dt).concat(e)},providesTags:function(e,t,n){return[{type:v.pJ.INVENTORY_ITEMTYPE,id:n}]}}),updateItemGroup:e.mutation({query:function(e){var t=e;return{url:"".concat(dt),method:"POST",body:t}},invalidatesTags:function(e){return[{type:v.pJ.INVENTORY_ITEMTYPE,id:null===e||void 0===e?void 0:e.data.id}]}}),deleteItemGroup:e.mutation({query:function(e){return{url:"".concat(dt).concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:v.pJ.INVENTORY_ITEMTYPE,id:null===e||void 0===e?void 0:e.id}]}}),getErrorProne:e.query({query:function(){return"error-prone"}})}}}),mt=pt.useAddItemGroupMutation,ft=pt.useDeleteItemGroupMutation,yt=pt.useGetItemGroupQuery,vt=pt.useListItemGroupQuery,gt=pt.useUpdateItemGroupMutation,Et=(pt.useGetErrorProneQuery,"itemgroup"),ht="Item Group",Tt=n(6666),bt=(0,r.forwardRef)((function(e,t){var n=e.data,a=e.isLoading,o=e.disableTable,c=void 0!==o&&o,u=e.onChange,l=void 0===u?function(){}:u,d=(0,r.useState)([]),f=(0,s.Z)(d,2),y=f[0],g=f[1],E=(0,r.useRef)(y),h=(0,r.useRef)([]),T=(0,v.gg)({}).data;(0,r.useImperativeHandle)(t,(function(){return{getItems:function(){return y}}})),(0,r.useEffect)((function(){g(n),E.current=n}),[n]),(0,r.useEffect)((function(){h.current=T||[]}),[T]);return r.createElement(i.PS,{baseRoute:"/purchase/".concat(Et),description:ht,isLoading:a,data:y,newTable:!0,tableLayoutClass:"h-full",allowFilters:!1,hideActionColumn:c,actionBodyTemplate:function(e){return r.createElement(m.z,{style:{height:"35px",width:"20px",marginLeft:20},type:"button",onClick:function(){(0,q.V)({message:"Are you sure you want to Delete Item?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){return function(e){var t=E.current.filter((function(t){return t!==e}));E.current=t,g(t)}(e)},reject:function(){}})},className:"p-button-rounded p-button-text",icon:"pi pi-trash"})},gridProps:{allowAdd:!c,OnRowsChanged:function(e){var t=e.map((function(e){var t;return Object.assign(Object.assign({},e),{item_descr:null===(t=h.current.filter((function(t){return t.key===e.item_key}))[0])||void 0===t?void 0:t.descr})}));g(t),E.current=t,l(!0)}}},r.createElement(i._P,{field:"item_key",header:"Item*",displayValueGetter:function(e,t){var n,r;if(!Array.isArray(e)){var a=null===(n=h.current)||void 0===n?void 0:n.filter((function(n){return n.key===e[t]}));return a.length?a[0].descr:null===(r=null===e||void 0===e?void 0:e.items)||void 0===r?void 0:r.descr}},editorType:!c&&function(e){var t=e.row,n=e.column,a=e.onRowChange,i=e.onClose;return r.createElement(p.L,{autoFocus:!0,style:{width:"100%"},className:"p-inputtext-sm",value:t[n.key],optionLabel:"descr",optionValue:"key",filter:!0,filterBy:"descr",options:h.current,onChange:function(e){a(Object.assign(Object.assign({},t),(0,Tt.Z)({},n.key,e.value)),!0),i(!0)},tabIndex:-1})}}),r.createElement(i._P,{field:"item_descr",header:"Description",type:"text"}),r.createElement(i._P,{field:"mixratioval",header:"Mix Ratio",type:"number",editorType:!c&&"number"}))})),St=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function c(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}u((r=r.apply(e,t||[])).next())}))},It=function(e){var t=(0,i.pm)(),n=t.showSuccess,c=t.showError,u=(0,r.useState)(!1),m=(0,s.Z)(u,2),f=m[0],y=m[1],g=(0,a.s0)(),E=(0,a.UO)().id,h=parseInt(E||""),T=isNaN(h)||h<=0,b=(0,r.useRef)(),S=(0,r.useState)(!1),I=(0,s.Z)(S,2),O=I[0],P=I[1],w=(0,v.ft)(),N=yt(h,{skip:T}),L=N.data,x=N.isLoading,_=N.refetch,M=ke({}),k=M.data,U=M.isFetching,R=mt(),q=(0,s.Z)(R,2),Z=q[0],W=q[1].isLoading,A=gt(),V=(0,s.Z)(A,2),j=V[0],Y=V[1].isLoading;return r.createElement(r.Fragment,null,r.createElement(i.Rm,{baseRoute:"/".concat(o,"/").concat(Et),description:ht,id:h,data:L,isUpdating:W||Y||f,isItemsTableChanged:O,isLoading:x,onSubmit:function(e){return St(void 0,void 0,void 0,(0,l.Z)().mark((function t(){var r,a,i,u,s;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,u=null===(r=b.current)||void 0===r?void 0:r.getItems(),s=Object.assign(Object.assign(Object.assign({},e),{item_group_details:u}),w),!T){t.next=9;break}return t.next=6,Z(s).unwrap();case 6:i=t.sent,t.next=12;break;case 9:return t.next=11,j(s).unwrap();case 11:i=t.sent;case 12:_(),n("Success",i.detail),y(!0),setTimeout((function(){g("/".concat(o,"/").concat(Et))}),v.P7),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),c("An error occurred",(null===(a=null===t.t0||void 0===t.t0?void 0:t.t0.data)||void 0===a?void 0:a.detail)||"We couldn't save your post, try again!");case 21:case"end":return t.stop()}}),t,null,[[0,18]])})))},renderForm:function(e,t,n){var a;return r.createElement("div",{className:"pl-8 pt-4 pb-3 grid p-fluid h-full"},r.createElement(i.Wi,{label:"Item Group Description",name:"descr",className:"col-12 full",control:e,errors:n,required:"Enter Item Group",leftSpan:3,rightSpan:5,formItem:{component:d.o,componentProps:{maxLength:100}}}),r.createElement(i.Wi,{label:"UOM",name:"itemuom_key",className:"col-12 full",control:e,errors:n,isLoading:U,required:"Select a UOM",leftSpan:3,rightSpan:3,formItem:{component:p.L,componentProps:{showClear:!0,optionLabel:"descr",optionValue:"key",options:null===k||void 0===k?void 0:k.results}}}),r.createElement(i.Wi,{label:"Group Type",name:"grouptype",className:"col-12 full",control:e,errors:n,required:"Select a Group Type",leftSpan:3,rightSpan:3,formItem:{component:p.L,componentProps:{showClear:!0,optionLabel:"descr",optionValue:"key",options:[{key:"L",descr:"Linear"},{key:"S",descr:"Simple"}]}}}),r.createElement(i.Wi,{label:"Mix Ratio",name:"mixtype",className:"col-12 full",control:e,errors:n,required:"Select a Ratio",leftSpan:3,rightSpan:3,formItem:{component:p.L,componentProps:{showClear:!0,optionLabel:"descr",optionValue:"key",options:[{key:"F",descr:"Fixed"},{key:"V",descr:"Variable"}]}}}),r.createElement(i.Wi,{label:"Scope",name:"scope",className:"col-12 full",control:e,errors:n,required:"Select a Scope",leftSpan:3,rightSpan:3,formItem:{component:p.L,componentProps:{showClear:!0,optionLabel:"descr",optionValue:"key",options:[{key:"P",descr:"Project"},{key:"U",descr:"Universal"}]}}}),r.createElement("div",{className:"col-12 full ",style:{height:"calc(100% - 183px)",minHeight:200}},r.createElement(bt,{data:(null===L||void 0===L?void 0:L.item_group_details)||(null===(a=b.current)||void 0===a?void 0:a.getItems())||[],isLoading:x,ref:b,onChange:function(e){return!O&&P(e)}})))}}))},Ot=function(e){var t=(0,r.useState)(1),n=(0,s.Z)(t,2),a=n[0],c=n[1],u=(0,r.useState)(v.IV),l=(0,s.Z)(u,2),d=l[0],p=l[1],m=vt({page:a,size:d}),f=m.data,y=m.isFetching,g=ft(),E=(0,s.Z)(g,2),h=E[0],T=E[1].isLoading;return r.createElement(i.PS,{pagination:{pageSize:d,loading:y,currentPage:a,total:null===f||void 0===f?void 0:f.count,onChange:function(e,t){c(e),p(t)}},baseRoute:"/".concat(o,"/").concat(Et),description:ht,isLoading:y||T,data:null===f||void 0===f?void 0:f.results,deleteAction:function(e){return h(e).unwrap()},newTable:!0,showHeader:!0},r.createElement(i._P,{field:"id",header:"Item Group",filteringType:"text"}),r.createElement(i._P,{field:"descr",header:"Description",filteringType:"text"}),r.createElement(i._P,{field:"item_uoms.descr",header:"UOM",filteringType:"text"}),r.createElement(i._P,{field:"grouptype",header:"Group Type",filteringType:"text",displayValueGetter:function(e){switch(e.grouptype){case"L":return"Linear";case"S":return"Simple";default:return"NA"}}}),r.createElement(i._P,{field:"mixtype",header:"Mix Type",filteringType:"text",displayValueGetter:function(e){switch(e.mixtype){case"F":return"Fixed";case"V":return"Variable";default:return"NA"}}}),r.createElement(i._P,{field:"scope",header:"Scope",filteringType:"text",displayValueGetter:function(e){switch(e.scope){case"P":return"Project";case"U":return"Universal";default:return"NA"}}}))},Pt=r.createElement(a.AW,{path:"itemgroup"},r.createElement(a.AW,{path:"new",element:r.createElement(It,null)}),r.createElement(a.AW,{path:":id/edit",element:r.createElement(It,null)}),r.createElement(a.AW,{index:!0,element:r.createElement(Ot,null)})),wt=n(402),Nt=function(){var e,t,n,c=(null===(n=null===(t=null===(e=(0,v.aC)().user)||void 0===e?void 0:e.role[0])||void 0===t?void 0:t.access)||void 0===n?void 0:n.map((function(e){return e.name})))||[];return r.createElement(a.Z5,null,c.includes("Inventory")?r.createElement(a.AW,{path:"/",element:r.createElement(i.SV,{navItems:u})},r.createElement(a.AW,{index:!0,element:r.createElement(a.Fg,{to:"items",replace:!0})}),Y,re,Pe,Ae,Ge,He,st,Pt,(0,wt.Z)(o),r.createElement(a.AW,{path:":page/comming-soon",element:r.createElement(i.hg,null)}),r.createElement(a.AW,{path:"*",element:r.createElement(i.EN,{relative:!0})})):r.createElement(a.AW,{path:"/",element:r.createElement(i.SV,{navItems:u})},r.createElement(a.AW,{path:"*",element:r.createElement(i.Sd,{relative:!0})})))}}}]);
//# sourceMappingURL=593.67a42460.chunk.js.map